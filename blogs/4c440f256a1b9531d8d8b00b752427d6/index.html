<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="author" content="yamadashy"><meta name="robots" content="index, follow"><meta property="og:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta property="og:title" content="Recruit Engineerのフィード｜企業テックブログRSS"><meta property="og:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta property="og:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta property="og:type" content="website"><meta property="og:site_name" content="企業テックブログRSS"><meta property="og:locale" content="ja_JP"><meta name="twitter:card" content="summary"><meta property="twitter:domain" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta 
property="twitter:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta name="twitter:title" content="Recruit Engineerのフィード｜企業テックブログRSS"><meta name="twitter:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="twitter:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta name="thumbnail" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><link rel="preload" href="../../styles/bundle.css" as="style"><meta name="google-site-verification" content="GPLvXv8kYtLMW912ZS54DKFEZL6ruOrjOFLdHVTo37o"><link rel="shortcut icon" href="../../images/favicon.ico"><link rel="apple-touch-icon" href="../../images/apple-icon.png"><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../feeds/atom.xml"><link rel="alternate" type="application/rss+xml" title="RSS2.0" href="../../feeds/rss.xml"><link rel="alternate" type="application/json" 
href="../../feeds/feed.json"><link rel="stylesheet" type="text/css" href="../../styles/bundle.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CNNNTL0NB3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CNNNTL0NB3")</script><title>Recruit Engineerのフィード｜企業テックブログRSS</title></head><body><header role="banner" class="ui-section-header"><div class="ui-layout-container"><div class="ui-section-header__layout ui-layout-flex"><a href="https://yamadashy.github.io/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/icon.png" alt="サイトロゴ" loading="eager" width="96" height="96"> <span class="ui-section-header__title">企業テックブログRSS</span> </a><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/github-mark.png" alt="GitHubロゴ" loading="eager" width="96" height="96"></a></div></div></header><main role="main"><nav 
class="ui-nav"><div class="ui-layout-container"><div class="ui-section-nav__layout ui-layout-flex"><a class="ui-section-nav__link" href="../../">フィード</a> <a class="ui-section-nav__link" href="../../hot/">人気フィード</a> <a class="ui-section-nav__link" href="../../blogs/">ブログ一覧</a></div></div></nav><section class="ui-section-content ui-section-feed"><div class="ui-layout-container"><h2 class="ui-typography-heading">Recruit Engineer</h2><div class="ui-container-blog-summary"><div class="ui-blog-summary"><a class="ui-blog-summary__link" href="https://engineer.recruit-lifestyle.co.jp/techblog">https://engineer.recruit-lifestyle.co.jp/techblog</a><p class="ui-blog-summary__description">リクルートのTech Blogです。</p></div></div><h3 class="ui-typography-heading">フィード</h3><div class="ui-section-content--feature ui-layout-grid ui-layout-grid-3 ui-container-feed ui-container-feed--no-image"><div class="ui-feed-item"><a class="ui-feed-item__og-image" 
href="https://engineer.recruit-lifestyle.co.jp/techblog/2022-03-22-bff-perf-optim/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2022-03-22-bff-perf-optim/">Java と AWS X-Ray が関係する並列処理のハマりポイント</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは。学生アルバイトをしている美馬 隆志と申します。バックエンドエンジニアとして、『ホットペッパービューティー』内の「美容クリニック(美容クリニックのカウンセリング予約ができるサービス)」を担当しています。今回取り組んだタスクは美容クリニックのクライアントが使う管理サービスにある、請求画面の高速化でした。具体的には、管理サービスの大半のページが0.5秒程度で表示されるのに対し、請求画面の表示には2〜3秒程度を要していました。このページ表示速度を高速にすることで、美容クリニックを利用するクライアントの体験を良くすることができると考えました。結果的に、並列処理を実装することで既存実装の2倍以上の高速化を実現することができました。しかし、今回実施した高速化手法をテックブログとして寄稿するだけでは汎用性に乏しく、エンジニアの読者に有益な情報にはなりにくいと思われます。そこで、本記事では高速化のタスクを進めるときに気づいた Java と美容クリニックで利用している AWS X-Ray が関係する並列処理のハマりポイントを紹介します。そのために、まず美容クリニックにおけるシステムの概観を紹介し、 その次に並列処理のハマりポイントとしてなぜ、ただ並列処理を実装するだけでは問題があるのか親スレッドと子スレッドで共有されない情報と、その情報を並列処理でも利用するための方法スタックトレースが長くなる問題と解決策の 3 点を紹介します。目次美容クリニックにおけるシステムの概観なぜ、ただ並列処理を実装するだけでは問題があるのか親スレッドと子スレッドで共有されない情報と、その情報を並列処理でも利用するための方法AWS X-RayのトレースセグメントLog4jのContextMapスタックトレースが長くなる問題と解決策まとめおわりに美容クリニックにおけるシステムの概観美容クリニックの Web アプリケーションは、レンダリングエンジンと BFF (Backend for Frontend) を含むフロントアプリケーションと DB 等と接続されている API で構成されています。これらは Spring Boot フレームワークを利用した Java で開発されています。今回のアルバイトで改善したのは BFF の実装だったため、連携している Elasticsearch や CDN といっ
</div><div class="ui-feed-item__date" title="2022-03-22 01:00:00">2年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-07-09-migrate-letsencrypt-to-gclb-on-istio/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-07-09-migrate-letsencrypt-to-gclb-on-istio/">Istio で使っていた SSL 証明書システムを変更しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにKnile（発音は “ナイル&quot;）という、リクルートのデータ利活用基盤のチームでアプリケーション開発、SRE をやっている多田です。Knile とは、以前 CET と呼ばれていたチームが開発するデータ利活用基盤です。以下の過去記事が関連するシステムになります。Jupyter だけで機械学習を実サービス展開できる基盤Istio で実現する A/B テスト基盤Knile はかつて「株式会社リクルートライフスタイル」所属のプロダクトでしたが、2021年4月の組織改編 により「全社横断」としての役割も期待されており、活用シーンの多様化と要求されるシステム性能のバランスにうれしい悲鳴をあげています。この記事では、Knile のコンポーネントの１つである「Knile API」の SSL 証明書を変更した経緯やその際に検討・考慮したことを共有します。目次Knile API とは？Istio と cert-manager と Let’s Encrypt雲行きの怪しい Let’s Encrypt と決断代替案の検討NEG と Kubernetesまとめ一緒に働きませんか？Knile API とは？Knile API は、リクルートの旅行事業・飲食事業・ビューティ事業といった様々なサービスでデータ活用施策に利用される社内 PaaS / FaaS のような API プラットフォームです。呼び出し元は、各サービスのバックエンドサーバなこともあれば、サービスの利用ユーザーのブラウザやアプリから直接呼ばれることもあります。Knile API には 5 つのサブコンポーネントがあり、GKE 上の Istio によるサービスメッシュにより連携されています。図内の Istio ロゴは 以下のページより引用: https://istio.io/これらは基盤として社内に開放されており、アプリケーション開発のスキルに自信がないデータサイエンティストでも開発や運用の負担を最小限に API を本番反映できることを目指しています。Istio と cert-manager と Let’s EncryptKnile API の GKE クラスターを構築し始めたのは 2 年前の 2019 年夏でした。その頃はどこまで社内で利用されるか、どれくらい重要な施策が基盤上で稼働するか不透明であったことから運用負担の削減
</div><div class="ui-feed-item__date" title="2021-07-09 01:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-06-24-hpbc-sre/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-06-24-hpbc-sre/">「ホットペッパービューティー」美容クリニックでのSRE活動</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
ホットペッパービューティーの美容クリニックのカウンセリング予約ができるサービス（以降 美容クリニック）にて SRE を担当している川村です。この記事タイトルに興味をもって読み始めていただいている方の多くは実際に SRE として活動されていたり、もしくは SRE に興味を持っている方なのではないかと思います。私は美容クリニックにて SRE を担当して約 1 年が経ちますが、元々はサーバサイドエンジニアとして開発を行っておりました。当時は SRE という言葉を聞いたことがある程度の状態だったのですが、試行錯誤しつつも様々な SRE 活動に取り組むことにより SRE が果たすべき使命がわかるようになってきています。そこで、本記事では美容クリニックをリリースした 2020 年 3 月から約 1 年間で SRE チームが取り組んできた活動のいくつかを紹介させていただこうと思います。目次前提知識SRE チームの組閣アクションと狙い課題SRE 活動事例DX ( Developer eXperience ) の改善活動中長期計画の策定開発 KPIの策定と各種モニタリングの整備本番障害一次受け体制の構築まとめさいごに引用前提知識SRE の取り組みを理解してもらうために、美容クリニックの開発体制を少し紹介させてください。美容クリニックでは以下のような開発体制と役割になっています。役割ミッション開発統括・開発計画の作成・コスト管理開発チームリーダー・開発内課題解決・障害管理・チーム運営開発チームテックリード・技術相談窓口・本番作業最終レビューアプリ開発チーム・各案件の実行計画立案、実行SRE チーム・（以降で説明する内容のため割愛）QA チーム・各案件でのテストの計画/設計/実行美容クリニックは新規体制用の少人数体制で開発を行っており、その内の約 7 割がアプリ開発をしているエンジニアとなっています。一方で、SRE は全体の約 1 割の人数しかいないという状況にあります。この SRE の人数が少ないかどうかは扱っているシステムの規模や課題によって評価が変わるかと思いますが、美容クリニックが現在抱えている課題の量に対しては少ない人数だと感じています。では、このように限られた人数の中でどのようにして SRE 活動を行ってきたのかを紹介していきます。SRE チームの組閣美容クリニックのリリース
</div><div class="ui-feed-item__date" title="2021-06-24 03:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-04-22-hpbc-search-dictionary/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-04-22-hpbc-search-dictionary/">「ホットペッパービューティー」美容クリニックでのElasticsearchのユーザー辞書登録による検索改善</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめに『ホットペッパービューティー』美容クリニックのカウンセリング予約サービス(以降、美容クリニック)のバックエンドを担当している安達です。本記事では、美容クリニックでの全文検索エンジンの利用と形態素解析器でのユーザー辞書登録の取り組みについて紹介します。美容クリニックでの検索機能の技術スタックは以下です。役割技術備考全文検索エンジンElasticsearchElastic Cloudで運用しています形態素解析器SudachiSudachiの辞書はUniDicとNEologdをベースに作られており専門家により継続的に更新されています(参考)美容クリニックにおけるElasticsearchの利用例美容クリニックでの全文検索の例を紹介します。美容クリニックではクリニックを検索し、カウンセリング予約できます。検索キーワード(画像青枠部分)を入力し検索すると、それに適したクリニック(画像黄枠部分)とキーワードに対応したクリニックの施術メニューがピックアップ(画像緑枠部分)され表示されます。クリニック検索と施術メニューピックアップは内部的に独立した検索になっており、両方ともElasticsearchにより実装されています。クリニック検索ではNgramと形態素解析を併用し、施術メニューピックアップでは形態素解析のみで検索しており、要件により使い分けています。Ngramと形態素解析の検索ノイズと検索漏れの特徴は以下です。検索ノイズ検索漏れNgram多い少ない形態素解析少ない多いクリニック検索では、Ngramと形態素解析を併用することにより検索結果のヒット数を担保しつつ検索ノイズの増加による悪影響をスコアソートにより軽微なものに抑えています。施術メニューピックアップのための全文検索では、検索ノイズが少ない形態素解析のみを利用しています。美容クリニックでの検索における問題形態素解析では、辞書に含まれている単語の集合に基づいて形態素が認識されます。Sudachiの辞書において美容医療の専門用語が網羅されておらず、問題が発生します。形態素解析で専門用語がカバーされていない問題上記の表の通り、形態素解析では検索漏れが多いです。例えば、「ダーマペン」は美容医療では人気な単語ですが、Sudachiに搭載されているデフォルトの辞書ではカバーされていないので、形態素として抽出されません。形態素解
</div><div class="ui-feed-item__date" title="2021-04-22 01:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-03-31-four-keys/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2021-03-31-four-keys/">Four Keys 〜自分たちの開発レベルを定量化してイケてる DevOps チームになろう〜</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこの記事タイトルに興味をもって読み始めていただいている方の多くは、ソフトウェアエンジニアとしてチームで開発をしていたり、エンジニアリングマネージャーとしてチームビルディングやマネジメントをされている方なのではないかと思います。実際、この記事を書いている加藤も、リクルートライフスタイルのデータプラットフォームグループ (以前は CETチーム と呼ばれていました) に所属するデータエンジニアとして、データ活用のための基盤開発・運用を行っている一人です。また、担当している社内データプロダクトのプロダクトマネージャーも兼任しています。本記事では、自分の所属している DevOps チームを「イケてる DevOps チーム」にするために取り組んだ内容や気づいた点をお伝えしたいと思っています。目次はじめに「イケてる」DevOps チームってなに？Four Keys とはなぜ Four Keys を選んだのか自動収集・可視化の仕組みの構築アーキテクチャ収集: GitHub Webhookデプロイ頻度・リードタイム計測のための収集変更失敗率・復元時間計測のための収集Webhook Server の設定蓄積: BigQuery Logging Sink加工: Changes/Deployments/Incidents テーブルの作成可視化: データポータル結果発表: 私たちはイケているチームだったのか取り組みを通じてチームで意識するようになったこと推測するな、計測せよなるべく世の中基準の指標/定義を使う自動化できるものは自動化する終わりに一緒に働きませんか？参考一覧「イケてる」DevOps チームってなに？さて、いきなりですが、「イケてる」DevOps チームといったときに皆さんは何を思い浮かべるでしょうか？「チームで作っているプロダクトやシステムが価値を発揮している」ことが認められれば、イケていると言えそうですね。もしくは「心理的安全性が高い環境が整っていること」だったり「HRT の原則を守っているチーム」のようなメンバーコンディションの側面もありそうです。チームの目的や成熟度などによって、イメージするものは様々かと思います。実際、チームのパフォーマンスを測る指標は数多く存在します。例えば、Google re:Work - チーム では、心理的安全性や相互信頼といった観点が重
</div><div class="ui-feed-item__date" title="2021-03-30 15:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-10-27-rb-progressive-vue-replace/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-10-27-rb-progressive-vue-replace/">「レストランボード」における大規模フロントエンドの漸進的なVueリプレイスの取り組み</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは、レストランボード（以下、RB）のフロントエンドチームの石亀です。担当していた規模の大きめなプロジェクトでVueを結構触っていまして、設計含め困難と向き合いながら色々取り組ませてもらったのでそれをナレッジとして残そうと思い記事を書くことになりました。エモいですね。RBは現在自社のフレームワークで構築されていて、徐々にVueでリプレイスをかけています。今回、大規模なプロジェクトにてVueでさらなるリプレイスを実行しましたが、プロダクト自体がとても大きく且つ限られたリソースの中でいかに負債化させずにできるだけ安全に移行させるかを検討しました。 そこで実際に実施した施策や検討内容などを紹介します。おそらく、多くのサービスやプロダクトで既存のコードを新しいライブラリ・フレームワークで書き換えているかと思います。背景だったり関わる規模・コンテキストが異なるとは思いますが、1つのナレッジとして参考になればと思います。レストランボードの現状と調査・分析技術構成についてRBのフロントエンドでは2つのフレームワークで稼働していて、Vueと自社フレームワーク（以下、自社FW）で構成されています。RB全体ではVueも段階的に導入されているため、MPA+SPAのような構成になっています。各サーバーサイドテンプレートに対してそれぞれのスクリプトのエントリーポイントが存在していて、そのエントリーポイントによってどのフレームワークを使うか、あるいはモバイル用なのかデスクトップ用の資材を読むのかが変わるような構成になっています。開発環境は、webpack, ESLint, Prettier, Storybook, デザインはAtomic Designを導入しています。チーム・組織による課題について当初からあった課題感技術構成でも説明した通り、RBではメイン機能が自社FWで作られているので、チームメンバーがフロントエンドだけで20人前後いることもありフレームワークの習熟度や理解度などにばらつきが出てきます。そうなると、自社FW自体が高度な機能を有してはいるものの独自フレームワークであるため学習コストが非常に高く、すぐにキャッチアップできる即戦力人員の採用も簡単でないので、運用の難易度やコストが増大します。また、エコシステムや関連ライブラリが無く汎用性や拡張性が低いので、フレームワー
</div><div class="ui-feed-item__date" title="2020-10-27 01:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-10-08-iosdc2020/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-10-08-iosdc2020/">iOSDC Japan 2020で登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！『じゃらんnet』のアプリ開発を担当している桐山です。先日開催されたiOSDC Japan 2020において、リクルートライフスタイルから２名が登壇しました！本記事ではそこで発表した内容を紹介致します。iOSDC Japan 2020iOSDC Japanは、iOS関連技術をコアのテーマとした技術者のためのカンファレンスです。2016年から毎年開催され、今年は５回目の開催でした。今年のiOSDC Japanは、新型コロナウイルスの影響でオンラインで開催されました。ニコニコ生放送で、事前収録した発表動画が配信される形式で、自身の発表を見ながら頂いたコメントにリアルタイムで返答するという、オフラインのカンファレンスにはない面白い体験をすることができました。Flutter移行の苦労と、乗り越えた先に得られたものまずスポンサーセッションとして桐山圭祐(@kiri)が、「Flutter移行の苦労と、乗り越えた先に得られたもの」というタイトルで発表しました。発表のメインテーマであるFlutterは、Googleが開発しているクロスプラットフォームのフレームワークです。Flutterを使用すれば、一つのコードベースで、複数のプラットフォームのアプリケーションを構築することができます。iOS/Androidともに2020年でリリースから10年を迎えたじゃらんnetアプリは、現在更なる開発効率と品質向上を目指し、Flutterへの順次移行を進めています。本発表では、その移行の過程で得られた知見についてお話しました。具体的な内容は以下です。じゃらんnetアプリでFlutter移行を行っている背景じゃらんnetアプリではどのようにFlutter移行を行っているのか移行の過程で直面した技術的課題の紹介Flutterを採用したことで得られたメリット詳しくは以下のスライドをご覧ください。 Flutter移行の苦労と、乗り越えた先に得られたもの from Recruit Lifestyle Co., Ltd. また、セッション動画も公開されています。こちらも是非ご覧ください。発表後のAsk the speaker(登壇者に質問できる場)では、多くの方に質問を頂きFlutterに興味を持っている方がとても増えているなと感じました。本発表をきっかけとしてより多くのプロダクトにFlutte
</div><div class="ui-feed-item__date" title="2020-10-08 01:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-09-25-docker-build/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-09-25-docker-build/">CI での Docker Build のベストプラクティスを考えてみた</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
要約Docker in Docker な CI では、以下の Docker Build をオススメします。スクリプトBuildx を使うBuildx を使えないならば、BuildKit + –cache-fromオプションを使うDockerfileステージ間の依存を弱くする(依存インストールとビルドを分ける)中間イメージも軽量化する不要なキャッシュを削除ファイル変更差分によりますが、これらにより最大 1/3 へビルド時間を短縮しました。はじめに『ホットペッパービューティー』美容クリニックのカウンセリング予約サービスのバックエンドを担当している安達です。新卒として 4 月に入社して、5 月中旬に美容クリニックに配属され、すでに約 4 ヶ月が過ぎました。まず、チーム内で自分が活躍できる庭を作りたかったため Docker について詳しくなろうと思いました。そこで、CI 上での Docker Build の改善タスクがあったので積極的にやってみることにしました。この記事では、新人が Docker Build の最適化を通じて学んだ知見や失敗をまとめます。対象読者は、Docker Build を早くしたい方、Docker イメージを軽量化したい方です。これにより、CI/CD の高速化、Pull, Push の高速化、セキュリティ向上が期待されます。美容クリニックでは 4 つのフロントアプリケーションと 5 つの API、バッチアプリケーションの全てがコンテナ化されており、ECS で本番稼働しています。アーキテクチャや技術スタックについてはこちらの記事を参照してください。美容クリニックでは以下のような CI/CD のフローになっています。Jenkins から CodeBuild プラグインを利用して CodeBuild 上で Docker Build を行い ECR へ Push しています。チームで定期的に開発業務を改善するためのヒアリングが行われており、Docker Build に時間がかかりすぎるという声がエンジニアからありました。そのため、CodeBuild 上での Docker Build を高速化していきました。高速化に伴い、Docker イメージの軽量化も行いました。CodeBuild 特有の話もありますが、Docker Build 共通の話が多いので他の CI
</div><div class="ui-feed-item__date" title="2020-09-25 02:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-09-25-isucon10-qualify/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-09-25-isucon10-qualify/">ISUCON10予選に参加しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。飲食領域でテックリードをしている浅野です。ISUCON10予選に参加させてもらっていました。結果は初歩的なミスにより予選落ちとなってしまったのですが、一応参考スコアとしてはトップを記録していたので参考までにやったことの共有と、今後同じようなミスをするチームが出てこないよう啓蒙を兼ねて記事にさせていただきます。やらかしの部分だけ知りたい方は結果まで飛ばしてください。ISUCONについてIikanjini Speed Up Contest の略で、LINE社主催で開催されているWebアプリケーションのチューニングを競うコンテストです。また、今回はリクルートも問題作成に協力しており、ISUUMOというどこかで聞いたことがあるオリジナリティ溢れる不動産サービスがテーマになるなど、会社としても注目度の高いイベントとなりました。自分自身、ISUCONにはISUCON5から参加しており、社内ISUCONの運営に携わったこともあったりと非常に思い入れが強いイベントになっています。また、前回のISUCON9では初めて本戦に出場することができたのですが結果が奮わず、今回はそのリベンジのために普段以上に気合いを入れて臨んでいました。なお、前回リクルートから本戦に出場したチームは私たち theorem の他に2チームいたのですがisucon_friends → 今回の問題作成担当ふんばり温泉チーム → 今回も本戦出場とそれぞれ継続して成果を残しており、正直若干凹んでいます。当日の動きさて、本題です。大まかに取り組んだ内容を解説できればと思いますが、当日利用していたリポジトリを公開しているので、詳細が気になる方はそちらも参照ください。なお、気合を入れて臨んだと書いておきつつ事前準備的なことは正直ほとんどしておらず利用するコミュニケーションツールの選定miroの利用も考えてましたが結局出番はありませんでした情報共有用のスプレッドシートの用意序盤の時間の使い方の確認くらいで、「後は流れで」という感じで当日を迎えました。回数をこなした上での慣れと私たちのチームがそれで馴染んでいるというのもありますが、ISUCONは最終的にはその場での閃きとアドリブがものをいうので、あまり事前に詰めすぎても良くないんじゃないか、というのが私の所感です。12:20 - 14:00開始から1時間半くらいはコ
</div><div class="ui-feed-item__date" title="2020-09-25 01:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-09-11-perf-optim/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-09-11-perf-optim/">計測・検討・対処のプロセスでWebサービスのパフォーマンスを改善する</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにはじめまして、ホットペッパービューティーコスメ（以下HPBC）にてフロントエンドエンジニアとして学生アルバイトをしている柏です。Webサービスで普遍的にもとめられる指標にパフォーマンスがあります。素早く表示されるWebサービスはユーザー体験が良く、コンバージョンや直帰率などにも関係があると言われています。HPBCでは、チーム一丸となってパフォーマンスの改善に継続的に取り組んでいます。6週間のアルバイト期間で、HPBCのBFF(Backend for Frontend)の性能改善に取り組ませていただき、結果としてレスポンスタイムを200ミリ秒程度短縮することができました。本記事では、その取り組みをテーマに計測を通してパフォーマンスのボトルネックを発見する方法、そして開発の速度を落とさずそれらを解消することについて、ご紹介します。目次HPBCの構成と課題Cloud Traceを用いて処理を俯瞰する区間②: APIからBFFまでの遅延仮説1: ページURL仮説2: サーバーリソースの不足仮説3: 検証環境へのベンチマークツールを使った検証サンプルコードでの実験対応策の検討区間③: HTML生成の高速化V8 Profiler, Performance Measurement APIを使ったNode.jsの処理の調査改善箇所の検討SeparateKeyframesの無効化StyleLintのルールを追加し、非効率なCSSの記述を禁止するstyled-components 由来の不要なコメントを削除するAutoExtensionImporterの無効化結果パフォーマンス改善に取り組むにあたって全体を見渡すところから始めること計測をすること処理の役割とパフォーマンスへの影響を比較することまとめHPBCの構成と課題Web版ホットペッパービューティーコスメでは、Next.jsやReact、styled-components、AMPといった技術を利用しています。クライアントサイドではAMPをフレームワークとして利用することで高いパフォーマンスの維持を狙いつつ、Next.jsを用いてReactで書かれたページをサーバーサイドレンダリング（以下SSR）することでWebフロントエンド開発におけるJavaScriptの資産を活用しています。ユーザーがページをリクエストしてから実際にペー
</div><div class="ui-feed-item__date" title="2020-09-11 01:00:00">3年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-06-22-image-upload/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-06-22-image-upload/">「HOT PEPPER Beauty」美容クリニックにおける画像アップロードシステム</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
HOT PEPPER Beauty の美容クリニックのカウンセリング予約ができるサービス（以降 美容クリニック）にて SRE を担当している川村です。もともとは美容クリニックにおいてバックエンドを担当していたのですが、2020年4月から SRE を担当しています。本記事では美容クリニックにてクリニック情報を入稿するための社内システムにおいて利用している画像アップロードのシステム設計について紹介します。画像アップロードは一般的な Web サービスにおいて当たり前の機能の一つではありますが、美容クリニックでは画像アップロード要件などの兼ね合いから少し複雑なシステム設計を行っております。美容クリニックにおける画像アップロード要件と併せて、画像アップロードシステムの設計意図をお伝えできればいいなと思います。美容クリニックのシステム概要と画像アップロード要件本題に入る前に、美容クリニックの Web アプリケーションのアーキテクチャをおさらいしましょう。こちらの記事 にもあるように、美容クリニックの Web アプリケーションはフロントアプリケーションと API アプリケーションに分かれており、それぞれが責務を分担していました。さらに、クラウドサービスとして AWS を採用しています。本記事で紹介する画像アップロードシステムは、以下のようなクリニックページに表示されている画像を登録する際に利用されています。上記のクリニックページはクリニック情報を入稿する社内システムを利用して入稿されたデータによって構築されています。この社内入稿システムの機能の一つに本記事で紹介する画像アップロードが存在しています（下記イメージ参照）。では、社内入稿システムにおいて以下の画像アップロード要件を実現することを考えてみましょう。画像アップロード要件入力画面でアップロード画像を選択 → 画像をサムネイル表示 → 登録の 3 ステップ構成で画像をアップロード（下記イメージを参照）入力画面にてアップロード画像を選択するのと同期的に画像に対するバリデーションを実施（ex. 画像の拡張子、サイズ、etc.）バリデーションが OK だった画像のみ、入力画面にてサムネイル表示。サムネイル表示する画像は EXIF 情報の削除、カラープロファイルの保持や回転処理等の画像加工処理を実施済みであること。画面に関しては、よく
</div><div class="ui-feed-item__date" title="2020-06-22 01:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-05-22-springboot-versionup/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-05-22-springboot-versionup/">Spring Boot 2.1系から2.2系にバージョンアップした話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
HOT PEPPER Beauty でバックエンドを担当している奥冨です。先月 HOT PEPPER Beauty に美容クリニックのカウンセリング予約ができるサービス（以降 美容クリニック）が追加されました。美容クリニックでは Web フレームワークとして Spring Boot を採用しており、本記事では開発中に行った Spring Boot のバージョンアップについて Spring Boot の変更点、そしてプロジェクトでどう対応したのか解説します。今回は Spring Boot 2.1.1.RELEASE から 2.2.1.RELEASE へバージョンアップした際の一例を紹介できればと思っております。また、先に公開した 美容クリニック紹介記事にて、アーキテクチャ及び開発体制について紹介させて頂いております。よろしければ、そちらもご参照ください。「HOT PEPPER Beauty」美容クリニックをリリースしましたバージョンアップ対応ざっくり以下の手順で対応を進めていきました。Spring Boot 2.2 Release Notesを読んで影響調査Spring Boot バージョンを 2.2 系に変更エラーを解消するビルドエラーを解消する挙動が変わった箇所を対応するver2.1.1 から 2.2.1 への変更点Spring Boot 2.2 Release Notesに記載されている変更点を確認します。以下に大きな変更点をまとめます。項目変更点Upgrading to Version 5.2Jackson の必須バージョンが 2.9.7+になりました ＠Configration に proxyBeanMethod オプションが追加されました (default = true) Spring が返す ContentsType が変更になりました(“application/json;charset=UTF-8” → “application/json”)Deprecations from Spring Boot 2.12.2 系の時点で削除されたクラス、アノテーションなど @WebMvcTest の secure オプションが廃止されました 直接のリストはないので Spring Boot 2.1 の非推奨リスト から確認JMX now disabled by de
</div><div class="ui-feed-item__date" title="2020-05-22 01:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-04-27-hotpepper-beauty-clinic-released/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-04-27-hotpepper-beauty-clinic-released/">「HOT PEPPER Beauty」美容クリニックをリリースしました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
HOT PEPPER Beauty EngineerLead 兼美容クリニック開発統括の岩永です。先日 HOT PEPPER Beauty に新しく美容クリニックのカウンセリング 予約ができるサービス をリリースしました。本記事では HOT PEPPER Beauty の美容クリニック（以下 美容クリニック）のアーキテクチャ &amp; 技術スタック、開発体制など 美容クリニックのプロダクト開発の概要を紹介していきます。アーキテクチャ &amp; 技術スタックアプリケーションのアーキテクチャ美容クリニックでは Web アプリケーションと Batch アプリケーションがありますが、Web アプリケーションはフロントアプリケーション、API アプリケーションの分離(以下 フロント/API 分離)取り扱う業務ドメインごとの API 分離(以下 API ドメイン分離)を行っています。フロントアプリケーションは全部で 4 つのアプリケーションから構成されていますが、そのうち予約管理を行うシステムを例にすると、以下のような構成になっています。まず、フロント/API 分離についてですが、フロントアプリケーションと API アプリケーションで以下のような責務分担で分離しています。フロントアプリケーションの責務正しい情報を画面に表示させること(必要に応じてデータ加工など)画面遷移に関わる制御処理認証ロールや所属組織による権限管理・処理API の責務業務ロジックデータの永続化これにより、画面に関わる関心事と業務に関わる関心事を分離して複雑性を減らすという効果と、画面周りの修正頻度とビジネスロジックの修正頻度の差をうまく吸収してリリーススコープの限定化などが可能になりました。次に API のドメイン分離についてですが、以下のように業務ドメインごとに分離しています。営業の契約受注、掲載原稿の入稿に関する業務予約精算に関する業務会員に関する業務これにより業務に関わる関心事をできるだけ凝集度高く実装し、相互の依存を最小化したことで分業が可能になり、加えて業務ごとの負荷に応じて柔軟にスケールアップ・スケールアウトが可能になりました。とくに今回のサービスではとくに美容クリニックは幅広い業務をカバーする必要があり、システム規模が大きいため、開発メンバーそれぞれがすべての業務や技術スタック、アーキテクチャを理解すると
</div><div class="ui-feed-item__date" title="2020-04-27 02:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-04-17-add-to-app/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-04-17-add-to-app/">【Flutter】iOSプロジェクトへのAdd-to-appにおける3つのOptionの比較</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートライフスタイルで「じゃらん」のアプリ開発を担当している桐山です。以前、FlutterのUI構築の仕組みについて記事を書きました。今回は既存のiOS/AndroidプロジェクトにFlutterプロジェクトを組み込む仕組みである、Add-to-appについて紹介いたします。Add-to-app既存のiOS/AndroidプロジェクトにFlutterを導入したい場合に、プロジェクト全体を書き換えることが容易ではない場合が存在します。その様な場合にFlutterは、Flutterプロジェクトを既存のiOS/Androidプロジェクトに組み込む仕組みを提供しています。その仕組みがAdd-to-appです。Add-to-appのドキュメントでは、iOSプロジェクトとAndroidプロジェクトへのAdd-to-appの方法が紹介されています。iOSとAndroidのAdd-to-appの方法は異なりますが、我々のチームではまず既存のiOSプロジェクトに対してAdd-to-appを導入したため、以下ではiOSプロジェクトを対象としたAdd-to-appについて言及します。なお、AndroidプロジェクトへのAdd-to-appは今後導入予定で、Androidに関する記事はそのタイミングで公開したいと思います。iOSプロジェクトへのAdd-to-appAdd-to-appのドキュメントでは、Option A、Option B、Option Cの3つの方法が紹介されています。(2020/4/13 現在)Option概要Option ACocoapodsを使用してFlutterプロジェクトを組み込むOption B必要なFrameworkを生成し、手動でiOSプロジェクトに追加するOption COption Bの方法で、Flutter.frameworkをpodspecから取得するこれらの3つのOptionはどの様に使い分けると良いのでしょうか。ドキュメントにも記載はありますが、この記事では実際に導入してみるとどういう違いがあるのかという点について、内部挙動を踏まえた上でメリットとデメリットを整理します。また、どの様なケースにおいてどのOptionを選択すると良いのかについて、私の考えを述べます。Option A - Embed with CocoaPods and the
</div><div class="ui-feed-item__date" title="2020-04-16 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-04-03-refactoring-contest/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-04-03-refactoring-contest/">リクルートリファクタリングコンテストを開催しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
HOT PEPPER Beautyのアプリ開発チームでTechLeadをしている中里です。こちらのブログで告知させていただいた通り、3/20にリクルートリファクタリングコンテストを開催しました。今回は当日の様子を紹介したいと思います。リクルートリファクタリングコンテストとはリクルートリファクタリングコンテストは、HOT PERPPER BeautyのAndroidアプリを題材としたソースコードを、チームでリファクタリングしていき制限時間内でなるべくキレイなコードに書き換えていくコンテストです。今回用意したソースコードは、HOT PEPPER Beautyのアプリを題材としつつも、その全てのコードをリファクタリングしようとすると仕様理解だけで時間が終わってしまうため、「サロン検索」「サロン詳細の閲覧」「サロンのブックマーク」という3つの機能に絞ったものにしました。また、HOT PEPPER Beautyのアプリでは普段からリファクタリングに取り組んでいるため、今回の課題向けにあえてレガシーな書き方や危険な書き方に変更したものを用意しました。通信処理をHttpsURLConnection＋AsyncTaskに書き換えてみたり、データベースをSQLiteOpenHelperで書き直してみたり、FragmentのViewをlazyで定義してみたりと、普段とは逆の頭の使い方をしたので、これはこれでちょっと面白かったです。また、様々なレベルの参加者がいる中で、いきなりコードを渡されても何をして良いか分からない場合もあると思ったので、GitHubのIssuesにあらかじめリファクタリングの指針をいくつか用意してみました。ただ、Issuesはあくまで指針として使うもので、コンテストは「様々なメンバーが、素早く、安全に改善していけるコード」に書き換えることを目的としました。また、最後に各チームから、どのような方針でどのようなリファクタリングをしたかを簡単に発表してもらいました。リファクタリングにはハッキリとした正解がなく、Issueの解決数を競うわけでもないため、特に優勝といったものは決めませんでしたが、コンテストということで、コードの内容と発表結果に応じて、実際にHOT PEPPER Beautyを開発しているエンジニアが審査員賞を決める、というルールにしました。当日の様子当日は、
</div><div class="ui-feed-item__date" title="2020-04-03 01:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-01-22-refactoring/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2020-01-22-refactoring/">『HOT PEPPER Beauty』Android リファクタリングコンテストを開催します！</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、HOT PEPPER BeautyのiOS/Androidアプリ開発を担当している兒玉です。この度、学生〜社会人2年目の方を対象とした「リクルートリファクタリングコンテスト」を開催することになりました。今回はその告知をしようと思います！リクルートリファクタリングコンテストとはリクルートリファクタリングコンテストは、『HOT PERPPER Beauty』の Androidアプリケーションの一機能を題材として、コンテスト用に作成されたAndroidアプリケーションのリファクタリング課題に取り組むコンテストです。日本最大級のビューティ系サロン予約サービスであるHOT PEPPER Beautyの実際のAPIに接続したアプリケーションを用意する予定で、実際に私たちが業務で試行錯誤していることを疑似体験できるのではと考えています。内容日々サービス開発を行なっているリクルートのAndroidエンジニアのメンターの元、参加者の中でチームを作成し、チーム開発形式でリファクタリングに取り組んでいただきます。 リクルート主催スピードハッカソンの時の様子です。コードスメルの解消APIとのインピーダンスミスマッチの解消アプリケーションのモダナイゼーションなどといった実サービスの開発でも直面することが多い技術的負債を、どうリファクタリングしていくのか、みなさんも一緒に手を動かしながらチャレンジしてみませんか？コードフリーズ後にはチームごとにそれぞれが工夫した点などを発表し合う時間を設ける予定です。また、コンテスト終了後は実際に業務上で実践したリファクタリング事例も紹介します！概要対象学生の場合2020年3月末時点で大学生、大学院生（博士後期課程も可）、高等専門学校生のいずれか就業している場合2018年度以降新卒入社者であること日程2020年3月20日（金・祝）10:00 〜 20:00（予定）開催場所株式会社リクルート 本社 グラントウキョウサウスタワーアクセス申し込み方法詳細情報含めてこちらからご確認ください。 最後にAndroid開発が好きな人、リクルートのサービスに興味がある人、自分の腕試しをしたいと思っている人などなど、意欲のあるみなさんのご応募をお待ちしております！</div><div class="ui-feed-item__date" 
title="2020-01-22 01:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-25-python-packaging-specs/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-25-python-packaging-specs/">Python パッケージングの標準を知ろう</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、CET チームの田村真一です。リクルートライフスタイル Advent Calendar 2019 最終日の記事をお届けします。本記事では Python のパッケージングに焦点を当て、2019年末時点でライブラリのパッケージングについて標準がどう定められているのかを紹介します。逆に言うとアプリケーションの依存管理の話ベストプラクティスや便利なツールの紹介Pipenv と Poetry どちらを使うべきか論争は一切しませんのでご了承ください。そもそも「標準」とはさて、本題に入る前に Python における「標準」とは何なのか確認しておきましょう。まず言語仕様に関していえば、C や Ruby のような国際規格に則った「仕様」は存在しません。かわりに language reference と CPython の実装 がデファクトスタンダードとなっています。いっぽうで、Python における「標準」を定めるためのものとして PEP (Python Enhancement Proposal) があります。PEP で採択されたら標準になるというわけですね。ちょうどインターネットにおける RFC (Request for Comment) のようなものです。有名所でいえばPEP 8 ―― Style Guide for Python Code: pep8 コマンドでおなじみPEP 373 ―― Python 2.7 Release Schedule: Python 2 系 EOL まであと1週間！PEP 484 ―― Type Hints: Python にも型の恩恵を！PEP 572 ―― Assignment Expressions: Guido の BDFL 引退の引き金あたりでしょうか。さまざまなことが PEP で決まっていることが分かりますね。なおそれぞれのステータスは、実はさまざまです。PEP 8 や PEP 373 は「永遠に完成しない」active ステータス。PEP 572 は「受領されたが標準実装には入っていない」accepted ステータス（final の1つ手前）。そして PEP 484 は「基本的には accepted だが、final になる前にユーザーからのフィードバックを必要とする」provisional (=“provisionally
</div><div class="ui-feed-item__date" title="2019-12-24 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-24-introduction-of-cloud-nat/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-24-introduction-of-cloud-nat/">チームの基盤にCloud NATを導入しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
CETチーム のやむやむです。この記事は、リクルートライフスタイル Advent Calendar 2019 の24日目の記事です！メリークリスマス！Workload Identityの実基盤への導入でした。 私たちのチームではGKEを使ったAPI基盤やCloud Composerを使ったJob基盤を提供しており、社内のエンジニアがこの基盤上で本番サービス向けの機能を開発しています。 この基盤のNATはGoogle Compute EngineのVMで稼働していましたが、自分たちでNATの管理をするのは運用コストが高く、またスケーラビリティも考慮できていないといった問題がありました。 そんな時、GCPからクラウドマネージドなNATであるCloud NATの提供が開始されたためこれを機にCloud NATへ移行しようということになりました。 しかし私たちの基盤では本番稼働しているAPIもあり、また稼働しているAPIやJobの数も膨大なため「基盤としてダウンタイムを発生させることなく」「出来るだけ移行のコストを下げつつ」マイグレーションを行うこととなりました。 この記事ではマイグレーションの詳細とCloud NATを扱う上でのポイントを紹介していきたいと思います。 既存の基盤とCloud NATの調査既存の基盤既存の基盤ではGoogle Compute EngineのVMとしてNATを構築しており、ネットワーク内のno-ipタグが付与されたVMのトラフィックをNATに流すように設定しています。また外部IPを持っているVMは自身のIPで外部と通信します。 このno-ipタグを付与されているVMはGCEのVMやGKEのNodeなど多岐に渡り、これらを漏れなくCloud NATを経由しての通信となるように移行していく必要があります。 これらの現状の仕様を考慮しつつスムーズにCloud NATに移行する手段として方針に上がったのがCloud NATのSubnetworkによる管理でした。 SubnetworkについてCloud NATではNATを使用するVMをSubnet単位で指定することができます。 例えばCloud NATにSubnet AとSubnet Bを紐づけた場合、Subnet AとSubnet Bに所属するVMはCloud NATを使って通信を行うように設定できま
</div><div class="ui-feed-item__date" title="2019-12-23 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-24-flutter-rendering/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-24-flutter-rendering/">FlutterにおけるWidgetとElementとRenderObjectの基本</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートengineers アドベントカレンダー 24日目の記事です。リクルートライフスタイルで「じゃらん」のアプリ開発を担当している桐山です。われわれのチームでは、「じゃらん」アプリの一部にFlutterを採用しています。また、DroidKaigi 2020において「FlutterをRenderObjectまで理解する」というタイトルで登壇します。本日の記事では、そのDroidKaigiで話す内容の基本的な部分について書いていこうと思います。はじめにFlutterとは、Google製のクロスプラットフォームの開発技術です。一つのコードベースで、複数のプラットフォームのアプリケーションを構築できます。FlutterでUIを構築する際、開発者は基本的にWidgetのみを操作し、その内部の仕組みについて意識する必要はそれほどありません。しかし、内部ではUI構築の最適化のためのさまざまな仕組みがあり、この仕組みによってFlutterは高いパフォーマンスのUI構築を実現しています。そこで、本記事ではFlutterのUI構築のパフォーマンスを最適化するための基本の仕組みと、それに関係するElementとRenderObjectについて紹介したいと思います。FlutterのUI構築開発者は、Widgetをツリー状に組み合わせることによって、UIを構成します。白い背景の中心にテキストを表示するだけの簡単なサンプルアプリを見てみましょう。1234567891011121314void main() =&gt; runApp( Container( color: Colors.white, child: Center( child: Text( &#39;Hello world!&#39;, style: TextStyle( color: Colors.black, ), textDirection: TextDirection.ltr, ), ), ),);この例では、Container -&gt; Center -&gt; TextのようにWidgetがツリー状に構築されています。しかし、FlutterはUIのレイアウトと描画を行う際、このWidgetのツリーは参照しません。FlutterのUI構築には、開発者が記述するWidgetツリーの他に2種類のツリーが関係しています。ツリー役割Widgetツ
</div><div class="ui-feed-item__date" title="2019-12-23 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-23-workload-identity/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-23-workload-identity/">Workload Identityの実基盤への導入</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 23日目の記事です。CETチーム の龍野です。我々のチームでは GKE (Google Kubernetes Engine) を利用した基盤開発が盛んに行われております。 Kubernetes は可用性の高さや複数アプリケーションの実行など、多くのメリットがあるのですが、一方で、 GKE 内で多くのサービスが走ることによって、個々の権限管理などが煩雑になってきます。そこで、本記事では、 GKE 内のサービスでの権限管理をより楽に、堅牢に行うことのできる Workload Identity という仕組みについて紹介します。チーム内での利用事例や、実際に Workload Identity を導入する上での注意点などを中心にお話できればと思っております。19/12/23 時点で、この機能はベータ版なので、GA した際と仕様が異なる恐れがあります。そこだけ注意して読んでいただければと思います。想定読者Kubernetes について多少の理解がある人GKE でサービスを運用していて、鍵管理など煩雑だなと感じている人Workload Identity について存在は知っているけどなかなか導入に踏み出せない人背景まずはじめに、そもそもの背景から。例えば、GKE の中のサービスからCloud Pub/Sub を叩きたいGCS からファイルをダウンロードしたいなどなど、挙げればキリがありません。このような場合、GKE 内の Workload が上記の操作を実行します。 このような、GKE 内のサービスが GKE 外の GCP のサービスと連携する際には今までは2つの方法がありました。サービスアカウントのキーをダウンロードしてきて使用pros: サービスごとに権限を制御できる。cons: キーを JSON 形式で発行し、必要な Workload ごとにコピーする必要があるため管理がしづらい。また、ダウンロードしたキーの有効期間はデフォルトで10年に設定されており、更新しないと失効する (参考)。GKE の裏側にある GCE インスタンスのサービスアカウントをそのまま利用するpros: 一括で権限付与するため管理が楽cons: node 内の Workload 全てに同じ権限が付与される基本的に、1つの GK
</div><div class="ui-feed-item__date" title="2019-12-22 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-22-new-product-infra/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-22-new-product-infra/">新規サービスを支えるための運用と、運用に使用する技術を考える</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 22日目の記事です。私はこれまではずっと大規模プロダクトのインフラの構築・運用を担当していました。今年になって初めて新規プロダクト開発を担当させてもらい、新たな環境・小さなチームで動くことになり、戸惑いや悩みが多々ありました。この記事では、人的・時間的リソースが限られた中で、DevOpsの何にこだわり、何を妥協するのかを明確にするまでの葛藤と、そこから得られた学びについて、共有します。なお、以下で述べることは教科書的な話ではなく、同じ悩みを持つ読者に向けた一事例でしかないことをご了承ください。今回担当した新規プロダクト開発チームの特徴新規サービスを作る際にはMVPを作り小さく検証を繰り返すことはよく採られる手法かと思われます。その場合、できるだけ早くユーザのもとにサービスを届け、価値検証を行なうことが優先されることが多く、必要以上の品質を追求したプロダクト開発は必ずしも求められていることではない場合もあります。また、小さなチームで機動性高くプロジェクトを進める必要があったり、開発メンバーも大規模組織とは違い少人数でプロダクト開発に必要な作業をすべて完遂しなければならないことも間々あります。私の属するチームは開発人数が少なく1人が複数の技術を触らなければなりませんでした。私の場合だとある時期はReactやSpring Bootを触り、後半では本格的なインフラ構築に向けてk8s manifestやTerraformを触る日々を過ごしておりました。このように自分の主担当外の領域にも柔軟に対応し、その都度必要なことをチームとしてやりきる動き方が求められていました。少ないリソースで何をどこまでやりきるか設計をする際にはまず脳内で理想的な設計を行ない、なんとか実現しようとする方もいらっしゃるのではないでしょうか。私はそのタイプで、「可能であればこの設計を実装に反映させ、イケてる運用にしたい!」といった考えが生まれ、そのことばかり考える癖があります。しかし、どのようなプロジェクトでもあることですが、リソースが限られている中でプロダクトを作るとなると、何かにこだわるには何かを妥協しなければなりませんでした。私を含め、メンバー全員が可能な限りアプリケーション開発に集中できる環境にさせたいという思いとは裏腹に
</div><div class="ui-feed-item__date" title="2019-12-21 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-21-serverless-programming-by-pulumi/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-21-serverless-programming-by-pulumi/">PulumiにおけるServerlessアプリケーション開発</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 21日目の記事です。こんにちは！先月のKubeConのセッションを消化しきれないままの年越しを危惧している小谷野（@bandwagondagon）です。みなさんのチームでは、インフラリソースのプロビジョニングには何かツールを使っていますでしょうか？弊社ではTerraform Enterpriseの導入事例で取り上げているようにTerraformを利用しているチームが多いです。TeraformはHCLによってインフラコードを記述するプロビジョニングツールです。このHashiCorp社製言語のHCLは、開発者によって作成・変更がしやすく、さらにJSON互換でマシンフレンドリーという設計思想に基づいて開発されています。一方、最近はAWS CDK がGAになったり、PulumiのVer1.0がリリースされたりなど、TypeScriptやGoなどのプログラミング言語で、インフラのコードを実装するアプローチのプロビジョニングツールの開発も盛んになっているように感じます。そんな中、個人的にTerraformとAWS CDK・Pulumiの機能や開発体験を比較する機会があったのですが、Pulumiは小規模なSeverlessアプリケーション開発において特に相性がよいのでは、感じることがあったので、本記事で紹介したいと思います。Pulumiとは?Pulumi社が開発しているOSSで、JavaScript, TypeScript, Python, Go, .NET系言語などの言語を用いてインフラのコードを記述できるプロビジョニングツールです。Terraform同様にマルチクラウドをサポートしており、各クラウドのプロパイダーや、TerraformのプロパイダーをPulumiのプロパイダーへ変換するようなツールも公開されています。基本機能については公式のドキュメントをご参照下さい。Pulumiはクラウド版での機能が提供されており、無料版・有料版のプランがあります。基本的にはSaaSの利用を推奨しているようですが、ローカルでの利用も可能です。さて、Pulumi社のFounderであるJoe Duffy氏のブログ記事や、Pulumi社が公開しているWhite Paperを見ると、Pulumiが生まれた背景や、ツールと
</div><div class="ui-feed-item__date" title="2019-12-20 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-20-dissecting-redux-store/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-20-dissecting-redux-store/">TwitterやSlackのRedux Storeを覗く</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
この記事はリクルートライフスタイル Advent Calendar 2019の20日目の記事です。HOT PEPPER Beauty cosmeの開発を担当している金井です。今年は社内システムなどのためにReduxを使ったアプリケーションをいくつか書いたのですが、Storeの設計変更は影響範囲が大きく難しいため、Storeの設計は重要だと感じました。他のサービスではどのように設計しているのか気になり、有名なWebサービスの中からReduxを使っているサービスを探してStoreの中を調べました。この記事では、今回調べたサービスのそれぞれのRedux Storeの特徴や設計について紹介します。ただし、個人による自由研究であり、各サービスの公式の見解ではないことはご注意ください。Redux公式が紹介している設計方針各サービスのRedux Storeを覗く前に、Redux公式が紹介している設計方針について確認します。Reduxの公式WebページにはRecipesというページがあり、設計の方針のプラクティスがまとまっています。Recipes: Index · Redux基本構造このRecipesには以下のような3つのdataを作るのが基本だと書いてありました。Domain data: アプリケーションが表示したり変更したりするデータe.g. TODOアプリなら、todo/doing/doneApp state: アプリケーション独自の振る舞いのためのデータe.g. データの選択状態やデータフェッチのローディング状態UI state: 現在の表示方法のためのデータe.g. モーダルが開かれているかどうかなのでStoreは以下のようなオブジェクトになります。12345678910{ domainData1 : {}, domainData2 : {}, appState1 : {}, appState2 : {}, ui : { uiState1 : {}, uiState2 : {}, }}ref: Basic Reducer Structure and State Shape · Redux正規化Recipesでは正規化についても言及しており、リレーショナルデータを管理する場合はデータベースのように正規化することを推奨していました。以下は投稿が複数のコメントを持つ例です。po
</div><div class="ui-feed-item__date" title="2019-12-19 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-19-ios-architecture/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-19-ios-architecture/">業務で採用してみたいiOSアプリのアーキテクチャと技術</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは、初めまして、iOSアプリエンジニアのtasaiです。この記事は リクルートライフスタイル Advent Calendar 2019 19日目の記事です。私は入社したばかりなので業務で使っている技術についてではなく、業務で採用してみたいiOSアプリのアーキテクチャと技術についてご紹介します。前提業務でMVVMでのアプリリニューアルやVIPERでのリアーキテクチャをしてきた経験をもとに、クロスプラットフォーム技術の採用を視野に入れて検討した内容となります。解決したい課題モバイルアプリの開発において継続的に改善を行うようなプロダクトでは、以下のような課題があるのは珍しいことではないかと思います。長年の運用で溜まっていた技術的負債ユニットテスト/UIテストコードが書きづらい責務分割そもそも設計方針が決まっていなかったり、複数のアーキテクチャを抱えたりしているAppleは毎年新技術を発表し、iOSアプリの主要な開発言語であるSwiftもどんどんバージョンアップが行われています。ビジネスサイドの要求に答えつつ技術的な改善を行っていくことは難しい面もあると思いますが、アーキテクチャや構成を整えることで改善しやすいプロダクトにしておくということが重要だと思います。アーキテクチャMVVM + Layered Architecture前述した3つの課題を解決できるアーキテクチャの1つは、MVVMとLayered Architectureの併用だと考えます。MVVMとは？MVVMは有名なアーキテクチャのためご存知の方も多いでしょう。簡単に説明をすると、プレゼンテーションロジックとビジネスロジックを分離するGUIアーキテクチャのひとつで、ViewとViewModelをデータバインディングすることで宣言的にViewの更新が行えるという特徴があります。Layered Architectureとは？Layered Architectureとは、日本語では多層/階層化アーキテクチャと呼ばれ、アプリケーションを複数の層に分割し、それらを独立したモジュールとして疎結合にすることで、モジュールごとの開発がしやすかったり入れ替えが容易になるような特徴のあるものです。Clean ArchitectureやOnion Architectureもこれの一種です。前述した通りMVVMはGUIア
</div><div class="ui-feed-item__date" title="2019-12-18 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-18-spec-understanding-map/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-18-spec-understanding-map/">仕様理解度を可視化した話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
この記事は、リクルートライフスタイル Advent Calendar 2019の18日目の記事です。こんにちは。リクルートライフスタイルの飲食領域の開発マネジメントグループに所属している石坂です。飲食プロダクトの中でもAirレジ ハンディとAirメイトを担当しています。、別記事で紹介されていたLT大会で「ドキュメントと戦う技術 -暗黙知の育て方-」というタイトルで発表し、得票数で同率優勝しました。タイトルは少し攻めていますが、内容は仕様を記憶に定着させるための以下の施策の紹介です。ペアプロ/モブプロチーム内勉強会仕様クイズ仕様理解度マップこの記事ではその発表内容の中から&quot;仕様理解度マップ&quot;について取り上げます。仕様理解度マップとはプロダクトの機能一覧に対してチームメンバーがどれくらい理解しているかをレベル化したものです。スキルマップの仕様版だと考えると想像しやすいかと思います。スキルマップの導入事例としては弊社グループ会社のQuipperの記事がわかりやすいです。背景担当プロダクトのチームでは、エンジニアメンバー全員が、実装を担当している機能かどうか関わらずにプロダクト全体の仕様/コードを理解しておこうという方針としています。その理由は以下になります。プロセスロスの低減プロダクトマネージャーと要件や仕様について話し合っているときに頭に入っていないと、「持ち帰って確認します。」というステップが必要になります。会議でもよく聞くフレーズではないでしょうか。しかし、頭に入っていれば即答できるので、その場で決定できることが多くなります。新規プロダクトではスピードを重視されることがあるため、論点を素早く解消していくことも重要な要素となります。見積り精度の向上私の担当チームではメンバー全員でタスク分けと見積もりを実施しています。そしてこの見積もりの時点で、設計も一緒に行ってしまいます。というのも、見積もりをするときに「ここにこういう改修入るよね」のような会話しているだけで、いつのまにか設計が終わってしまうからです。これはメンバーの脳内に既存仕様やコードがあってこそできることです。要件が確定している前提では、設計/実装の不確実性の量が見積もり精度に依存します。設計時に脳内コーディングによって完成形を描けているので不確実性が少なくなり、見積り精度も向上します。課題上記のような方針のた
</div><div class="ui-feed-item__date" title="2019-12-17 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-17-html-to-img-comparison/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-17-html-to-img-comparison/">サーバ上でHTMLから画像に変換する方法を比較してみた</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 の 17 日目の記事です。こんにちは！ 新卒でリクルートライフスタイルに入社し、Airレジ ハンディ のサーバサイドの開発を担当している松尾です。現場に配属されて早々、Airレジ ハンディのとあるエンハンス案件を任せてもらえることになりました。実装すべき処理を洗い出していく中で、「サーバサイドで動的に画像を生成して出力する」という処理が必要になることが分かりました。上図のように、クライアントから送られてきたデータと、サーバ側で持っているテンプレートを用いてレンダリングし、生成した画像を返却するというイメージです。レイアウトやレンダリングにはいくつかの方法が考えられます。描画系 API（Java なら Graphics2D など）で地道にレイアウトすることもできますが、リッチなレイアウトになると実装が大変です。今回は、高品質なレイアウトをスピーディーに実装するため、HTML / CSS でレイアウトを作成して画像に変換する ことにしました。シーケンス図で描くと以下のようになります。(1) の HTML でレイアウトする部分については、テンプレートエンジン（Spring なら Thymeleaf など）の利用が考えられます。問題は (2) の部分です。サーバ上の処理としてはあまり見かけない類のものなので、実現方法にはさらに色々なものが考えられそうです。この記事では、このような「サーバ上で HTML をレンダリングし、画像として出力する」ための方法を 3 つ取り上げ、それぞれ代表的なツールを挙げながら比較・検討してみます。なお、以下ではアプリケーションサーバとして Java / Spring Boot を利用していることを想定しています。検証用レイアウト以下のシンプルなレイアウトを用いて検証します。See the Pen ZEYpPEe by Hiroyuki Matsuo (@h-matsuo) on CodePen.方法１：Java レイヤでのレンダリング（CSSBox）Java で記述された HTML / CSS のレンダリングエンジンを探してみると、CSSBox という OSS が見つかりました。以下のサンプルコードで、前述の検証用レイアウト（index.html）を output.pn
</div><div class="ui-feed-item__date" title="2019-12-16 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-16-monitoring-as-code/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-16-monitoring-as-code/">Monitoring as Code for Kubernetes</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
この記事は？この記事は、リクルートライフスタイル Advent Calendar 2019 の16日目の記事です！自分が所属している CETチーム で、Kubernetes を中心としたアーキテクチャにおける Monitoring as Code を実現した監視基盤の紹介をしたいと思います。自分の所属するチームでは、バッチ基盤や API 基盤を GKE 上に構築しています。この記事では、Terraform・Grafana・Prometheus・Jsonnet を利用して、Kubernetes のリソース監視・Job の実行状態・API レイテンシのモニタリング・外形監視などを改善したアーキテクチャやフローを紹介したいと思います。Who am I ?@ko-da-k (Twitter: @ko_da_k) です。新卒2年目で、1年目は主にデータ解析やモデリング等を行っており、現在は Kubernetes を利用したバッチ基盤や API 基盤の実装を行っています。最近はもっぱら Go を書いています。なぜモニタリングが必要なのかモニタリングにおけるチーム課題自分たちのチームでは、今までは作った基盤の監視体制やアラート対応が非常に属人化していました。具体的には、以下のような状態でした。誰も対応しない オオカミ少年的な アラート通知が多発→ アラート Channel を確認しなくなり、重要なアラートを見逃すアラートに対する対応方法が不明瞭で属人化→ 一部の技量の高い人やチームの在籍年数が長い人が、その場で障害対応してしまう。結果としてチームとしての知見が蓄積されず、新規参画者の障害対応が困難になるコード化（チームで管理）されていない野良アラートや野良 Dashboard が乱立→ それらが作られた経緯・意図・必然性がわからず結果的に放置されてしまう。また、監視が基盤の最新状態と乖離して意味をなくしてしまうそこで、チームで 入門 監視 の輪読会を行い、チームとして改めて監視体制やアラートルールをどのようにしていくべきかを議論しました。上記の本は、監視に対する方法や心構えが網羅的に書かれており、コンパクトながらもチームの監視に対する目線を合わせるのに非常に役立ちました。Monitoring as Code による解決入門 監視 でも言及されていますが、前提として、「監視やアラー
</div><div class="ui-feed-item__date" title="2019-12-15 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-15-reiwa-lt/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-15-reiwa-lt/">年末LT大会を開催しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 15日目の記事です。こんにちは。飲食領域でテックリードをしている浅野です。突然ですが皆さん、LTしてますか？私の所属する飲食開発グループでも例に漏れず週次でLTが開催されているのですが、先日 「令和元年 飲食開発LT大会」 と題したLTイベントを開催したため、今回はそれについて紹介させていただこうと思います。きっかけ前述の通り、飲食開発グループでは普段から定常的にLTの場があります。そのため普段の枠とは別でLTの場を設けたかったというのと、折角なので年末にお祭りっぽい感じのイベントがやれると良いのでは、という考えからLT大会の開催が決まりました。CfPから始まる予選さて、折角開催するのであれば、ただ場を用意して発表者を募るだけでは面白くありません。そこで今回は、メンバー全員で事前にプロポーザルを提出し、そこからみんなで投票を行って当日の登壇者を決めるという形式を採用することにしました。 (以下、本記事内では便宜上CfP形式と表現します)CfPへのエントリーページここまでやると「LTとは…」という話にもなってきそうですが、結果としては予想を超える応募があり、最終的には29件のエントリーに。実際にエントリーされたテーマ一覧特定技術の深掘りをテーマにしたものや、組織論、回鍋肉の作り方(!?)まで、とてもバラエティに富んだラインナップが揃いました。また、投票時点では公平を期すために誰がどのプロポーザルを提出したかは伏せていたのですが、テーマや概要の内容から割と顔が透けていたのも個人的には興味深いポイントでした。本戦いよいよ本戦。激戦を潜り抜けて採択されたLTは期待を裏切らず面白いものばかり。当日の発表の様子今回「大会」と銘打ったこともあり、以下の賞を用意していました。参加者全員の投票で決める 優勝開発ユニット長に決めてもらう U長賞そして気になる結果なのですが、同率受賞含めてなんと私がダブル受賞をいただきました！受賞者には賞品授与が私の発表は「副業からみるIT業界の光と闇」というかなり攻めたテーマだったので、発表内容についてここで詳細を語ることができないのですが、こういったなかなかオープンには発表できないテーマでも話せるのが社内LTの特権であり、そして魅力でもあると思います。同率優勝となったもう一
</div><div class="ui-feed-item__date" title="2019-12-14 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-14-aws-reinvent-2019/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-14-aws-reinvent-2019/">AWS re:Invent 2019 参加レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
この記事は、リクルートライフスタイル Advent Calendar 2019の14日目の記事です。こんにちは! リクルートライフスタイルの共通クラウド基盤を開発・運用している天野です。12/02 (月) 〜 12/06 (金) にラスベガスで開催されたAWS re:Invent 2019に参加してきました。この記事では実際に参加して感じたことや、セッションを受けての感想をレポートします。キーノートやセッションの詳しい内容、新サービス、新機能の情報は公式の動画や速報、使ってみた記事などを参照してください。AWS Black Belt Online SeminarJapan Wrap-up SessionAWS re:InventとはAWS re:Inventは毎年11月末から12月頭にかけてアメリカ ラスベガスで開催されるAWS (Amazon Web Services) の新サービス、新機能が発表されるイベントです。8回目となる今年は12/02 (月) 〜 12/06 (金) と例年よりもやや遅めに開催されました。re:Inventには全世界から参加者が集まり、今年は65,000を超える登録者がいて、日本からも1,700人以上が参加したようです。事前準備事前準備が大切です。海外ということもありますが、スケジュールを立てることが大切です。re:Inventは開催期間の5日間で3,000を超えるセッション (ワークショップ、オーバーフローを含む) が6つの会場に分かれて設定されています。そのため事前準備が足りないと見たいセッションを見逃してしまったり、時間がかぶって見られなかったり、移動時間が予想外にかかって間に合わなかったりします。セッションの予約がオープンするタイミングで予約をして、定期的に更新をチェックしていくのがおすすめです。セッション情報はre:Invent期間中も更新されます。私は非公式のTwitter Bot re:Invent Bot をフォローして通知を飛ばすように設定していました。ラスベガスまで日本からラスベガスまでは複数の経路があるようです。私は12/01 (日) 夜に羽田を出発してサンフランシスコで乗り換え、現地時間の12/01 (日) 夕方にラスベガスに到着しました。海外での乗り換えが初めてだったのでとても緊張しました。移動経路のシミュレーシ
</div><div class="ui-feed-item__date" title="2019-12-13 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-13-node-async-io/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-13-node-async-io/">Node.jsの非同期I/Oについて調べてみた</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、本記事は リクルートライフスタイル Advent Calendar 2019 13 日目の記事です。今日は sadnessOjisan がやっていきます。この記事では Node.js の非同期 I/O について調べたことを紹介します。調べようと思ったきっかけは、先日の JSConfJP で Wrap-up: Runtime-friendly JavaScriptというランタイムレベルでの最適化を解説したセッションを見て Node.js の理解を深めたいと思ったからです。私は Node.js でのコーディングは多少経験がある程度なので、まずは Node.js の大きな特徴である非同期 I/O からキャッチアップすることにしました。Node.js の大きな特徴Node.js は公式の説明を借りると、スケーラブルなネットワークアプリケーションを構築するために設計された非同期型のイベント駆動の JavaScript 環境です。その大きな特徴としては、シングルスレッドで動作することI/O が非同期であることがあげられます。シングルスレッドで動作するとはNode.js はシングルスレッドで動作します。一つのスレッドしか使えないということは、一度に一つの処理しか実行できず非効率そうにも見えます。なぜシングルスレッドで動くように設計されたのでしょうか。スレッドとはスレッドは CPU 利用の単位です。CPU 利用の単位としては、プロセスとスレッドがあります。関係でいうと、実行中のプログラムをプロセスと呼び、プロセスは一つ以上のスレッドを持ちます。複数のスレッドで動くとはサーバーは複数リクエストをあつかうときに、利用するプロセスやスレッドを増やすことで、それぞれのリクエストが要求する処理を同時に行うことができます。しかし、あまりにも多くのリクエストが届くと、その分だけプロセス/スレッドが作成されて、メモリの消費量が多くなったり、コンテキストスイッチによって、パフォーマンスが落ちる可能性があります。これは C10K 問題として知られている問題です。Node.js が注目された理由Node.js はこの C10K 問題を解決できるものとして注目されていました。Node.js はマルチスレッドで実行するのではなく、シングルスレッドで実行するため、C10K 問題を解決することができ
</div><div class="ui-feed-item__date" title="2019-12-13 01:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-12-android-10-bubbles/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-12-android-10-bubbles/">Android 10で追加されたBubblesについて</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事はリクルートライフスタイル Advent Calendar 2019の12日目の記事です。ホットペッパービューティーのネイティブアプリ開発を担当している中里です。この記事では、Android 10で追加されたBubblesの使い方と、使ってみた感想を書きたいと思います。Bubblesとは？Bubblesとは、Facebook Messengerのように他のアプリの上に描画する機能で、日本語だと「ふきだし」と訳されています。https://developer.android.com/guide/topics/ui/bubbles従来このようなUIを実現するためには、 SYSTEM_ALERT_WINDOW という権限が必要でしたが、 SYSTEM_ALERT_WINDOW は強い権限であり、また電池消費の観点からも不利であるため、それを代替するためにAndroid 10から登場しました。アプリの作成プロジェクトの作成まず、いつも通りにプロジェクトを作成します。当然ですが、APIレベルは29以降に設定する必要があります。1234567android { compileSdkVersion 29 defaultConfig { minSdkVersion 29 targetSdkVersion 29 }}Bubble用のActivityを作成Bubbleの中身として表示したい内容を、Activityとして作成します。123456class BubbleActivity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_bubble) }}次に、作成したActivityをAndroidManifestに追加します。12345&lt;activity android:name=&quot;.BubbleActivity&quot; android:allowEmbedded=&quot;true&quot; android:documentLaunchMode=&quot;always&quot; android:resizeableActivity=&quot;true&quot; /&gt;Bubbleとして表示するため
</div><div class="ui-feed-item__date" title="2019-12-11 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-11-ruby-conference/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-11-ruby-conference/">RubyWorld Conference 2019 で登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 の11日目の記事です。11月の7,8日に松江で開催された RubyWorld Conference 2019 にて登壇させてもらいました。この記事では発表した内容について書きたいと思います。自己紹介新卒4年目の @bya (Twitter: @byambaa_swiss) です。現在は、CET チームでストリーム基盤のプロダクトマネージャーを、じゃらん価値開発チームで SRE をやっています。本記事は、価値開発チームとして登壇した内容について書いています。RubyWorld Conference 2019RubyWorld Conference は Ruby のさらなる普及・発展とビジネス利用の促進を目的とした会議で、今年で11回目の開催でした。国内外の18名が講演し、来場者数は2日間で1,053名にのぼりました。Ruby のカンファレンスとしては、RubyKaigi、RailsConf、RubyConf が有名です。それらと比べ、今回のカンファレンスはビジネス利用の促進などの視点も含まれているのが特色です。なお、これら以外も含めた Ruby のカンファレンスの一覧としては rubyconferences.org が便利です。発表した内容弊社からは2人（前半：坂東塁・後半：@byam）で登壇し、大規模サービスにおけるRailsを活用した大胆な検証サイクルへのチャレンジ というテーマで発表してきました。背景と取り組み前半は、ユーザへ価値を届けるために必要なこと・大事にしたことについて、紹介させて頂きました。弊社ではじゃらん net などの大規模なサービスを20年近く開発・運用しています。その開発の多くはウォーターフォール的ですが、一部では、既存の基盤アーキテクチャそのままにアジャイル/リーンアプローチでの開発にもチャレンジしてきました。それらのチャレンジはうまくいった部分もあります。しかし既存の基盤アーキテクチャに沿ったままのアプローチでは、もう一歩進んだチャレンジをするには壁が存在していました。たとえばサービス改善の一つとして、障害時の自動復旧を考えてみます。これはインフラレベルの改善が必要なので、これまでの基盤では高速な PDCA を回せず、基盤そのものをクラウドネイティブに近づけていく
</div><div class="ui-feed-item__date" title="2019-12-10 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-10-renovate/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-10-renovate/">Renovate ではじめる依存関係更新の自動化</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は、リクルートライフスタイルアドベントカレンダー10日目の記事です。リクルートテクノロジーズ兼リクルートライフスタイルのASGチームに所属している渡邉です。最近は新規開発をやっていて、日々プロジェクトの package.json の更新に追われています。本記事ではその更新タスクを大いに助けてくれた Renovate について紹介します。Renovate とはRenovate はプロジェクトの依存関係 (Dependency) の更新を自動化するツールです。似たようなツールとしては、Dependabot や Greenkeeper があります。プロダクションレベルのプロジェクトでは、明示している Dependency だけでも 20~30 程度あるのではないでしょうか。それらの Dependency は日々更新されており、最新版に追従していくだけでも時間と手間がかかります。Renovate はそのような悩みを解消してくれるすばらしいツールです。Renovate で Dependency の更新をやってみるgithub.com や gitlab.com であれば、それぞれ GitHub App と GitLab App が用意されているので導入は簡単です。今回は、社内でホスティングしている GitHub Enterprise（GHE）と GitLab のリポジトリで Renovate を運用する必要があったので、公式にあるドキュメントを見ながらセルフホスティングをやってみました。準備リポジトリへアクセストークンを用意します。以下に GitHub と GitLab でのアクセストークンの作成方法を説明します。GitHubドキュメントにしたがって、アクセストークンを作成します。トークンのスコープは “repo” を選択しておきます。トークン生成後、生成されたトークンを控えておきます。GitLabログイン後、右上の “Settings” から “User Settings” 画面に遷移し、サイドバーの “Access Tokens” リンクをクリックすると、トークン生成画面に遷移できます。スコープは “api” を選択しておきます。こちらもトークン生成後、生成されたトークンを控えておきます。Docker で動かすローカル PC に Docker がインストールされていれ
</div><div class="ui-feed-item__date" title="2019-12-09 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-09-monitoring-batch/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-09-monitoring-batch/">Datadogによるバッチの監視</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 9日目の記事です。ホットペッパーグルメとレストランボードのSREを担当している明智です。本記事では、バッチの監視を改善した事例について紹介します。バッチの監視に必要なこととは監視は何のために行うのでしょうか？バッチの監視には、以下の３つの異常な状態を検知する必要があります。起動しない状態異常終了した状態実行が終わらない状態バッチの監視状況改善着手前の監視状況は以下の通りでした。監視項目監視状況監視方法起動しない状態一部の主要なバッチに対して監視できている各バッチの実行時刻をDBに保持して、その時刻をチェックするバッチを定期的に実行することで起動しているかを監視異常終了した状態全てのバッチに対して監視できているエラーが発生して異常終了した場合は、メールで通知実行が終わらない状態監視できていない実行が終わらない状態の監視方法改善内容としては、実行が終わらない状態を監視できるようにすることにしました。まずはじめに考えたのは、起動しない状態の監視と同様の方法です。そこで次に考えたのは、Datadogを使った監視方法です。実行時間をDatadogに送る方法カスタム Agent チェックを作成することで、一定の間隔でバッチの実行時間をDatadogに送ることができます。 担当サービスでは、JP1でバッチの管理を行なっています。123456789101112131415161718192021222324252627282930313233# coding: utf-8import osimport subprocessfrom checks import AgentCheckfrom datetime import datetime__version__ = &quot;1.0.0&quot;class JP1Check(AgentCheck): def check(self, instance): # 論理ホストを参照する場合は、環境変数JP1_HOSTNAMEを設定 hostname = instance.get(&#39;jp1_hostname&#39;) if hostname: os.environ[&#39;JP1_HOSTNAME&#39;] = hostname # 実行中のジョブネットを取得 cmd = &#39;/opt/jp1ajs2/
</div><div class="ui-feed-item__date" title="2019-12-08 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-08-babel-approach/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-08-babel-approach/">Babel が行っている Polyfill の仕組みについて</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 8 日目の記事です。先日プレスリリースが出ましたホットペッパービューティーの美容クリニック検索・予約サービスでデザインとフロントエンドを担当している手塚です。この記事では Babel がどのように Polyfill を行っているのかを紹介します。まずは新しい言語仕様を利用するために Babel が解決している問題とそのアプローチを下表に示します。問題アプローチブラウザが class 構文やアロー関数、テンプレートリテラルなどの新しい構文を理解できないES2015 以上の言語仕様で書かれた構文を ES5 の構文に変換実行ブラウザによって JavaScript エンジンとバージョンに差分があり利用できる機能が違うブラウザがサポートしていない機能を Polyfill で互換実装アプローチの 1 つである Polyfill による互換実装は、もうアップデートされない IE11 の対応や言語仕様を追従し続ける各ブラウザの実装差分をサポートするとても便利なアプローチなのですが、ブラウザに代わり自ら互換実装を行うため副作用が伴うこともあります。副作用によって不具合が発生した場合、どのように互換実装をしているのかを理解していないと解決が困難な場合もあるので、 Babel の基本的な処理を追いつつ Polyfill について説明していきます。なお、この記事の内容は以下のバージョンを元に記述しています。そのため Babel 7.4.0 で非推奨となった @babel/polyfill には触れません。Babel 7.7.4core-js 3.4.7Babel の基本的な処理の流れまずは Babel を利用した Polyfill による互換実装を簡単に追ってみましょう。開発対象ブラウザの設定開発対象ブラウザ上で動作するように構文変換・ Polyfill の注入生成されたファイル実行時の Polyfill による不足機能の互換実装処理後、メイン処理を実行1 と 2 が事前処理、 3 が実行時の処理となります。新しい言語仕様がどこまで利用可能かは、変換したファイルが実行されたブラウザのJavaScriptエンジンの種類とバージョン次第となるため、設定された開発対象ブラウザに応じた構文変換と Polyfill の注入
</div><div class="ui-feed-item__date" title="2019-12-07 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-07-fargate-in-production/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-07-fargate-in-production/">本番環境にAWS Fargateを採用しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 7日目の記事です。じゃらんnetを担当している砂川です。じゃらんnetでは一部の機能を AWS Fargate上に構築して提供しています。リリースから数ヶ月経ちましたが、安定して運用することができています。本記事では、AWS Fargateを採用するにあたって、技術選定時に考えた観点、本番運用するために取り組んだトピックについて書いていきたいと思います。AWS FargateとはAWS Fargateとは、AWSが提供するマネージドなコンテナ実行環境です。Aamazon ECS の起動タイプとして選択することで利用できます。Amazon ECSのもう1つの起動タイプであるEC2起動タイプと比較すると、コンテナを実行するサーバを直接意識する必要がなく、サーバのインスタンスタイプの選択やクラスタ管理がいらないという大きなメリットがあります。AWS Fargateを選定した理由今回のプロジェクトでは、 少人数チームによるDevOps体制を構築することにチャレンジしていました。また、集まったチームメンバーのスキルセットとしてはアプリケーション開発がメインだったため、シンプルなインフラ構成であることクラウドのマネージドな製品を積極的に利用し、インフラ運用にかける手間を下げることを念頭においた技術選定を行いました。AWS Fargateの他に候補としてあがった要素技術としてKubernetes (Amazon EKS)FaaS (AWS Lambda)も候補にあがりました。Kubernetesとの比較AWS Fargateと同様に、コンテナを利用できる点において運用の手間の削減を期待できます。一方で、今回開発する機能は複数サービスに分けるほどの規模ではなく、複雑なオーケストレーションは必須ではありませんでした。アプリケーション開発者中心のチームにおいては、Kubernetes自体の学習コストが高くなってしまうと判断し、採用を見送りました。FaaSとの比較FaaSを利用することでコンピューティングをフルマネージドにでき、運用の手間の削減を期待できます。しかし、FaaSを用いたアプリケーション開発だと、普段慣れているアプリケーション開発のパラダイムとは異なるところがあり、チームメンバーのスキルの強みを活か
</div><div class="ui-feed-item__date" title="2019-12-06 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-06-put-vs-patch/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-06-put-vs-patch/">PUT vs. PATCH ~Kotlinでの部分更新はどちらを選ぶべきか？</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Airレジ ハンディの開発を担当している早川です。リソースを部分更新したい場合はHTTPリクエストメソッドにPUTまたはPATCHのどちらを使うべきでしょうか？この記事ではPUTとPATCHの比較と、Kotlin x Spring Bootで開発している私たちのチームがPATCHを選んで直面した問題を紹介します。リソースの部分更新とは？この記事におけるリソース部分更新とは、フォーム内のウィジェットの値が更新された時に、サブミットすることなくその値がサーバに保存されることを意味しています。例えば下のgifで示した通り、テキストフィールドの値が更新されるとHTTP通信が行われ、「保存しています…」状態となります。Googleドライブのドキュメントやスプレッドシートを編集して即座にクラウドに反映されるのに似た機能と思っていただければ良いと思います。PUTとPATCHこの機能を実装するにあたり私たちのチームで議論となったのが、リソースの部分更新を行う時はHTTPリクエストメソッドにPUTまたはPATCHのどちらを使うべきかです。私たちは直感的にはPATCHだと思いました。なぜなら一括でフォームのサブミットを行わず、特定のウィジェットのみ更新する場合は、すべてのフィールドを送信する必要がないからです。しかしPATCHには冪等性がないということが気にかかり、調査してみるとかなり奥が深かったのでその内容を記したいと思います。まずはPUTとPATCHについてMDN web docsを参考に簡単にまとめてみました。 メソッドリソースに対する処理冪等性PUT置換ありPATCH部分変更なしこの定義からも部分更新にはPATCHが向いていそうです。しかし冪等性の問題は解決されないのでもう少し調べてみました。するとPATCHリクエストはPUTリクエストとDELETEリクエストで代替でき、冪等性の担保が可能になることがわかりました(参考: リソースの一部更新におけるURL設計)。要点を引用すると以下になります。例えば dropbox のようなファイル共有システムを作っているとして、そのファイルのロック機能を提供することになったとします。 /path/to/file に PATCH リクエストを投げても良いのですが、 /path/to/file/lock に PUT リクエストを投げることでロック
</div><div class="ui-feed-item__date" title="2019-12-05 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-05-kubecon-cloudnativecon-na-2019-dey2-day3/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-05-kubecon-cloudnativecon-na-2019-dey2-day3/">KubeCon + CloudNativeCon North America 2019 参加レポート -Day 2, Day 3編-</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
じゃらんnetを担当している砂川です。2019/11/18 - 2019/11/21 にサンディエゴで開催された KubeCon + CloudNativeCon North America 2019 に参加してきました。本記事では、後編としてDay 2とDay 3の様子を振り返りつつ、注目したセッションについて紹介します。前編はこちらになりますので、合わせてお読みください。参加動機私のチームでは、コンテナアプリケーションのコンピューティングとしてAWS Fargateを採用しており、Kubernetesの運用経験はまだありません。しかし、今後の新規開発や既存環境のリファクタリング検討時に、Kubernetesは間違いなく候補にあがると予想されるため、キャッチアップを目的として参加いたしました。特に、Kubernetesの採用で得られるメリットは何かいかに既存組織にKubernetesを適用していくかという問いに良い示唆が得られると良いなと考え、実際聴講したセッションも技術的に深堀った内容よりも導入事例が多かったです。ハイライトDay 2Day 1のキーノートではCNCFのプロジェクトのアップデート関連の話題が中心でしたが、 Day 2では、Kubernetesのユースケースの動向に関する話題が中心でした。特に印象に残ったキーノートはこちらです。発表資料 より引用このセッションでは2020年以降より多くの適用事例が出てくるであろうトピックとして、マルチクラウド/ハイブリッド構成急激なトラフィック増加への効率的なスケーリングデータベースなどのリソースも含めた管理への拡張の３つをあげ、先行する事例をそれぞれに紹介していました。2番目の事例で挙げられていたSpotify社の 10,000,000 requests / sec という数字はインパクトが強かったです。上記トピックは他のセッションでもよく登場し、マルチクラスタ構成に関するセッションや、Day 1のキーノートで取り上げられていたVitessを中心にデータベース/ストレージリソース関連のセッションが多数ありました。Day 2の最後ではカンファレンス会場周辺の街の区画を貸し切ったパーティーが開催され、あいにくの雨にも関わらず盛り上がっておりました。Day 3Day 3では以下のキーノートが特に面白かったです。Kube
</div><div class="ui-feed-item__date" title="2019-12-05 09:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-05-kubecon-cloudnativecon-na-2019-dey0-day1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-05-kubecon-cloudnativecon-na-2019-dey0-day1/">KubeCon + CloudNativeCon North America 2019 参加レポート -Day 0, Day 1編-</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！Airメイトを開発している小谷野（@bandwagondagon）です。弊社ではCETチームのバッチ基盤・API基盤やホットペッパービューティーコスメをはじめ、本番環境へのKubernetesの導入事例が増えてきています。そんなKubernetesをテーマにしたカンファレンスの中でも最も大規模なカンファレンスの一つである、KubeCon + CloudNativeCon North America 2019が11月19~21日にアメリカのサンディエゴで開催されました。そのカンファレンスの参加レポートとして、メインのDay 1~3にDay 0を加えた4日間を前半 (Day 0, Day 1)後半 (Day 2, Day 3)の2つに分けて、現地の様子や個人的に興味があったセッションをご紹介いたします。本記事はその前半(Day 0, Day 1)にフォーカスした記事です。KubeCon + CloudNativeCon とはKubeCon + CloudNativeConはThe Cloud Native Computing Foundation (CNCF)によって開催される、Kubernetesをはじめとしたクラウドネイティブな技術をテーマとするカンファレンスで、年に3回、南アメリカ/ヨーロッパ/中国で開催されます。今年のヨーロッパ、中国でのKubeCon + CloudNativeConの公式サイトはこちらです。KubeCon + CloudNativeCon + Open Source Summit China 2019KubeCon + CloudNativeCon Europe 2019また、2020年の開催日や開催都市も既に発表されています。KubeCon + CloudNativeCon North America 2020KubeCon + CloudNativeCon + Open Source Summit China 2020KubeCon + CloudNativeCon Europe 2020今回の来場者は約12000人・スポンサーは250社以上と、規模も注目度も非常に高いカンファレンスでした。スポンサーブースだけでも2会場に分かれるという大きさで、気になった会社やサービスの話を聞いて回るだけでも一日かかってしまいそうな規模です。
</div><div class="ui-feed-item__date" title="2019-12-05 08:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-05-vue3-realization/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-05-vue3-realization/">Vue3の仕組み</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、Airレジのバックエンド(Java、Kotlin)を開発しているキョ シイです。Vue3はまだリリースされていないですが、公開された設計思想から先に内部の構造や仕組みなどを解析したいと思います。Vue3のdata binding方法はObject.definePropertyを代わりに、ES６の特性に基づき、Proxyを使っています。Vue3は前のVue2バージョンアップデートよりほぼ根本的にTypescriptで書き換えられたものです。Vue2に比べて、Vue3は以下の特徴があります：もっと早い、もっと軽量的に中身はTypeScriptで全部書き換えましたfunction-based apiなどの新機能の追加今回はProxyをベースにして、Vue3のミニ版を実現してみました。開発は、TDD(Test Driven Development)という開発手法を使って、Vue3の簡単な機能を開発してきました。なぜTDD品質を保証できる、回帰テストをしやすい、開発効率を向上できます。test case はもはや仕様書として扱えます。トップレベルの設計後（製品設計と技術設計を含む）、ボトムからプログラミングを開始できます。今回はkarmaをテストフレームワークとして使いました。テストケースは下記通りです。123456789101112describe(&#39;Proxy test&#39;, function() { it(&#39;should proxy vm._data.a = vm.a&#39;, function() { const vm = new Vue({ data() { return { a: 2 } } }) expect(vm.a).toEqual(2) })})npm testを実行すれば、テスト結果を見えます。ProxyとはProxyオブジェクトは別のオブジェクトをラップし、プロパティやその他の読み取り/書き込みなどの操作をインターセプトします。必要に応じてそれらを独自に処理できるようにします。つまりこの特性を生かして、値の変更を検知できます。Vue3はこう実現しています。例えば：1234567891011121314151617181920const vm = { a: 1}const proxy = new Proxy(vm, { get (target, ke
</div><div class="ui-feed-item__date" title="2019-12-05 01:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-04-amp-next-js/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-04-amp-next-js/">モダンなWebフロントエンドの技術とAMP</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートテクノロジーズ兼リクルートライフスタイルのASGチームに所属しているフロントエンドエンジニアの可児です。本記事は、リクルートライフスタイルアドベントカレンダー４日目の記事です。本記事では、リクルートライフスタイルで取り組んでいる新規Webサービスのモダンなフロントエンド開発に関することとして、Next.jsやAMPについて紹介します。目次はじめにモダンなWebフレームワークReact/Next.jsTypeScriptstyled-componentsAMPAMPとはAMPの開発パターンNext.jsとAMPAMPキャッシュAMP と 非AMP の共存検索結果カルーセルとSEOAMPの開発における注意点まとめはじめにリクルートライフスタイルでは、じゃらんやホットペッパーグルメ、ホットペッパービューティーといった従来のWebサービスだけではなく、様々な新しい領域の開拓を狙ったサービスにもチャレンジしています。組織としては柔軟に技術選定することが可能な新規Webサービス開発を通して、最新の技術スタックを取り入れた開発を行い、有用性を確認した上でリクルートの様々なサービスに横展開していくことで、リクルート全体のWebサービス開発のDX（Developer eXperience）とUX（User eXperience）を高めていきたいと考えています。ホテルや飲食店といったクライアント様の情報を、Webを介して様々な情報の中からより素早く適切にユーザにお届けするための１つの施策として、Webサービスを高速に表示することが求められています。それを実現するための技術として、最近ではGoogleが提唱するAMPという技術に注目が集まってきています。今回は、実際にリクルートライフスタイルの開発現場で利用しているモダンなWebフレームワークとしてNext.js、周辺技術としてTypeScript、styled-components、そして上述のAMP、それらの技術スタックでAMP対応のページを開発する方法と注意点、AMPのメリット・デメリットなどについて紹介します。モダンなWebフレームワークReact / Next.jsReactは近年のWebサービス開発において広く使われているUIフレームワークです。また先日の Chrome Dev Summit 2019 のキーノートや
</div><div class="ui-feed-item__date" title="2019-12-03 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-03-jx/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-03-jx/">Jenkins XによるPreview環境構築</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 3日目の記事です。じゃらんnetを担当している永井です。最近、案件ごとに独立して動作確認できる環境を作りたくて、Jenkins Xを検証していました。Jenkins Xはまだ情報が少なく、一筋縄では行かなかったので本記事ではその構築過程をご紹介します。Jenkins XJenkins Xは、Git/Docker/Kubernetesの利用を前提として構築・運用を可能な限り自動化してくれるCI/CDソリューションです。jx create clusterと叩けばGKEやEKSなどに標準的なKubernetesクラスタを作成してくれ、jx installと叩けば対象のKubernetesクラスタにJenkins XをインストールしてGitHubにwebhookまで作成してくれます。Webコンソール画面は基本必要なくなり、jxコマンド経由で各ジョブの状況も確認できます。Jenkins Xでできることは全てJenkinsと各種プラグインを活用することで実現可能らしいのですが、JenkinsやKubernetesまわりについて深く知らずとも幾つかのコマンドを実行していくことで適したCI/CD環境を構築できることが魅力です。私も、普段はFlutterを推進したり、Spring BootをGAEやCloud Runで動かしたりといった具合で、素のJenkinsをKubernetesに最適化しろと言われると、正直知識が不足していて全然イメージが湧きません。しかしJenkins Xであれば、これからご紹介していくように各技術への理解が曖昧でも（幾つかのissuesと向き合いながらではありますが）モダンなCI/CDを構築・運用できそうです。目的本記事では、特にJenkins Xのpreview環境に注目していきます。異なる開発者たちが、複数の機能追加・改修を担当しており、それぞれを独立して動作確認したい、という状況はよくあることだと思います。これまでは、動作確認したい案件ごとに都度環境構築するなどしていましたが、手間も費用も掛かって非効率です。Kubernetesを活用すれば、リソースを効率的に使いながら、それぞれの環境を独立して動作させることができます。Jenkins Xはその構築と運用の手助けをしてくれると
</div><div class="ui-feed-item__date" title="2019-12-02 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-02-terraform-enterprise/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-02-terraform-enterprise/">Terraform Enterpriseを導入してTerraform v0.10からv0.12に上げた話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！リクルートライフスタイルの共通クラウド基盤でリードクラウドアーキテクトをしている須藤です。この記事は Terraform Advent Calendar 2019 の2日目の記事です！( リクルートライフスタイル Advent Calendar 2019 2日目の記事でもあります)2019.06.14 AWS Summit Tokyo 2019 でのセッション本題に入る前に、我々のチームの新卒2年目、天野がAWS Summit Tokyo 2019で発表したセッションを紹介します。我々のクラウド基盤では、攻めのインフラであり続けることをひとつの理念として掲げ、サービスレベルの向上・運用の省力化につながるよう積極的にマネージドサービスを活用しています。AWSの新機能の利用も積極的にしており、たとえば6月のセキュリティにフォーカスしたAWSのイベント re:Inforce で発表された VPC Traffic Mirroring も検証を重ね、利用しています。そういった進歩を止めない文化の組織であることが、Terraform Enterpriseの導入にもつながっています。2019.10.23 HashiCorp Meetup でのセッションTerraform Enterprise導入について、先日のHashiCorp Meetupで発表しました。こちらはその際の資料です。このときにお伝えした内容を、あらためて整理してお伝えします。 Journey to Terraform Enterprise with upgrading v0.10 to v0.12 from Recruit Lifestyle Co., Ltd. リクルートライフスタイルの共通クラウド基盤は、サービスごとにアカウントを払い出して、サービス開発者がその環境を構築する、というスタイルです。クラウドアーキテクトチームはCCoE(Cloud Center of Excellence)であり、サービス開発者に対してアーキテクチャ相談やコードレビューなどの規範的・助言的な活動を通して成長しあっていく、という活動をしています。共通クラウド基盤として管理しているAWSアカウントの数は、 70 を超えます。Terraform Enterprise を選択した理由何に課題を感じていたのか？70 を超えるア
</div><div class="ui-feed-item__date" title="2019-12-02 13:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-01-istio/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-01-istio/">Istio で実現する A/B テスト基盤</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
本記事は リクルートライフスタイル Advent Calendar 2019 1日目の記事です。CETチーム の寺下です。本日は 2019 年 12 月 1 日ですが、12 月といえば Advent Calendar ですね。リクルートライフスタイルも Advent Calendar をやっていきます。さて、初日となる本日は Istio 検証で得られた知見について書いていきます。我々のチームでは 2015 年頃から基盤開発に Kubernetes を利用しており、最近では Observability や Traffic Management のために Kubernetes 上に Istio の導入も行っています。Istio は Kubernetes 上のトラフィック管理やテレメトリを行ってくれる Service Mesh であり、例えば Istio の Traffic Management を利用することで Canary Release や A/B テスト等が可能です。その他にも様々な機能がありますが、本記事内での紹介は割愛致します。我々のチームで開発している基盤でも A/B テストの機能を Istio で実現しようと思ったのですが、検証を進める中で、本番導入に際して考慮しなければならない点がいくつか見つかりました。そこで、本記事では Istio の Traffic Management 機能を A/B テストに利用しようとした場合の注意点や、その回避策について紹介したいと思います。なお、本記事の内容は以下の Version で検証を行いました。Kubernetes: 1.13.11-gke.14Istio: 1.3.2Istio の機能を使った AB Testingまず初めに、 Istio での基本的な Traffic Management について簡単に紹介します。重要なのは Virtual Service と Destination Rule の2つです。Virtual ServiceVirtual Service は Traffic Routing の設定を行うリソースです。特定の Host へのリクエストが発生した際に、 HTTP Header や パス等のマッチングルールに基づいて、リクエストのルーティング先を書き換えたり HTTP Header の操作
</div><div class="ui-feed-item__date" title="2019-11-30 15:00:00">4年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-04-02-tryswift/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-04-02-tryswift/">try! Swift Tokyo 2019でブース出展しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！じゃらんとAirレジの開発を担当している永井です。すっかり桜が満開となりましたね。そんな中、先日行われたtry! Swift Tokyo 2019にリクルートライフスタイルとしてブースを出展しました。セッションの合間に楽しんでいただけるクイズコンテンツの他、ホットペッパーグルメのキャラクターである「ペパ郎」をプリントしたお菓子などをご用意していました。try! SwiftはSwiftの国際的なカンファレンスということもあり、海外から来られている方々にも多く立ち寄っていただけました。海外の方々からは「リクルートはリクルーティングの会社なのかい？」と質問されたり、「そのチョコレートを箱で買いたい」と言われるほどノベルティのお菓子が大人気だったり、、と微笑ましいやり取りも多く発生していました。ブースに来ていただいた方、クイズに参加していただいた方、本当にありがとうございました！Swiftクイズ正解クイズに全問正解した方の中から、抽選で5名の方にAmazonギフト券1万円分をプレゼント！ということでたくさんの方に参加していただきました。Swiftクイズと言いながら、弊社のキャラクターの年齢が問われるなど、トリッキーな問題もありましたが、少しでも楽しんでいただけていたら何よりです。なんと108名もの方に解答していただき、全問正解者は7名という結果でした。少し難しかったでしょうか…遅くなってしまいましたが、本記事ではそのクイズの正解を公開いたします。Q1. GitHubレポジトリ apple/swift の最初のコミット日は？（What is the date of Swift’s first commit?）選択肢Jul 18, 2010 Feb 14, 2012Feb 24, 1993Jun 2, 2014正解は Jul 18, 2010 です！「ググらないと…」とおっしゃっていた方もいましたが、確かに正確な日付までは難しいですよね…！Q2. 2019/03/21 18:00 JST時点で最もスター数が多いのは？（Which is the most starred repository (as of Mar 21, 2019)?）選択肢vaporperfectkituraSwiftNIO正解は vapor です！18時ちょうどに確認して、以下のような結果でした。
</div><div class="ui-feed-item__date" title="2019-04-02 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-03-29-hpbcosme/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-03-29-hpbcosme/">ホットペッパービューティーコスメをリリースしました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
CETチーム兼ホットペッパービューティーコスメ開発チームの寺下です。先日 ホットペッパービューティーコスメ という新サービスをローンチしました。本記事ではホットペッパービューティーコスメ（以下HPBコスメ）のアーキテクチャ・開発チームについて簡単に紹介していきます。なお、iOSアプリの開発については今回は割愛します。アーキテクチャインフラはGCPを利用しています。Kubernetes(GKE)を利用して高可用・スケーラブルなインフラを手軽に構築・運用できる点分析環境(BigQuery)との統合が強力な点弊社内で運用実績が多くあり、運用のノウハウが確立されている点また、原則として運用負荷を下げるために可能な限りマネージドサービスを利用するようにしています。例えばRDBMSとしてはGCPのCloud SQL for MySQL、全文検索エンジンにはElastic CloudのElasticsearch Serviceを採用しています。全体構成全体的には、主にGKE(一部GAE)上にデプロイされた10個弱のサービス群で構成されています。各サービス間は必要に応じてCloud Pub/Subを介したメッセージングを行う疎結合な構成になっています。ただし、完全なマイクロサービスを目指しているわけではなく、バックエンドロジックの大部分(8割ほど)は単一のRailsアプリケーションに集中させています。設計思想まず、APIの大部分にRailsを採用した理由としては特にプロダクト初期の開発スピードの速さが挙げられます。しかしながら、Railsアプリケーションは一般的にあまりリソース効率が良いとは言えず、Kubernetes内で水平スケーリングさせるにしても相応のインフラコストがかかるという弱点があります。また、近年の画像処理・NLP・機械学習等は、Rails内(Ruby)で実装するよりもライブラリが充実しているPython等で実装するのが効率的であると判断しました。そのため、HPBコスメでは原則としてRails APIを中心に据えつつも、画像処理等の複雑な処理かつサービス境界が明確な処理は別サービスとして切り出すようにしています。他にも画像のアップロード処理としてRailsのActive Storage等を利用せず、Goで単体のマイクロサービスとして実装しています。これは比較的簡単に切
</div><div class="ui-feed-item__date" title="2019-03-29 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-02-28-droidkaigi2019/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-02-28-droidkaigi2019/">DroidKaigi 2019で登壇＆ブース出展しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！Airメイト のAndroidアプリを開発している小谷野（@bandwagondagon）です。先日行われたDroidKaigi 2019 にスピーカーとして登壇させてもらいましたので、その紹介と報告をします。また、昨年に引き続き、会社のブースを出展しており、そこで実施したAndroidクイズの解答と結果を公開いたします！デザイナーとエンジニアの距離をより近づける Lottie 利用術「デザイナーとエンジニアの距離をより近づける Lottie 利用術」というタイトルで今回初めて登壇しました。発表のメインテーマでもあるLottieとはAirbnb, Inc.が公開しているOSSでAdobe After Effectsで作成したパスアニメーションを、モバイルやwebといった各アプリケーションプラットフォーム上で描画するためのライブラリです。昨年のDroidKaigi 2018ではLottieに関するCFPは1つしかありませんでしたが、今年は6つに増えており、Lottieの注目度が大きく上がっていることがわかります。当日もLottieをメインに取り扱ったセッションが2つありました。セッションでは、Lottieアニメーションを個人開発やAirメイトのAndroid/iOSアプリに導入した際に得られた知見や課題感を元にLottieを取り巻く環境Lottieが動く仕組みワークフローTipsの紹介について発表しました。詳しくは以下のスライドや当日の動画をご覧下さい。セッション終了後のオフィスアワーでは、オーディエンスの方から、さまざまなLottieに関する疑問や質問をお聞きしました。その中でも既存のアニメーションとLottieのアニメーションをどのように使い分けたらよいのか？Lottieアニメーションの描画パフォーマンスを上げるにはどのようにしたらよいのか？といった悩みを抱えている方が多い印象でした。セッション内では話し切れなかったこともあるため、補足事項を後日公開したいと思っています。ブース出展個人としての発表の他に、リクルートライフスタイルとしてブースを出展しました。サービス紹介や、Tシャツ・トートバッグといったノベルティの配布の他に、Androidクイズを実施しました。ブースに来ていただいた方、クイズに参加していただいた方、ありがとうございました！Android
</div><div class="ui-feed-item__date" title="2019-02-28 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-01-31-how-to-bind-react-with-Flow/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-01-31-how-to-bind-react-with-Flow/">React Reduxを型で縛ってみよう</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは！Air メイト開発エンジニアの@sadnessOjisanです。Air メイトでは、サービス検討から 2 年ほど、PMF (Product Market Fit) を達成するために、次々と新機能を開発していました。PMF が少しずつ見えて来て、開発も少しずつ落ち着いてきたため、2 ヶ月ほど前から機能開発だけでなく、コードの品質を見直すべくテストや型を書きはじめました。ただ私は、Web デザインの延長で JavaScript を書き始めたエンジニアで、型にあまり馴染みがない開発者でした。そこで型を書くために、「JavaScript 型 書き方」で検索しましたが、当時の私が理解できるような丁寧な記事や、実務で型をつけるためのプラクティス集が見当たらなくて困っていた。たまたま、バックエンドチームにとても型について詳しい方がいらっしゃったので、その方に色々と教えてもらいながら、React, Redux で書いたアプリケーションに対して型を書いてみました。最近はなんとか型を書けるようになってきたので、これから型を書きたい方向けに、JavaScript や React アプリケーションを型で縛るための効果的な方法を伝えたく、この記事を書きました。きっと、私のように型に馴染みがなかったJSエンジニアは多くいらっしゃると思います。この記事は、そのような方に届けたくて書いた記事です。「型は怖くなかったよっ！！とても心強い味方だったよ！！！」記事の読み方この記事の想定する読者型か書いた経験がなかった過去の自分に読み聞かせたいという前提でこの記事を書いています。おそらく次のケースに当てはまる方がまさしく、対象読者に当てはまると思います。型をつけたことがないが、これから触る必要がある JS エンジニア現在、試行錯誤しながら型を付けている JS エンジニア普段から型に慣れている人にとっては、最後の章以外は面白くないかもしれません。目次/この記事に書かれていることなぜ型をつけるのか型の種類にはどのようなものがあり、利用することでどう嬉しくなるのかPrimitive 型Literal 型Array 型ReadOnlyArray 型Any 型、Mixed 型、Empty 型Maybe 型Function 型Object 型Generic 型Union 型Intersection
</div><div class="ui-feed-item__date" title="2019-01-31 02:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-01-17-react-training/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-01-17-react-training/">React勉強会のノウハウを紹介します</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！ Air メイトのフロントエンドエンジニアの @sadness_ojisanです。今月から「React 人材をどう育むか」という連載を行います、この記事はその第一弾です。みなさーん！React 人材の採用はうまくいっていますか？？？私たちはまだまだ足りていません！そこで最近では、React 人材を登用するために、採用だけでなく育成も試みています。この連載では実際に行なった育成プランとその効果を紹介できればと思います。私は社内で 2-30 人規模の React 勉強会の講師をしたり、社外でもプログラミング講座の先生などをやっています。また、大学院では教育学を専攻していたこともあり、育成はかなり関心がある分野です。この記事では、React 勉強会を開催しているなか、「この教え方や工夫が効いたよ」といった指導方略や、「受講生はここでつまづいたよ」という経験を紹介します。この記事に書かれていることReact 勉強会で、どういうカリキュラム・工夫を実施したか、それに対して受講生はどういう反応だったか受講生はどこでつまずいて、それに対してどのように対応したか（もしくはどう対応すべきだったか）目次育成のゴールとコンテンツ参加希望者のスキルセット・何をベースとして育成を試みればいいのかカリキュラムと React を教える時のコツjQuery の辛さを理解してもらうMVC の辛さを理解してもらうReact の嬉しさを理解してもらう受講生からの反応運営のコツ説明の追記をできるような場所を作っておきましょう開発環境は CodeSandobox を採用するCSS in JS の説明をしないmap と filter の例は先に書いておくメンターは必須、3 人あたり 1 人のメンターを目安に結論育成のゴールとコンテンツ育成のゴールは、「React, Redux 案件を自立して開発できるエンジニアを輩出する」であり、React, Redux に興味がある方々を社内 Slack で募ってみました。もともと Air シリーズと呼ばれるサービスの開発者を対象に声を掛けたのですが、他チームの開発者からも問い合わせがあり、結果としてホットペッパーグルメやブッキングテーブルの開発者も含め、30 人ほど連絡がありました。多くの方々が興味を持たれていましたので、育成のプランを分割し、それぞれを一日丸
</div><div class="ui-feed-item__date" title="2019-01-17 02:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-01-10-webpack-2-babel-7/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-01-10-webpack-2-babel-7/">webpack 2 + babel 7 で動的なパスの require を使うとビルドに失敗する話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Airシリーズのフロントエンジニア日野澤 (@kt3k) です。webpack でファイルを require する場合、通常は以下のように文字列リテラルでファイルパスを指定すると思います。1const foo = require(&#39;./path/to/foo&#39;)しかし、実は webpack では以下のように require するパスに変数が入っていても読み込むことが出来ます。12const filename = &#39;foo&#39;const foo = require(&#39;./path/to/&#39; + filename)この場合、 ‘./path/to/’ ディレクトリ内の全てのファイルのマッピングが自動生成され、上記は以下のような呼び出しに変換されます1const foo = require(40)[filename]ここで、 require(40) 部分は ./path/to/ 内の全てのファイルを値としてもつオブジェクトになっており、そこから [filename] と key で取り出すことで、動的パスの require を解決することが出来ます。参考:Webpackでフォルダ内の全ファイルを一気にrequireする - QiitaDependency Management (公式ドキュメント)Babel を使うとどうなるかrequire する動的ファイルパスをテンプレートリテラルで記述していた場合どうなるでしょうか?1const foo = require(`./path/to/${filename}`)これは、 Babel (v6) で変換すると、以下のようになります。1const foo = require(&#39;./path/to/&#39; + filename)したがって、上と同じルールが適用されて、’./path/to/‘ 全体がバンドルに含まれて、動的パスの require が成功します。ところで、Babel 7 ではテンプレートリテラルのトランスパイルの仕方が変更されています。Babel 7 では上の require は以下のようにトランスパイルされます。1const foo = require(&quot;./path/to/&quot;.concat(filename))これは、filename が valueOf と toString を両方実装したオブジェクトだった場合に、 $
</div><div class="ui-feed-item__date" title="2019-01-10 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-12-14-engineer-keyboard/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-12-14-engineer-keyboard/">突撃！隣のキーボード</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。飲食領域でフロントエンドエンジニアをしている岩下です。本記事は リクルートライフスタイル Advent Calendar 2018 14日目です。突然ですがエンジニアの仕事道具のキーボード、皆さん職場ではどんなキーボードを使っていますか？1人目 HHKB現在使っているキーボードは何ですか？HHKB Professional2 無刻印 キーボードに関するエピソードや思い出はありますか？初めての職場でチームメンバーがみんな外付けだったのでノリで使い始めました。良い点ホームポジションを動かさなくて良い無駄なキーがない悪い点タイプ音がうるさいと苦情がくる共用マシン等のキー配列が英語配列に変わっていると、最初に疑われる無刻印なので記号を入力する時たまに迷子になる次に使ってみたいキーボードは何ですか？HHKB Professional BT2人目 ゲーミングキーボード現在使っているキーボードは何ですか？Patech メカニカルゲーミングキーボード 青軸キーボードキーボードに関するエピソードや思い出はありますか？とりあえず青軸デビューしたかったのと光るの欲しくて購入(本当は Razer Blackwidow Chroma が欲しかったけど高かった)良い点青軸の打鍵感光る悪い点重い次に使ってみたいキーボードは何ですか？Razer Blackwidow ChromaRazer Huntsman3人目 BAROCCO現在使っているキーボードは何ですか？Mistel BAROCCO（英字配列）（黒軸）キーボードに関するエピソードや思い出はありますか？最初は ThinkPad を使っており結構快適に使っていたんですが分割キーボードの存在を知って、かっこいいし中心にマウスやトラックパッド置けば可動域が楽だ！となり BAROCCO にいきつきました。良い点ホームポジションから極力手を動かさなくていいマウスを握るために手を外側へ可動しなくていい自分の好きなキーバインドにカスタムできる（↑↓→← を vim 配列に変えるだけで最高）悪い点Fn の配置換えが Fn + left Shift なのでいつの間にか Fn の場所を変えてしまうことが致命的以前使っていたキーボードは何ですか？ThinkPad次に使ってみたいキーボードは何ですか？ErgoDox EZ: An Incredible
</div><div class="ui-feed-item__date" title="2018-12-14 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-12-12-golden-tech-podcast-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-12-12-golden-tech-podcast-2/">TechなPodcastやってます - ゴールデンTechGuy酒場#2</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データエンジニアをしている白鳥（@irotoris)です。今日はリクルートライフスタイルが協賛しているTechなPodcast「ゴールデンTechGuy酒場」の第2回が配信されましたので、そのレポートをお送りします。ゴールデンTechGuy酒場は、「エンジニア達の飲みの席で行われる最高に面白い話をそのまま配信しちゃおう」という思いつきから始まった、Tech系Podcastです。新宿ゴールデン街のとある酒場にて収録・配信しています。Podcast配信の経緯や第1回の配信については、過去のブログ（TechなPodcastやってます - ゴールデンTechGuy酒場）を御覧ください。第2回の様子第2回ではSite Reliability Engineering (SRE)をテーマに様々なゲストにお話しいただきました。テーマとして「SRE」を考えたとき、「SREってそもそもなんなの？」「世のSREチームやエンジニアはなにしてるの？」「SREができる人はどこにいるの？」という状態だったので、SREやってる人・SREについて語りたい人・SREエンジニアに会いたい人を集めてみました。その結果、トークは大いに弾み、1時間56分という映画並の大長編になっております…！ざっくり話したことSREの主な仕事ってなんですか？どこからどこまでがSREの仕事？システム障害やオンコール対応って実際どう運用を回しているの？SREができる人やチームってどう育てていくの？SLI/SLO/SLAってなに？エンジニアとSLA、エラーバジェットの話SLA、どう守る？ビジネス側にSREの価値を理解してもらうには？SREとDevOpsの違いって何？SREチームがない某社のSREの話メールのSLO/SLAの話新規事業におけるSLO/SLI/SLAってどう決めていく？やっていく？SIerにおけるSREってなんだろう？SREで使うツールはOSS派？自作派？製品派？自分が憶えている &amp;&amp; 聞き直してざっくり話題をまとめてみました。一つの話題で複数の人や企業のお話があるのでボリューム感はバラバラですが、参考までに。参加してみて様々な企業のSREの話しを聞ける、とても貴重な場だったと思います。自分も日頃SREに対して感じていた疑問や、他のみんながSREというものをどう捉えているのか、ということをストレートに議論す
</div><div class="ui-feed-item__date" title="2018-12-12 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-12-02-terraform-fargate/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-12-02-terraform-fargate/">TerraformでFargateのSidecarを実現しよう</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！リクルートライフスタイルの共通クラウド基盤でリードクラウドアーキテクトをしている須藤です。この記事は AWS Advent Calendar 2018 の2日目の記事です！( リクルートライフスタイル Advent Calendar 2018 2日目の記事でもあります)リクルートライフスタイルの共通クラウド基盤では、サービスごとにアカウントを払い出して、サービス開発者がその環境を構築する、というスタイルです。クラウドアーキテクトチームはCCoE(Cloud Center of Excellence)であり、TerraformやFargateを使いたい、という開発者に対しては、ペアプログラミングやアーキテクチャレビューなど、規範的・助言的な活動を通して成長しあっていく、という活動をしています。当然、re:Invent 2018で発表された トランジットゲートウェイ や AWS Resource Access Managerのクロスアカウントリソース共有 なども、適用することで幸せになるユースケースがあれば積極的に使っていきたいと思っています！Terraform で構築するサービスの構成まずは、Terraformで構築する新しいサービス myservice の構成図を紹介します。新しいAWSアイコンを使って作図してみましたが、まだちょっと慣れませんね。2つのAZにそれぞれ3つのサブネットがあり、ALBを配置するパブリックサブネット、Webアプリケーションを動かすためのサブネット、データベースを置くためのサブネットに分かれています。Fargateで動作するTaskは、Webアプリケーションサブネットに配置します。また、これらのTaskはSidecar構成で、それぞれDataDog Agentのコンテナとセットで起動します。DataDog AgentのSidecarを、どうTerraformで構成すれば良いのか？TerraformでFargateを利用したサービスやTask Definitionを記述するときに注意すべきはどこなのか？やったことがないと、試行錯誤してしまいそうなところです。順に見ていきましょう。DataDog を利用するための構成DataDog AgentでFargateのコンテナを監視するので、Webアプリケーション本体とDataDog Age
</div><div class="ui-feed-item__date" title="2018-12-02 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-11-15-gcnext/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-11-15-gcnext/">Google Cloud Next &#39;18 in Tokyoで登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データ基盤の構築、運用をしている山田（@nii_yan)です。9/19,20に開催されたGoogle Cloud Next in Tokyo ‘18 にて登壇させてもらいました！弊社から登壇させてもらったのは下記の2本になりますリクルートライフスタイルにおける深層学習の活用とGCPでの実現方法弊社 CET チームに所属する堀澤(@horiken4)が発表した内容になります。登壇内容データプロダクト開発により利益を創出する CET チームデータプロダクト開発を加速するための基盤システム弊社における深層学習の活用事例と、それをどのように GCP で実現しているのかについて話をさせていただきました。弊社はじゃらん.net、ホットペッパービューティー、ホットペッパーグルメ、といった大規模なサービスを運用しており、そこから得られた大量かつ多様性の高いデータを活用して利益を創出するために GCP を利用しています。どのように BigQuery、 ML Engine (TensorFlow)、Dataflow などを組み合わせて深層学習を用いたシステムを GCP 上で実現し、大規模サービスの利益創出に活用しているのか、なにかしらの参考になれば幸いです。 BigQuery を使用した分析基盤の運用を進めていく上で見えてきた課題、乗り越えてきた軌跡登壇内容リクルートの分析基盤概要BigQueryの運用についてデータパイプラインアーキテクチャBigQuery基盤で取り組んだ工夫について話をさせて頂きました。BigQueryはとても優れたDWHだと思いますが、運用を進めているといくつか課題も見えてきます。最後にイベントに参加させてもらい、他社事例も多く聞いたのですが、非常にうまくGCPを使いこなしている会社が多い印象を受けました。弊社の場合はAWSと合わせてマルチクラウドで使っていますが、参加者と話をさせていただくと同じ様にマルチクラウドで使われている方も多く、話をすることで多くの学びを得られたと思います。このような素晴らしい機会を与えてくださったGoogle Cloud Next &#39;18 in Tokyoのスタッフの皆様には 改めて御礼を申し上げます。是非とも来年も参加させて頂きたいと思います。</div><div 
class="ui-feed-item__date" title="2018-11-15 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-11-02-report-val-lab/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-11-02-report-val-lab/">「ヴァル研究所」社内見学ツアーレポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。リクルートライフスタイルのデータ基盤の運用をしている大長です。今後、社内のアジャイル開発をより加速していけるように、カンバンなどアジャイルを用いて業務改善に力を入れていることで有名な「株式会社ヴァル研究所」（以下、ヴァル研究所）の社内見学ツアーに参加してきたので、その様子を共有させていただきます。「株式会社ヴァル研究所」とはヴァル研究所は、「駅すぱあと」などのサービスで有名な会社で、会社としても42年目の老舗企業になります。見える化・カンバン・カイゼンに力を入れていることで有名な会社で、「カイゼン・ジャーニー」の著者である新井さんも所属しています。カイゼン事例の共有の場として社内見学ツアーを開催しており、今回、その進んだカンバン文化を参考にするため、8名で見学ツアーに参加してきました。「ヴァル研究所の社内見学ツアー」とは社内見学ツアーとは、ヴァル研究所のオフィスに訪問し、見える化・カンバン・カイゼンの活用事例をナマで見学させていただける人気のツアーです。「 アジャイル界隈の先人への感謝 」 「 ソフトウェア業界への貢献と奉仕 」を目的に開催している大変有り難いツアーであり、見学ツアーの詳細については、登壇資料（AgileJapan2017【心】見える化・カイゼン・カンバンが全社に広がった ～口コミで広がった会社見学ツアーへの想い・ボクが仲間を信じれば会社は変わる～ - Speaker Deck）を確認してください。見学ツアーの大まかな流れは、実際に事例を見ながら、各部署の担当者様に活用事例を説明してもらい、質疑応答に答えてもらうのがメインになります。見学ツアーの所要時間は、見学できる部署数など、その時の状況に応じて変動しますが、約1時間30分〜2時間程度になります。「社内見学ツアー」の様子についてヴァル研究所のロビーになります。事前に予約連絡しているので、電光掲示板で「熱烈歓迎」していただきました。嬉しかったです。見学ツアー開始後、壁一面を紙媒体の時刻表で埋め尽くされた部屋に通されます。電車・バスの運賃や時刻表は、デジタル化する義務はないらしく、地方路線は未だに紙媒体しかない場合もあるそうで、そのような場合は、紙媒体など様々なデータソースから丁寧に手入力し、デジタル化しているそうです。（電車・バスの運賃や時刻表は、どこかで統合管理されているものかと、勝手
</div><div class="ui-feed-item__date" title="2018-11-02 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-31-improve-webpack/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-31-improve-webpack/">Airレジ中国SPAを5分の1に軽くした話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Airレジ中国SPAを5分の1に軽くした話対象読者SPA(Single Page Application)の性能を改善したい方webpack buildの流れを改善したい方背景私はAirレジ中国チームでフロントエンジニアとして開発を担当している李です。今回はSPAの性能改善について共有したいと思います。本稿では、性能があまり良くない端末と弱電波の環境下でもSPA(Single Page Application)が速く走るように改善できたことをお伝えします。私を含めエンジニアたちは性能の良い端末（MAC Proなど）でSPAの開発をしていたため、アプリケーションのパフォーマンスが悪いことに気付いていませんでした。そしていざリリースしたところ、性能が良くない端末を使っているお客様から、「めっちゃ重い(太卡了)」と多くの苦言をいただいてしまいました。「重い」というのはお客様からの直感的な体験ですが、この現状の裏には何があったのでしょうか？分析してみましょう！ストーリーまず、webpack-bundle-analysis を使って分析してみようwebpack-bundle-analysis とは、 webpack の build について分析するツールです。webpack-bundle-analysis を使って以下の分析結果が出てきます。この図を見ると、改善すべきのところがはっきりわかるでしょう。特に大きいのはこれらのファイルです。Index.stylairui.min.cssmoment.jsmoment.time-zone.jslodash.jsr-air-ui/build.jsあとは、いろいろな使われていない package などもありました。全体的にsizeは 1.1MB ぐらいありました。では、以上の結果に対して一つずつ改善しましょう。CSS抽出 「1.1MB → 601KB」まずは簡単なやつからメスを入れましょう、 Index.styl と airui.min.css この二つは stylus/css なので、js から抽出して独立させましょう。webpack の config に以下のように設置します。1234567891011121314151617181920const MiniCssExtractPlugin = require(&quot;mini-css-e
</div><div class="ui-feed-item__date" title="2018-10-31 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-19-tbf05-report/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-19-tbf05-report/">技術書典５サークル出展レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。飲食領域でテックリードをしている浅野です。技術書典５にサークルとして初参加/初頒布をしたため、参加するまでの経緯や当日の様子などについてレポートしようと思います。技術書典とは一言でいうと「技術書版のコミケ」で、企業/有志問わず多種多様な技術書が頒布されるお祭りです。今回最終的には、出展サークル数は約470組、一般参加者は1万人（！）の大台を超えたとのことでとんでもない規模になっていることがわかります。サークル参加の経緯もともとイベント自体の存在は知っており、頒布された技術書の電子版を後日購入していたりはしたのですが、実は実際に当日参加をしたことはありませんでした。そんな中6月に技術書典５開催の発表がされ、「今回は当日参加するぞ！」と意気込みつつ、スポンサー募集もしていたので軽い気持ちで会社に協賛の提案してみたところから色々話が動き始めます。最初はノベルティ配布くらいで終わらせるイメージだったのですが、内部で話を進める中で頒布物の作成自分としても機会があれば技術書を作ってみたいとは思っていたので渡りに船ではあったのですが、そこからが大変です。コンテンツの構成ページ数/サイズ執筆者の募集表紙入稿までの必要工程/スケジュールetc.何もかもが分からない事だらけで、想像していた以上に苦労する部分がありました。検討にあたり、運営ブログで公開されていた前回のアンケート結果を参考にしたり、過去イベントの頒布物の分布を出して眺めてみたり、色々手探りでの進行でした。参考: 正直あまり役には立たなかった分布図スポンサー参加という事で全体の進行や諸々の調整は人事の方にお願いし、ホットペッパー始めとするフリーマガジンを作っている会社というアドバンテージを活かして制作部隊の方々の全面協力を受けた上でその状態だったので、個人でやっていたら間違いなく頓挫していたと思います。7月に運営主催ではじめてのサークル参加meetupというものも開催されていたようなので、次回以降で初参加を考えている方はそういった場で事前に情報を収集しておく事を強くオススメします。私も本当は参加しておきたかったのですが、定員オーバーで参加できませんでした…そんなこんなで最終的にはかなりギリギリのスケジュールにはなっていましたが、どうにか冊子を完成させることができました。当日の様子いよいよイベント当日。朝一のブース
</div><div class="ui-feed-item__date" title="2018-10-19 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-19-serverlessconf2018/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-19-serverlessconf2018/">Serverlessconf Tokyo 2018に登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。分析基盤エンジニアの秋本です。先日9月29日に行われたServerlessconf Tokyo 2018(以下、サーバレスカンファ)に登壇し、弊社の サーバレスETL(Extract Transform Load)基盤 に関して発表を行いました。また、サーバレスカンファに出展した弊社ブースでは、 サーバレスとビッグデータに関するクイズ大会 を開き、多くの方に参加して頂きました。本エントリでは、発表したサーバレスETL基盤の内容と、弊社ブースの内容をお伝えしたいと思います。サーバレスETL基盤の概要 背景私たちは2013年から分析基盤を運用し続けており、社内からの分析要望に応える形で、現在までシステムのアップデートを重ねてきました。しかし直近、下記のような問題が顕在化するようになりました。シェルスクリプトで書かれたレガシーなコードの開発および保守が困難複数システムを連携させるスケジュール実行ではテーブル単位でのロードができず非効率オンプレサーバが複雑化しすぎて開発に必要なパッケージを導入できないこのようなシステム上の困難を解消するために、私たちはサーバレスを用いたETL基盤を構築することに決めました。アーキテクチャ設計思想今回のサーバレスETL基盤を設計するにあたり、私たちは下記の5つを目標としました。サーバー管理が極力少ないパイプラインと実行環境イベントドリブン &amp; 疎結合なアーキテクチャスケーラビリティと処理の並列数の管理イベント（データ）のステータス管理と活用運用が楽になるロギング・モニタリングまた全体のアーキテクチャ構成は下図のようになっております。サーバレスでの設計は、スケーラブルで疎結合なアーキテクチャが作りやすいという利点がありますが、一方でそれをETL基盤に適用する際には、DWH(Data Warehouse)といった スケールが困難なコンポーネントに対する並列数をしっかりと制御する必要があります。また、サーバレスではログがそれぞれのコンポーネントに分散しますので、本番での運用につなげるためには、 ログを一元的に管理するDatadogのような仕組みが必要となります。その他設計の詳細は上記のスライドに記載しておりますので、ぜひご覧ください。発表の様子数百人の参加があったサーバレスカンファですが、その会場は大きく、 48:9のスライドサイズでの
</div><div class="ui-feed-item__date" title="2018-10-19 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-04-ml-platform/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-10-04-ml-platform/">Jupyter だけで機械学習を実サービス展開できる基盤</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、CET チームの田村です。データ基盤を構築・運用したり、チャットボット（スマホ用です）を開発したりしているエンジニアです。皆さん、実サービスで機械学習、活用できていますか？正直、難しいですよね。高精度なモデルを作ること自体も難しいですが、実際のサービスにそれを組み込むには、そこからさらに数々の難所が待ち構えているからです。でも、そのほとんどはエンジニアリングで解消できます。私たちのチームでは、数年にわたる経験をもとに難所とその対処法を整理し、すばやく成果をあげられる機械学習基盤を開発しはじめました。本記事では、この基盤の設計とその背後にあるアイデアをご紹介します（機械学習工学研究会の勉強会での発表資料がベースです）。イテレーションを何度も回せ基盤そのものの前に、まず機械学習を成果につなげるためのポイントを説明させてください。私たちは、機械学習の活用において必要な業務を、次の3つに分類しました。データ開発 （今回はスコープ外のため深入りしません）継続的なデータの収集、蓄積そして整備分析・モデル開発・検証ステップ 1. データ探索・基礎調査ステップ 2. モデル作成・パラメータチューニングステップ 3. 学習バッチ/API の開発・デプロイステップ 4. 実サービスでの検証（AB テストなど）運用継続的な学習バッチと API の運用データ開発と運用は継続的に行うものです。いっぽう「分析・モデル開発・検証」業務はステップ1〜4を1つのライフサイクルとし、これを企画ごとに実施していく形になります。大事なポイント。このステップを1回実施したきりでは、大きな成果や学びが得られることは多くありません。螺旋階段をあがるように何度も何度も何度も何度もこのイテレーションを回し、実サービスから生きた知見を貯めていくことが不可欠なのです。そのためには、イテレーションの1回1回をすばやく（＝アジャイルに）実施できることが鍵になります。ソフトウェアエンジニアリングと機械学習の関心を分離できるかでは、機械学習を活用する取り組みにおいて、何がすばやさを阻害しているのでしょうか。私たちはこれまでの経験から、その原因はソフトウェアエンジニアリングと機械学習の関心の違いにあると考えています。ソフトウェアエンジニアリング ：作ったものが現実の世界に対してどう振る舞うかに関心があります例）変更に
</div><div class="ui-feed-item__date" title="2018-10-04 01:00:00">5年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-09-11-gc-next-tokyo/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-09-11-gc-next-tokyo/">Google Cloud Next &#39;18 in Tokyoに登壇します</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">こんにちは。データ基盤の構築、運用をしている山田（@nii_yan)です。9/19,20に開催されるGoogle Cloud Next in Tokyo ‘18 にて弊社から２つのセッションで登壇させてもらいます！リクルートライフスタイルにおける深層学習の活用とGCPでの実現方法BigQuery を使用した分析基盤の運用を進めていく上で見えてきた課題、乗り越えてきた軌跡２つのセッションでは以下の内容を話させてもらう予定ですデータ分析基盤深層学習２つのセッションともまだ席には若干の余裕があるそうなので、興味があると思った方は是非とも聞きに来て下さい！</div><div class="ui-feed-item__date" title="2018-09-11 01:00:00">5年前</div></div></div><div 
class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-07-05-golden-tech-podcast/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-07-05-golden-tech-podcast/">TechなPodcastやってます - ゴールデンTechGuy酒場#0,#1</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データマネジメントGでデータエンジニアをしている白鳥（@irotoris)です。今日はリクルートライフスタイルが協賛しているTechなPodcast、「ゴールデンTechGuy酒場」についてお話しします。 こんなPodcastです。 きっかけエンジニア仲間との飲みの席や懇親会って、面白い技術やアイディア、エンジニア組織論みたいな話が赤裸々に、夢と現実感が入り混じって最高に面白いですよね？自分はそれが最高に楽しく、この話を飲みの席だけに留めておくのはもったいないと思ってました。 ある日、新宿のゴールデン街でエンジニア仲間と飲んでいたところ、「もういっそのこと、この飲みの席のテックトークを配信してしまえばよいのでは？」「毎回ゲストも呼べばさらに楽しいよね！」となり、この「ゴールデンTechGuy酒場」が企画されました。協賛は、株式会社セクションナイン様と弊社リクルートライフスタイルです。運営準備とルール決めTech系Podcast配信している@sawanobolyさんの協力のもと、この飲みの席のテックトークをのぼりーさんのクラウドインフラPodcastで配信いただけることになりました。 （ありがとうございます！） のぼりーさんのクラウドインフラPodcastではこの「ゴールデンTechGuy酒場」とは別に、Podcast出演希望者を随時募集中です。Tech系Podcastに出てみたい！という方はこちらのドキュメントもぜひご参照ください。 docs.cloudinfra.podcastのぼりーさんのクラウドインフラPodcast - Soundcloud, iTunesトーク内容については各回で技術的なトピックをトークテーマとして決め、そのテーマについて詳しい人、知りたい人、とにかく喋りたい人を酒場に集めてトークする、というルールにしています。また、「ゴールデンTechGuy酒場」は新宿ゴールデン街にある、1日貸切ができるとあるお店で行われています。同じチームの山田（@nii_yan)が店長となり、ゲストのみなさまに お酒とお寿司とエンジニアネタ を提供いたします。 ゴールデンTechGuy酒場 #0 お題「データ分析・機械学習」の様子2018年4月3日に行われた第0回では「データ分析・機械学習」のテーマで行いました。第0回はPre運用ということで、少人数での
</div><div class="ui-feed-item__date" title="2018-07-05 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-22-wwdc2018/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-22-wwdc2018/">WWDC18に参加してきました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは、スマートデバイス基盤チームの段です。 （弊社におけるスマートデバイス基盤チームの役割についてはこちら）今年のAppleのデベロッパー向けカンファレンス（WWDC）に初めて参加してきました。現地の雰囲気と気になったセッション内容をご紹介したいと思います。現地の雰囲気会場は例年と同じくMcEnery Convention Centerになっています。開催前日でチェックインすることができるので、Keynoteのいい座席を取るためにも事前にチェックインを済ませておく事をお勧めします。Keynoteの為に前日から並ぶ参加者もいらっしゃいました。自分もあまり寝られなくて朝4時ぐらいで並ぶようにしました。ちなみに、自分が並ぶ時には既に長蛇の列になっていました。Keynote開始前の会場の様子です。前面のスクリーンに映されたのはApp Storeに公開された人気アプリです。こちらは参加者が自由に利用できるLoungeスペースです。食事や歓談の場だけではなく、無料wifi、コンセントも用意してくれていて、発表された新機能をその場で試す参加者も多くいらっしゃいました。WWDCに参加するにあたり、Appleエンジニアと意見交換できるラボに行くことをお勧めします。ラボは開催期間内でいつでも参加できるラボと、事前予約必要なラボに分かれています。また、自由に参加できるラボも場所と開催時間が決められているので、事前に確認することが大切です。自分もNotifications Lab, User Interface Design By Appointment Labなどいくつかのラボに行きまして、不明点を回答して頂くほか、自社サービスのデザインに関しても提案を頂き、とても有意義な時間を過ごしました。また、周辺イベントとして、AltConf2018、The Loop Bash、Firebase Party、try! Swift San Joseなどもあり、興味のあるイベントを事前チェックして、チケットをゲットするなども重要です。気になったセッション内容ティム・クックさんがKeynoteで「Today is all for software」と宣言したように、今年の発表内容は開発周りの内容がメインになっています。開発者が喜ばれる改善や新機能発表が多く、その中に自分が気になったセッショ
</div><div class="ui-feed-item__date" title="2018-06-22 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-13-rls-meetup-9/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-13-rls-meetup-9/">RLS Meetup#9レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！ホットペッパービューティーの開発している手塚です。先日開催された「RLS Meetup#9 リクルートライフスタイルのフロントエンドのいまとこれから」のレポートをお届けします。今回は「フロントエンドのいまとこれから」をテーマに、じゃらん・ホットペッパーグルメ・ホットペッパービューティー・Airレジの4領域での様々な取り組みについてご紹介しました。「vs レガシー」というテーマを掲げていたためか多くの方に参加していただき、それぞれの組織での取り組みやレガシーな環境についての話で懇親会も盛り上がりました。それでは今回のMeetupで発表させていただいた内容を詳しくご紹介していきたいと思います。フロントエンドFW戦争を乗り越え、デザインシステムを導入した話一番手はリクルートライフスタイルに新卒入社し、Airレジを中心とした「Airシリーズ」のフロントエンドを幅広く担当している中村の発表です。Airレジが採用した技術の背景やどういった意志で技術選定をしたのかという話、「Airシリーズ」横断でユーザ体験の統一を図るためにデザインシステムを導入した事例も語られました。 Air事業 フロントエンドFW戦争を乗り越え、デザインシステムを導入した話 from Recruit Lifestyle Co., Ltd. レガシーと向き合い技術スタックを代謝する（ElasticBeanstalk / Vue.js）続いて、ホットペッパーグルメのレストランボードという業務支援アプリのフロントエンドリーダーを務める岩下の発表です。既存の独自フレームワークと日々の業務の中で変更していったツール群の紹介と新規案件の中でフロントエンド/インフラの両面でチャレンジをした事例について共有しました。 レガシーと向き合い技術スタックを代謝する（ElasticBeanstalk / Vue.js） from Recruit Lifestyle Co., Ltd. Nuxt.jsとExpressでSPA×SSR×API Aggregationを実現した話3番目は横断アーキテクトグループとして、ホットペッパーグルメやAirレジ、じゃらんでフロントエンドに携わっている山口の発表です。じゃらんの既存システムを利用したWebアプリケーションを開発する際に、既存システムに影響を与えないようAPI Aggrega
</div><div class="ui-feed-item__date" title="2018-06-13 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-07-zenhub/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-07-zenhub/">タスク管理ツール ZenHub を導入して楽々タスクマネジメントを始めた話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
タスク管理ツール ZenHub を導入して楽々タスクマネジメントを始めた話Airシリーズのフロントエンジニア日野澤 (@kt3k) です。今日は、タスク管理ツールの ZenHub Enterprise を導入した話です。きっかけリクルートライフスタイルでは全社的には主に JIRA でタスク管理を行なっていますが、Airウェイトフロントエンドチームでは JIRA の運用がうまく回っていない問題がありました。Airウェイトバックエンドチームでは JIRA の WBS (Work Breakdown Structure, 作業分解図) を使って進捗を管理していますが、フロントエンドチームは、タスクの粒度が細かく流動的で WBS は馴染まないとして GitHub issue でタスクを管理していました。結果、チームとしての進捗が良く分からないまま放置される状況が続いていました。一方で、やはり進捗可視化ができないことが不便であると言う意見も強く、昨年(2017)末の案件ではフロントエンドの進捗遅れが原因でリリースが遅れる事案が起こっていました。当初はバックエンドチームのワークフローに寄り添った JIRA ワークフローを組んで改善を試みましたが、チームの JIRA スキルが足りず、代替ツールとして ZenHub Enterprise を使う案が上がってきました。ZenHub Enterprise とはZenHub は GitHub の issue を Trello のカンバンのように扱えるツールです。ブラウザエクステンションとして実装されていて、GitHub の UI 上からシームレスに、タスクカンバンや、マイルストーンごとのバーンダウンレポート等を出力できます。JIRA のようにカンバンを作成するために複雑な設定などは無く、使い始めた時点で、GitHub repository の issue がそのままカンバンになります。また GitHub のマイルストーンに対してバーンダウンレポートが自動的に作成されます。(複数の GitHub repository を跨いだ看板を作成することもできます。)ZenHub 自体は github.com 上で動く SaaS 型サービスですが、2015年には GitHub Enterprise 上で動く ZenHub Enterprise がリリ
</div><div class="ui-feed-item__date" title="2018-06-07 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-05-bigquery-seminar/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-05-bigquery-seminar/">米国のBigQuery開発エンジニアを呼んで社内BQ勉強会を開催しました。</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
みなさん、こんにちはデータ分析基盤の運用・保守を担当している白子（@y0shirak0)です。テックブログには２回目の登場です。先日、GCPのBigQuery�担当の開発エンジニアを米国からお呼びし、弊社でBigQueryの勉強会を開催しました。参加者は弊社の社員だけでなく、リクルートテクノロジーズやリクルート住まいカンパニーなどのグループ会社で働く社員も参加し、合計80名ほど集まりました。参加人数が物語っているように、リクルートグループではGCP(特にBigQuery)への興味・関心が非常に高まっております。また、リクルートグループではGCPを利用した事例も増えてきており、その事例は外部のカンファレンスなどで情報発信もしております。勉強会は下記アジェンダで進んでいきました。AgendaIntroductionリクルートでのBigQueryユースケース by リクルートライフスタイル 山田Google BigQuery Roadmap by Google Chad氏 (Product Manager of BigQuery)This is Google BQ by Google Ahmed氏 (Technical Lead Manager of BigQuery Storage)FAQIntroductionIntroductionでは、事前に取っていた社内アンケート結果の共有とリクルートでは定額料金契約をしているため、そのスロット数やサブリザベーションの内訳についてGoogle櫻井さんより解説いただきました。定額料金契約についてはこちらをご覧ください。リクルートでのBigQueryユースケースリクルート内部情報共有の目的で、リクルートライフスタイルでのBigQueryユースケースを弊社山田より紹介しました。ただどのようにBigQueryを利用しているのかという紹介だけでなく、実際に現場では何に苦労し、どのように解決したか、それを踏まえてGoogle社への改善要望も盛り込んだ実践的な内容になっていました。Google BigQuery RoadmapProduct ManagerのChad氏より、BigQueryの2018年のロードマップについてお話をいただきました。実はChad氏が着ている赤いTシャツ。この場では内容はご紹介できないのですが、すごいワクワクするよう
</div><div class="ui-feed-item__date" title="2018-06-05 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-01-uikonf2018/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-06-01-uikonf2018/">UIKonf 2018に参加してきました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにホットペッパービューティーのアプリを担当している外崎です。http://www.uikonf.com あまり行く機会のない海外のカンファレンスですが、iOS関連のものは下記のサイトがよくまとまっているので行く機会が有る方は参考にしてみてください。https://www.raywenderlich.com/180691/top-10-ios-conferences-2018https://github.com/Lascorbe/CocoaConferences UIKonfについてUIKonfはiOSエンジニアのためのカンファレンスです。会場UIKonfはドイツのベルリンで開催されました。セッションの内容当日の動画はYoutubeのチャンネルですでに公開されています。https://www.youtube.com/channel/UC0t-zx5Gnj05dVb9AOEsMKA すべてのビデオを見るのは大変なので、いくつか個人的に面白かったセッションをピックアップして紹介します。The Magic of UI Testingなかなか手を出しにくいUI Testingについてわかりやすい例を交えて発表されていました。Advanced Debugging Techniquesケンブリッジ大学の調査で50%以上の時間をデバッグに使っている事がわかっていることが紹介されてセッションは始まります。https://github.com/facebook/chisel この辺はまだ使いこなせてない部分も多いのでこの機会に使いこなせるようになろうと思います。A Decade of iPhone &amp; iOS in 40 minutes最後だったこともありとても印象に残っているセッションです。まとめベルリンもUIKonfも初めてでしたがカンファレンスに参加することで学びのある時間を過ごすことが出来ました。多くの海外カンファレンスは日本でもビデオで見られるのですが、現地の雰囲気を感じ集中してインプットの時間を作ることは��得られるものがありました！このような経験をサービス開発にも生かしていきたいと思います！</div><div class="ui-feed-item__date" title="2018-06-01 01:00:00">6年前</div></div>
</div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-18-google-io/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-18-google-io/">Google I/O 2018に参加してきました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！ホットペッパービューティーのAndroidアプリを開発している中里（@oxsoft）です。先日行われたGoogle I/O 2018に現地で参加してきたので、自分が体験したことを紹介したいと思います！Google I/O 2018についてGoogle I/Oとは、Googleの新しい技術が発表されたり、開発中のプロダクトに触ることが出来たり、Googlerに質問できたりするイベントです。5/8〜5/10にシリコンバレーのShoreline Amphitheatreで行われました。各セッションについてはYouTubeで公開されるので、誰でも見ることが出来ます。自分はAndroid系のセッションを中心に参加したので、本記事がどれを見るかの参考になれば幸いです。また、動画では公開されず、現地でしか体験できないコンテンツについても紹介できればと思います。KeynoteKeynoteでは、Google I/O 2018の各セッションで発表される内容をまとめたような発表でした。そのため、まずはKeynoteの動画を見ることをオススメします。Keynoteで個人的に面白いと思った内容は、以下の3つです。Google AssistantGoogle LensWaymoGoogle AssistantGoogle Assistantは、新しい声の追加、連続的な会話、複数のアクション、子供向けの機能が紹介されていました。その中でも特に、Google Assistantが美容室に電話して自然な会話で予約をする様子は、会場が非常に盛り上がっていました。Google LensGoogle Lensでは、カメラを使って文字を認識してコピーできたり、翻訳できたりといった機能が紹介されていました。また、ファッションの写真を撮影すると、カバンや靴のブランドを特定してくれるという機能も紹介されていました。Waymo自動運転のWaymoは、交通ルールを守って運転するだけでなく、赤信号を無視して走ってきそうな車に対しても、適切に対処してぶつからないようにする様子が紹介されていました。また、雪道での認識精度向上が紹介されていました。Android Jetpack今回のGoogle I/OではAndroid Jetpackが発表されました。今まであった便利なツールやライブラリに新しい要素を加えて、
</div><div class="ui-feed-item__date" title="2018-05-18 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-17-this-is-my-architecture/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-17-this-is-my-architecture/">AWSのyoutubeにて弊社基盤が紹介されました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データ基盤の構築、運用をしている山田（@nii_yan)です。AWSのWebページにある、This is My Architectureというコーナーで各社の優れたアーキテクチャが紹介されているのですが、そこで弊社の機械学習基盤を取り上げて頂きました！こちらは弊社からリリースされたトリップAIコンシェルジュというサービスの裏側で機械学習を動かすための基盤となっています。今回の機械学習基盤を作る上ではワークロードの特性上、スケーラビリティと信頼性、そして回復力の3点はインフラに対する必須要件でした。計算量が変化しやすく、キャパシティ予測が困難であることに加え、処理が長時間に及びますから、インフラ障害によってそれまで 実行結果が失われてしまうという状況を可能な限り避ける必要があります。また、夜間ウィンドウ内に全て処理を終えるために、問題が生じた場合にも、すぐに代替手段で回復を図らなけれなりません。そして、今後長く使われる予定のサービスなので、いかに運用を減らせる基盤を作れるかを主眼に置きました。そこで着目したのが、サーバレス、そして自動化です。今回の基盤は設計段階からAWSの方にレビューに入ってもらい、リリースまでに改善を繰り返すことで、当初の予定通り運用のかからない基盤を作ることが出来ました。(リリース後、基盤起因による運用は０です！！)そして、今後のデファクトとなるような基盤になったということでAWSからも評価され、このように紹介される運びとなりました。詳しい基盤の内容はこちらで記事にもなっているので、是非ともご覧ください！動画はラスベガスで開催されたre:inventのイベント内で録画をしたのですが、録画の前にメイクされ、ヘアセットされ、多くのカメラに囲まれる中での録画だったので、非常に緊張している映像となっております(笑)今後もこのように取り上げていただける基盤を作っていきたいと思います！！</div><div class="ui-feed-item__date" title="2018-05-17 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" 
href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-16-frontend-ops/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-16-frontend-ops/">リクルートライフスタイルにおける Frontend Ops の取り組みとその中で開発した OSS 「status-back」の紹介</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Airシリーズのフロントエンジニア日野澤 (@kt3k) です。今日はリクルートライフスタイル Airシリーズのフロントエンドチームで行なっている Frontend Ops の取り組みを紹介させて頂きます。また、その過程で開発した OSS ツール status-back について紹介します。(なお本稿では、Frontend Ops とは Frontend における DevOps の取り組み、すなわち各種ツールチェインや自動化手法を用いて、フロントエンドにおける開発及びデリバリーパフォーマンスの向上を行う手法及びその実践と定義します。参考1, 参考2)Jenkins による lint / テスト / モックビルドの自動化Airフロントエンドチームでは、数年前から Jenkins を用いて、フロントエンドの各種ルーチン作業の自動化を行なっています。初期には、製品のフロントエンドモックのビルドだけを主に自動化していましたが、今では、lint / ユニットテスト / e2e テスト / storybook などのデザイン見本のビルド / リリース用アセットの生成など、あらゆる場面で Jenkins を活用しています。Airウエイトフロントエンドのビルドパイプライン。lint、stylelint、storybook(2セット)、テスト、モックビルドの6つの観点で Pull Request を検証している様子CI からマルチステータスを返す古くからある Jenkins プラグインのGitHub PR ビルダーを使うと、1つの CI ビルドに対して 1つのステータスを返すことが出来ます。1つの CI ビルドに対して1ステータスというのは、人気のある CI プラットフォームの Travis や Circle CI でも基本的には同様です。しかし、フロントエンドにおける CI の用途が多様化するにつれて 1ビルド 1ステータスしか返せないのはだんだんと不便になってきました。例えば、モックビルド / lint / ユニットテスト で CI を使っているプロジェクトがあった時とします。1ステータスしか返らない場合だと、CI から失敗ステータスが返って来た時に、それが、モックの失敗か、lint の失敗か、テストの失敗かが分かりません。3つの観点がそれぞれ別のステータスで github に返
</div><div class="ui-feed-item__date" title="2018-05-16 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-07-auto-cloud-compute/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-05-07-auto-cloud-compute/">Data-Driven A/B Testing を高速に回すための DevOps 基盤</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにみなさん、こんにちは。データエンジニアリングG CET チームの菅沼です。弊チームは、「RLSMeetup#7 プランナー・サイエンティスト・エンジニア三位一体！年間十数億稼ぐチームの舞台裏」のレポートにあるように、一つのチームに複数人のプランナー・データサイエンティスト・エンジニアが在籍しており、弊社におけるビッグデータを活用して利益創出することを目指したチーム体制となっています。じゃらんなどの大規模なサービスでは、データ分析によるコンテンツ出し分けやレコメンドシステムの性能評価に A/B テストを用いており、本稿では、そのようなデータドリブンな A/B テストを高速に回すための取り組みとして、新たに開発した DevOps 基盤の導入経緯や仕組みについて紹介していきます。A/B テストを高速に回すためには？機械学習を含めたデータ分析を利用して有効な施策を生み出すには、データサイエンティストの知見が必要不可欠です。しかし、データ分析が複雑化するほど、多くの計算リソースが必要になり、かつバッチ化 (システム化) の難易度が高くなることが問題になります。そのため、データ分析を利用した A/B テストのサイクルを高速に回すためには、以下のような仕組みが必要であると考えられます。データサイエンティストがクラウドのパワフルな実行環境を活用できる仕組みデータサイエンティストの分析用コードをシームレスにバッチ化できる仕組みクラウドのパワフルな実行環境言わずもがなですが、分析すべきデータの量は膨大です。分析サイクルを速くしたり、深い分析したりするためには、クラウド上のリソースを上手く活用できるかが重要となります。エンジニアであればクラウドのリソースを扱えますが、理論系のデータサイエンティストはクラウド環境の利用を得意としない方もいます。また組織によっては、アクセス権限のポリシーを細かく設定することで、セキュリティ面や金銭面の安全性を高める運用をしており、クラウドが使いづらいものになっているかもしれません。そこで、データサイエンティストでも追加の学習コスト無しで簡単にクラウドのリソースを活用でき、機械学習を含めたデータ分析が実行できる仕組みがあると良いでしょう。シームレスなバッチ化機械学習などを含むシステムの開発では、まず理論寄りのデータサイエンティストがプロトタイプの分析用
</div><div class="ui-feed-item__date" title="2018-05-07 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-04-17-manabiya/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-04-17-manabiya/">MANABIYAに登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
初めまして。リクルートライフスタイル（以下、RLS）のデータ分析基盤において運用チームリーダーをしている白子（@y0shirak0)です。先日開催されたMANABIYA -TERATAIL DEVELOPER DAYS-に参加させていただき、弊社秋本と一緒に登壇もさせていただきました。今回は、登壇したセッションの内容と当日で伝えきれなかった内容の補足をメインにお届けします。セッション内容今回のセッションでは、RLSの30もあるサービスの各種データを一手に集め集計処理などをおこなっている社内分析基盤の構成や、分析基盤で利用している各DWHの選定理由・利用用途、そして分析基盤の課題をシステムと運用を用いてどう解決しているかの実例をお話しさせていただきました。slideshareで登壇資料を公開しておりますので、ぜひご覧ください。 ここからは、セッションではお伝えしきれなかった補足情報をメインにお話しさせていただきます。社内分析基盤弊社の分析基盤の構成は下記になります。データウェアハウス（以下、DWH）は、Oracle Exadata・Amazon Redshift・Google BigQuery・TreasureDataを利用しており、データのストア先・ハブとしてS3をメインで利用しております。弊社の分析基盤が作られたのは2011年ごろで、その頃はHadoopクラスタ15台からスタートしたのですが、そこからHadoopからTreasureDataに移行したり、RedshiftやBigQueryを導入し始めたりと2011年の頃と比べるとかなり構成は変わりました。各DWHの選定理由と利用用途についてOracle Exadata弊社では元々IBMのNetezzaを利用していたのですが、EOSLに伴いOracleのExadataに移行しました。Netezza後継機のPureDataではなく、Exadataを選定した大きな理由としては以下になります。 Exadata間でのDataGuardのよる冗長構成グループ会社であるリクルートテクノロジーズがすでにExadataを運用していたため、DBLINKでのOracleDBとのシームレスな接続事業側のデータベースがOracleを利用しているため、DBLINKを用いシームレスな接続が可能です。ただ、Oracle Exadataはあくまでオ
</div><div class="ui-feed-item__date" title="2018-04-17 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-04-16-rkt3/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-04-16-rkt3/">Kotlin勉強会R.ktの第三回を開催しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、ビューティ事業ユニットの兒玉です。ホットペッパービューティーのAndroidアプリ開発を担当しています。2018年3月15日にR.kt#3を開催しましたので、その時の様子をレポートします。前回はKotlinizeスペシャルでしたが、第三回となる今回は特別なテーマを設けることはしませんでした。その分、Kotlinという言語の勉強会らしく、バラエティーに富んだ深みのある会になったのではと感じています。乾杯恒例の乾杯からのスタートです！セッション紹介変態文法とKotlin Puzzlers1人目の発表は日本Kotlinユーザグループ代表の長澤太郎(@ngsw_taro)さんです。文法的には正しいが、普段はなかなか書かないような数々の変態コードを紹介し、解説していただきました！自分では書かないコードですし、チーム開発ではレビューをパスできないコードだと思いますが、Kotlinの文法を深く理解するには知っててもよい知識だなあと感じました。Kotlinミニアンチパターン続いては弊社の中里(@oxsoft)による『Kotlinミニアンチパターン』という発表でした。中里は先日のDroidKaigi 2018にて『Kotlinアンチパターン』という発表を行いました。最後は中里からの「アンチパターンじゃなくてお悩み相談ですけど…」で笑いがおきてました（笑）。 もくもくKontribute3人目はASICSの磯貝(@shiraj_i)さんによるセッションで、「10分でKotlinにコントリビュートします！」という内容でした。 最初にKotlinへのコントリビュートの仕方を簡単に説明したあと、実際にライブコーディングを行い、最終的にはKotlinのリポジトリへプルリクエストを行いました。ちなみに、こちらがこの時にコントリビュートしたIssueです。 ホットペッパービューティー / Kotlin採用時の懸念と実際4人目は弊社の索手(@sakuna63)による発表です。リプレイスプロジェクトの背景を説明しつつ、どのようにKotlinを採用するに至ったかを話してくれました。これほど大規模なKotlinリプレイスプロジェクトの事例はなかなか無いのではないかと思います。それだけで貴重な知見だと思いますので、Kotlinを採用したいけど悩んでる方がいれば参考にしていただけるのではないでしょ
</div><div class="ui-feed-item__date" title="2018-04-16 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-04-03-design-replace/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-04-03-design-replace/">プロジェクトのデザイン管理を改善した話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
プロジェクトのデザイン管理を改善した話こんにちは。レストランボードでiOS開発を担当しているいちきです！はじめに僕が配属された当時のレストランボードのデザイン共有フローです。 デザインファイルは会社の共有ドライブで管理している案件ごとにフォルダーを作り、デザインをしたらそこに追加していく新案件がある度に前のデザインから必要な要素を取ってきてデザインするエンジニアとの共有は画像データに書き出して渡す(エンジニアはデザインファイルの場所を把握していない)デザイナーはプロジェクトに1名(現在は2名)必要なデザインがあればデザイナーにお願いをしてデザインの画像を受け取っていました。見えてきた課題デザインを確認したい時にはデザイナーへ依頼をする必要があり、エンジニアとしても課題を感じていました。。課題と発生事象をまとめたものが下記です。要因要素課題社内の共有ドライブに置かれた個人フォルダーで管理最新版のデザインファイルがいつ更新されたか把握がしづらいデザインファイルの管理がデザイナー頼みになっているPhotoshopの活用(Photoshop自体が悪いわけではないですが。。)エンジニアが閲覧できないちょっとしたデザインの変更でもデザイナーに頼む必要があり、デザイナーの負担が大きくなってしまう別ファイル(psd)で切り出した共通パーツ共通パーツの管理が難しく、メンテナンスできていない将来的に目指していきたいところ目指していきたいところとしては、上記の課題を解決するためにエンジニア、デザイナー間で発生しているコミュニケーションコストを削減することです。打ち手上記の目指したい方向を踏まえて、検討した打ち手は以下です。現状理想打ち手最新版のデザインファイルがいつ更新されたか把握がしづらいデザインファイルの管理がデザイナー頼みになっている最新のファイルがどこにあるか誰でもすぐに参照できることバージョン管理Git、GitHubの導入ちょっとしたデザインの変更でもデザイナーに頼む必要があり、デザイナーの負担が大きいちょっとしたデザインの変更ならエンジニアでもできるようにすることSketchへの移行共通パーツの管理が困難共通パーツの管理、更新が簡単にできることSketch Libraryの活用ファイルの管理はGit、Githubでバージョン管理を行い、デザイン、共通パーツの管理はSketch
</div><div class="ui-feed-item__date" title="2018-04-03 03:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-22-hpb-android-replace/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-22-hpb-android-replace/">ホットペッパービューティーのAndroidアプリをリプレイスしました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
ビューティ事業ユニットでエンジニアをしている索手です。1月まではAndroidを担当していましたが、今ではバックエンドを担当しAPI開発を行っています。今回は昨年行ったホットペッパービューティーのアプリリプレイスについて、Androidチームで採用した技術や実装方針についてお話ししたいと思います。プロジェクトの背景ホットペッパービューティーのネイティブアプリは、約6年間、様々な機能追加・変更を経る中で多くの技術的負債が溜まっていました。一方で、事業におけるアプリの重要度は高まっており、今後の更なる成長を見据えると、当時の状態で開発を続けることは困難でした。そのような背景があり、アプリリプレイスがスタートしました。プロジェクトの概要本プロジェクトは、「安定かつ高速な開発」を目指し、仕様はそのままにネイティブアプリのコードを全て書き換えるというものでした。ドキュメントや既存のコードから仕様を読み取り、各機能を一から実装します。仕様を変えられないため、技術スタックにはある程度の制約が存在します。UI周りのライブラリであったり、ログ計測ツールなどのライブラリはなかなか変えられません。逆に言えばそれ以外の技術選定は0ベースで進められます。以降ではAndroidチームが採用した技術や実装方針のうち、開発言語、アーキテクチャ、テストについてお話しします。開発言語開発言語としてKotlinを採用しています。採用当時(2017/02)はまだGoogle非公認の言語でしたが、言語としての優位性、Javaとの互換性の高さ、Androidサポートの充実度等を理由に採用を決めました。Kotlinの言語機能の中でもインパクトが大きかったのはNull安全性とDelegated Propertyだと思います。それぞれどのような効果があったのか簡単にご紹介します。Null安全性私はNull安全性のある言語でコードを書くのは初めての経験でした。採用前は「NPEを減らすことができる」程度にしか考えていませんでしたが、今では可読性への影響も大きい性質だと考えています。例えば以下のような形で可読性に影響しています。値のNullabilityが明示されることで、考慮すべきケースを瞬時に判断できるNonNull状態を維持するために引数で値を渡すようになり、メンバ変数などを安易に経由しないようになるDelegat
</div><div class="ui-feed-item__date" title="2018-03-22 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-16-go-ddd/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-16-go-ddd/">Goのpackage構成と開発のベタープラクティス</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
(images: github.com/egonelbre/gophers)こんにちは。データエンジニアリンググループ（CETチーム）の寺下です。自分の所属するCETチームでは今まで主にScala、Pythonなどを使ってAPIや基盤を実装してきましたが、最近では徐々にGoによる実装も増えてきており、GAE/GKE上で本番運用を行っています。本記事ではGoのプロダクトにおいてDDDライクなpackage構成で実装する際の注意点や、汎用的に通用するであろう実装のTipsについて書いていきます。本記事で紹介する例がベストプラクティスだというわけではありませんので、あくまで実装の一例程度に捉えて頂けると幸いです。GoのアーキテクチャGoは言語仕様がシンプルかつフォーマッタが強力なため、syntaxレベルでは開発者によってコードの品質がブレにくいというメリットがあります。しかしながら「どのようにpackageを切るか」「どのライブラリ・フレームワークを使えば良いか」等についてはデファクトスタンダードと言えるものがない状況であり、開発者間でも意見が分かれるところです。また、プロダクトの規模や性質によっても最適な構成は異なります。自分が開発する際はWebフレームワークは使わず標準の net/http を利用することが多いです。理由としては機能が必要十分に提供されており、細かなカスタマイズがしやすいためです。package構成のパターンについてはgopherの中でもこれまで議論がなされてきており、以下のブログや資料にいくつかの例がまとまっています。実際の開発の際にも参考にさせて頂きました。Goのパッケージ構成の失敗遍歴と現状確認 – timakin – MediumGoのサーバサイド実装におけるレイヤ設計とレイヤ内実装について考える自分の関わったプロダクトでも上記の資料で挙げられているようなDDD(Domain-driven design: ドメイン駆動設計)ライクなpackage構成を採用し、Layered Architectureを意識した開発を行っています。ただし、あくまで戦術的にLayered Architectureを採用しているだけで、本格的なDDDを行っているわけではありません。package構成現在開発しているprojectのpackage構成は以下のようにな
</div><div class="ui-feed-item__date" title="2018-03-16 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-09-kiban-ci-android/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-09-kiban-ci-android/">Androidアプリ開発向けの横断CI環境</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、スマートデバイス基盤チームの段です。スマートデバイス基盤チームでは、リクルートライフスタイルのスマホアプリ開発における開発標準・品質指標の策定、新技術の検証及び横断推進、また、可視化及びCIシステムの運用改善など横断ミッションを担っています。継続的インテグレーション（CI）はアプリ開発プロセスにおける重要な一環で、そのシステム運用改善を横断チームで実施するか各サービス側で実施するかの選択肢があると思いますが、弊社ではスマートデバイス基盤チームが担当しています。日頃の安定運用も勿論ですが、サービス側要件の柔軟対応、CIノウハウの属人化回避、運用工数削減などを意識した改善活動を積極的に行っています。本記事では、現在運用しているAndroid向けのCI環境をご紹介します。全体構成ビルド処理〜配布はジョブ毎にDockerコンテナで実施Jenkins Pipelineを導入し、コードベースでジョブ管理するGithub、Slack、Deploygate、SonarQubeなどとの外部連携機能拡張する為に多くのPluginを導入機能拡張する為のPluginが多数存在することはJenkinsの大きな特徴で、現在導入されている一部のPluginも紹介させていただきます。各Pluginの機能をより詳細に知りたい方はJenkins Pluginsをご参照ください。1. 静的解析Plugin機能概要Static Analysis Collector静的解析の結果を表示Dashboard Viewダッシュボードビュー、Static Analysis Collectorの結果もジョブを跨いだ表示が可能JaCoCoコードカバレッジレポートCheckstyleコーディング規約チェックFindBugs不具合が発生しそうなコードの検出2. 外部連携Plugin機能概要Slack Notificationビルド関連の通知をSlackに送信するGoogle Play Android PublisherGoogle PlayにビルドできたAPKをアップロードするGoogle OAuth CredentialsGoogle APIsを利用する為のOAuth認証機能を提供Nexus Artifact UploaderNexus連携3. Jenkins画面のカスタマイズPlugin機能概要Build
</div><div class="ui-feed-item__date" title="2018-03-09 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-07-devsumi2018/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-03-07-devsumi2018/">デブサミ2018にて登壇させて頂きました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。リクルートライフスタイル（以下、RLS）の”じゃらんnet”において、プロダクトマネージャーをしている坂東です。先日開催されたデブサミ2018に登壇させて頂きました。セッションについて 大規模サービスにおける価値開発の“これまで”と“将来”～新たな“じゃらんnet”のチャレンジに関して～ from Recruit Lifestyle Co., Ltd. これまで聞く側での参加だったのですが、今年は初めて登壇させて頂いて話す側として参加させて頂くこととなり、&quot;じゃらんnet”での取り組みに関して、少しご紹介させて頂きました。これまで”じゃらんnet”で実践した大規模サービスなりのPDCAに関してセッションでは、大規模なサービスにおいて、どうしてもステークホルダーが多くなったり、意思決定が長くなる中で、どのようにスピードを意識してPDCAを回してこれたかに関して、リーン開発体制という例を用いてお話させて頂きました。その中で、スクラムを導入した話や各取り組みに関しても具体的にその時々でどのように判断し試行錯誤してきたかなど詳しくお話できれば良かったのですが、時間の関係で今回は少し省かせて頂いた内容となりました。リクルートの中でのスクラム事例などは、同じリクルートグループの発表である以下のタウンワークの事例なども参考にして頂ければと思います。参考：タウンワークをドライブさせるためになんちゃってアジャイルをやめた話今後、お話できる機会があれば、ぜひ”じゃらんnet&quot;におけるスクラムの取り組みや各取り組みに関する具体的なお話もできればと思っています。また、そんなリーン開発体制ですが、その中でのデータエンジニアリングのお話もさせて頂きました。本当に多くの事例があるので、少しずつでも紹介していけたらと思っています。当日の発表で紹介できたのは、以下の２つの事例です。リーン開発体制を支えるデータエンジニアリング〜実践例１リーン開発体制を支えるデータエンジニアリング〜実践例２このようにリーン開発体制は、様々なサポートの中でスピードを意識したPDCAを回せるように心掛けています。特徴としては、やはり余計な意思決定を挟まずに、プロダクトオーナー（以下、PO）とエンジニア×データサイエンティストの体制でどんどん案件を推し進めていけるところだと感じております。そして、発表の中でもお話
</div><div class="ui-feed-item__date" title="2018-03-07 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-23-droidkaigi2018/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-23-droidkaigi2018/">DroidKaigi2018で登壇＆ブース出展しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！ホットペッパービューティーのAndroidアプリを開発しているnakazato（@oxsoft）です。先日行われたDroidKaigi 2018にスピーカーとして参加し、また会社としてブース出展もしたので、その様子をレポートしようと思います！DroidKaigiとは？DroidKaigiはエンジニアが主役のAndroidカンファレンスで、2月8日と9日に開催されました。今年は「ニッチな技術とコミュニケーション」がテーマでした。https://droidkaigi.jp/2018/今年は1,000人以上の方が参加し、85件の発表が行われました。https://www.slideshare.net/mhidaka/droidkaigi-2018-welcometalkKotlinアンチパターン「Kotlinアンチパターン」というテーマでCfPを出し、今回初めてスピーカーとして参加しました。発表内容は、自分が中途で入社してすぐに参加した、ホットペッパービューティーのAndroidアプリをフルリニューアルするプロジェクトで得た、Kotlinのアンチパターンを紹介するというものでした。 中上級者向けというラベルを付けていましたが、今回は全員が参加するホールでの発表という機会をいただいたので、Kotlinをまだ本格的に使っていない方でもある程度話が分かるように、基礎的な内容を厚めに資料を作成しました。そのため、もう少し高度な内容を期待されていた方には物足りなかったかもしれないです🙇およそ1,000人の前で30分話すというのは初めての体験でしたが、伝えたい内容は伝えられたと思います。また今回、冒頭で参加者にKotlinをアプリ開発で使っているか聞いてみましたが、半分くらいの方が手を挙げているように見えました。AndroidアプリのKotlin化の流れを感じますね🎉ブース出展個人としての発表の他に、リクルートライフスタイルとしてブース出展も行いました。内容としては、サービスの紹介やノベルティの配布の他に、ソースコードを展示するという試みを行いました💪一部のシークレットキーや開発環境のURLはマスクしたものの、それ以外は全て実際のソースコードを展示しました。そのため、FIXMEといったコメントや、もっと良くできるような実装も見せることになりましたが、開発のリアルを伝...
</div><div class="ui-feed-item__date" title="2018-02-23 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-21-rls-meetup-7/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-21-rls-meetup-7/">リクルートライフスタイルMeetup#7レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。CETチームでデータエンジニアをしている平塚です。先日開催された「RLSMeetup#7 プランナー・サイエンティスト・エンジニア三位一体！年間十数億稼ぐチームの舞台裏」のレポートをお届けします。今回は、前回のMeetUpのテーマ『データ活用』の第二弾として、データプランナー・サイエンティスト・エンジニアが一体となって事業に取り組んでいるデータエンジニアリンググループ(CETチーム)から、データ活用における取り組みの様々な側面をご紹介しました。※CETチームについては過去記事もぜひご一読ください。リクルートライフスタイルのデータ系組織最初は、データエンジニアリンググループのグループマネージャーの大石から、組織体制についての発表です。本チームはリクルートライフスタイルのデータ活用組織の一つであり、複数の事業領域の案件においてプランナー・サイエンティスト・エンジニアが密に協力し合う体制を築いています。そんなリクルートライフスタイルの会社紹介に始まり、本チームのミッションやメンバー構成、人材要件など組織の概要についてお話ししました。 RLS Meetup#7 会社紹介 from Recruit Lifestyle Co., Ltd. 利益を生み出すAnalytics Team のあり方二番目は、データプロダクトストラテジストとしてビジネスサイドのマネジメントや分析のリードを務める前田から、チームの変遷についての発表です。データ活用施策において必須となる分析や振り返りの各プロセスで、Tableauを始めとするBIツールや、DataRobotなどの外部サービスを積極的に活用しています。それらのプロセスの説明に加え、本チームの設立から今に至るまでの成果や、その組織構成、これまでのアンチパターンなども紹介し、データ組織づくりに関心のある方々から好評を頂いていました。一方で、懇親会では「案件の優先順位はどうやって決めているの？」「A/B Testing のモニタリング方法は？」など、より実践的な内容に関する質問もいただきました。次の機会があれば、このあたりにも触れたいと思います。 利益を生み出すAnalytics Teamのあり方 from Recruit Lifestyle Co., Ltd. 大規模案件でデータサイエンスチームを活躍させる取り組み三番手は、データサイ
</div><div class="ui-feed-item__date" title="2018-02-21 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-14-statistical_hypothesis_testing_intro/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-14-statistical_hypothesis_testing_intro/">検定手法の数式を読み解いてみよう！</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにCETというチームでデータ解析をしているkeraと申します。本稿は「数学の知識は無いけれど、検定手法の数式を読んで理解したい！」という熱意を持った初学者向けに、「検定手法の数式が何を語っているか雰囲気がわかること」を目指したものです。データ解析を通じたサービス改善の取組の中で、施策効果があったかどうか統計的検定の取り組みで意思決定するケースがあります。最近は様々な無料ツールや手法の解説文書があり、誰でも簡単に検定を試せるようになりました。しかし、いざ検定しようとしても「検定の手法っていっぱいあってどれを選んでいいかわからないし、そもそも施策によって検定すべきかどうかすらわからない…」と悩むことがあると思います。ケーススタディを読んで「なるほど、こういうケースでこの手法を〇〇社は使っているのか。じゃあうちもそれで行こう！」というのも良い試みですが、〇〇社のケースをそのまま自分のケースに適用していいかどうかは不安がぬぐい切れません。そこで「ちゃんと各手法の数式を理解して、各手法がどういう理屈で動いているか理解したい！」と熱意を持ち統計学の本に挑んだ方も沢山いらっしゃると思います。原理を理解できるようになると、手法の適切な選択や検定の必要性の判断、また、検定結果の解釈（統計上の差が出たと判定されても、ビジネス的に意味があるかどうかは別の話であるなど）にも役立ちます。しかしそこに立ちはだかるは数式のぶ厚き壁…。いきなり数式を読んで「なるほど、こういうことか！」と理解するのは困難でしょう。そんな方向けに、社内で勉強会をした際の資料を公開したいと思います。この記事は、数式の読み方の一歩目を解説するものです。数式を分解してパーツごとに理解し、時には数式以外のものと紐付けて直感的な理解を得て、最後に全体として各パーツがどのように構成されているからどのような結論が導けるのか、という道筋を学びます。「数式を読み解く」というと身構える方も多いのですが、この記事を通して、数式を読んでみるのは必ずしも厳密さを求めてのものだけではなく、どういう意図が込められているのかの雰囲気を察するものだということをお伝えできればと思います。検定手法は多岐に渡りますが、大元の目的は同じなので、数式の読み方を理解して一歩目を正しく踏み出せれば様々な手法に応用できるでしょう。対象者は、一度統計学入門書を読
</div><div class="ui-feed-item__date" title="2018-02-14 13:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-06-cet-offsite-meeting/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-02-06-cet-offsite-meeting/">合宿でデータ解析コンペをやったらチームのプロセスに変化が生まれた話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは！2017新卒エンジニアの秋田です。CETチームでは、サービスの各種ログやトランザクションデータの収集・分析およびそれらを基にした開発を行っており、インフラ/アプリケーションエンジニア・データサイエンティストなど様々な職種の人がいます。CETの実績やチームの詳細はこちらから。さて、CETチームでは半期に1回、リファクタリングをメインとした開発合宿を行っています。しかし今回の合宿では、僕を含めた新卒3人が企画を任され、「自由に企画していいよ」と言われていました。そこで『先輩方が持っている知見を共有する会』というテーマを設定し、自社サービスの豊富なデータを使ってKaggleのようなデータ解析系のコンペを行うことにしました。このコンペで実践したことを話すLTを最終日に行い、「実務での思考のプロセスやテクニックなど参考にさせてください！」という魂胆です。実際に合宿をコンペを行ったところ、合宿だけで完結せずにチーム体制にも変化が生まれたので、合宿レポート+合宿後に起きた変化を共有したいと思います！場所開発合宿でおなじみ おんやど恵 さんで1泊2日で行いました！今回の決め手としては開発合宿プランがある無線LANなど設備が完璧他社様の利用実績も多数都心からアクセスがしやすい温泉が深夜でも入浴可能HP、ブログの写真から伝わる清潔感実際とても綺麗でした参考にしたブログhttp://tech.medpeer.co.jp/entry/2017/03/17/124354http://rei19.hatenablog.com/entry/2016/11/01/180429http://techlog.voyagegroup.com/entry/2017/06/02/153000コンペの詳細はじめに述べたように、今回は自社データを使ってKaggleのようなコンペを行うことにしました。Kaggleとは 公式サイト より引用すると、Kaggle makes it easy to connect your data with data scientists.See what our community of over one million data scientists can do for you.Kaggle is a platform for data science co
</div><div class="ui-feed-item__date" title="2018-02-06 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-01-22-rkt2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2018-01-22-rkt2/">Kotlin勉強会R.ktの第二回を開催しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。ホットペッパービューティーのAndroidアプリ開発を担当しているyuriです。さる2017年12月19日に、Kotlin勉強会 R.kt#2 を開催しました。この記事ではそのR.kt#2の様子をレポートします。今回のR.kt#2は『Kotlinizeスペシャル』と題して、Kotlin化に関する話をしよう！というテーマで開催しました。(第一回の様子についてはこちらの記事をご覧ください！)乾杯弊社の韮澤による乾杯で、R.kt#2が始まりました！(乾杯から始まる勉強会は個人的に好きです。)会社紹介会場・食事の提供をしている関係で、弊社のCM枠を設けさせてもらいました！ビューティ事業ユニットでグループマネージャーをしている小川から、簡単にリクルートライフスタイルのエンジニア組織について紹介させていただきました。当日も小川から紹介させていただきましたが、弊社はDroidKaigi 2018 のプラチナスポンサーもしています。弊社はエンジニアコミュニティではまだまだ新参者ではありますが、大規模事業ならではの知見を各コミュニティに還元していくべく、頑張っていきます！R.ktはそのための取組の一つと思い、運営しています。LT今回は5名のエンジニアが『Kotlinize』に関するLTをしてくれました。Kaptで苦労した話1人目は弊社の索手が『Kaptで苦労した話』という発表をしました。弊社では、ホットペッパービューティー(以下HPB)のAndroidアプリをKotlinで全面作り変えするプロジェクト(リプレイス)を行っていました。リプレイスプロジェクトの中心メンバーであった索手は、HPBのKotlinizeに際してハマりポイントが多かったAnnotation Processing(APT)とリフレクションについて、その具体例について解決策を交えつつ話してくれました。 Collectionを使いこなす2人目も弊社から、中里が『Collectionを使いこなす』という発表をしました。中里も前述のHPBアプリのリプレイスプロジェクトの中心メンバーでした。プロジェクトの中で、JavaのエンジニアがKotlinらしいコードを書けるよう手助けをし続けていた中里は、KotlinらしくCollectionを使いこなすテクニックを話してくれました。ちなみに、中里はDroidKaigi 2
</div><div class="ui-feed-item__date" title="2018-01-22 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-12-20-rls-meetup-6/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-12-20-rls-meetup-6/">リクルートライフスタイルMeetup#6レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。リクルートライフスタイルでデータ分析基盤のエンジニアをしている白鳥（@irotoris)です。先日開催された「RLS Meetup #6 『攻めるデータ基盤組織、他部署と協業し利益を生み出す方法とは』」のレポートをお届けします。今回は『攻めるデータ基盤組織～』と題して、リクルートライフスタイルの【データ基盤組織×機能組織×小規模プロジェクトチーム】がどのように関わり合いながら施策を回しているのか、具体的な事例を交えながらお話しさせていただきました。事業利益を創出するRLSのデータプランナーまずはデータプロデュースチームのリーダーである渡辺からの発表です。データプロデュースチームとは、データを利活用して施策を実行するチームです。そのチームに属するデータプランナーとはなにか、データプランナーはどのようにして会社の利益に貢献するのかを、実際にデータプランナーが事業売上に貢献した事例を交えてお話しました。その他、渡辺の前職の経験から、受託会社と事業会社のデータ活用のスタンスの違いについても語られました。 攻めるアクセス解析〜メンテナンス屋から事業利益貢献者への変革次はアクセス解析チームのリーダーである奥山からの発表です。アクセス解析にまつわる利用推進やその課題について、リクルートライフスタイルでは事業横断の機能組織を作って取り組んでいます。複数のサービスのアクセスログをどう整備するのか、そしてその組織を回すための仕組みづくりやプロセスの整備についてお話ししました。 その後の質問や懇親会では、「どうデータ活用組織を構成／運用するか」ということに興味を持っている方がたくさんいらっしゃった印象があります。その問いに対して、リクルートライフスタイルの現時点での考えをお伝えできたかなと思います。データ分析基盤を支えるエンジニアリング最後に私が話したセッションになります。リクルートライフスタイルのデータ分析基盤はオンプレ、クラウド、OSS、独自のETL処理フレームワークなど様々なもので構成されています。なぜそのような構成になっているか、実際に運用して発生した問題などを背景に交えてお話しました。また、エンジニアリングで解決する課題として「事業部のみんなに分析基盤を使ってもらって売上を上げてもらう」ということを設定し、そのためにやっていることや、やりたいけどできていないことをお
</div><div class="ui-feed-item__date" title="2017-12-20 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-12-06-hpb-swift/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-12-06-hpb-swift/">ホットペッパービューティーのiOSアプリのフルスクラッチSwiftリプレイス</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
ホットペッパービューティーのアプリを担当している外崎です。はじめに2017年10月にホットペッパービューティーのiOSアプリのバージョン5.0.0が配信されました。以前に配信されたインタビュー記事でもリプレイスの背景について語られています。https://www.wantedly.com/projects/78442今回は年間7000万件以上(2017年11月現在)の予約が行われているホットペッパービューティーでどのようにアプリのリプレイスを行ってきたのかを話したいと思います。プロジェクトの背景インタビュー記事にもありますが、僕が新卒で入社して最初の仕事がホットペッパービューティーのアプリのリプレイスという仕事でした。https://engineer.recruit-lifestyle.co.jp/techblog/2017-10-20-ultrabeerbash-rlsリプレイスを進めている一番の理由は事業の成長にシステムが追いつくことが出来なくなってきたことにあります。https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-10-regi-ios/アーキテクチャ言語を置き換えることだけでも多くのメリットがありますが、アプリのアーキテクチャも刷新しました。アーキテクチャの主な選定理由として以下の観点を確認しました。 ロジックのテストが書ける従来のコードはテストコードが書けるような設計では無かったリプレイスにあたって、PresenterとModelをテスト対象とする新規参画のコストが低い人の入れ替わりに対応できる方が望ましいプロジェクト推進中には最大10人弱のエンジニアが関与コードの属人化を防止出来る責務の分割、書き方を統一し属人化を防ぐ必要がある規模が大きく4~5人のエンジニアのチームで構成されるMVPはMVCでのiOS開発に慣れているエンジニアであれば、学習のコストは低いです。MVCPについては韮澤が勉強会で発表した資料に詳しくまとまっていますので興味ある方はこちらをご参照ください。https://www.slideshare.net/RecruitLifestyle/mvcp 簡単ですが、MVPのサンプルコードを載せておきます。ViewController12345678910111213141516
</div><div class="ui-feed-item__date" title="2017-12-06 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-30-rkt/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-30-rkt/">Kotlin勉強会R.ktをはじめました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。ホットペッパービューティーのAndroidアプリ開発を担当しているyuriです。開発言語はもちろんKotlinです。弊社では最近、Kotlinの勉強会の運営を始めました。今日はそんな始めたばかりのKotlin勉強会、 R.kt についての記事を書きます。リクルートライフスタイルとKotlin昨今のKotlin界隈の盛り上がりについては、今更説明するまでもないでしょう。Javaのプロダクトも多く抱えている弊社の中では、Kotlinの利用・Kotlinへの移行を検討しているプロダクトが多くなってきています。そんな中、弊社の代表サービスの一つであるホットペッパービューティー(以下、HPB)では、Androidアプリの全面作り変え(社内ではリプレイスと呼んでいます)をKotlinで行っています。私もHPBのAndroidチームメンバとして、Kotlinでリプレイスを行っています。ネイティブアプリのリプレイスプロジェクト弊社の小川の記事にもある通り、HPBでは幾つかの機能でリプレイスプロジェクトを行っています。ネイティブアプリに関しては、約6年間、様々な機能追加・変更を経る中で見通しの悪いコードになっていました。いくつかの理由はありますが、HPBの事業成長の速度が大変速く、それに合わせてスピード重視の開発をしてきたことが一番大きかったと思います。これまで事業が着実に成長を続けてきたこと・それを支えられるスピードで開発を進めてきたことはとても良いことである一方で、今後の更なる事業成長を見据えたときに、このコードと共に戦っていくことができるのか？というのがエンジニアの不安になっていました。そこでエンジニアが声をあげ、社内で検討を始めました。その結果、ネイティブアプリについては一度機能追加をストップし、Android/iOSアプリ共にリプレイスを行うことにしました。いわゆるFat Viewになっているなど見通しが悪くなっていたコードに対しきちんとアーキテクチャを導入すると同時に、AndroidアプリはKotlinに、iOSアプリはSwiftに、それぞれ開発言語を変更しました。Kotlin導入の経緯iOSアプリのリプレイスにSwiftを使うのはある種の既定路線だったのに比べて、Androidアプリのリプレイスにどの言語を使うのかは問題点の一つでした。AndroidでKot
</div><div class="ui-feed-item__date" title="2017-11-30 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-15-kotlinconf/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-15-kotlinconf/">KotlinConfに参加してきました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。ビューティー事業ユニットプロダクト開発グループでエンジニアをしている索手です。主にホットペッパービューティーのAndroid版開発を行っています（言語はもちろんKotlinです）。11/2~11/3にサンフランシスコで開催されたKotlinConfに参加してきたので、その様子をレポートします。KotlinConfについてJetBrainsが主催する、Kotlinをテーマとしたカンファレンスです。今回が第一回の開催となり、1000人以上のエンジニアが参加していました。https://www.kotlinconf.com/セッションについてセッションは全部で46個、キーノートスピーチなどを加えると計50個のセッションが行われました。セッションの動画は後日公開される予定です。スライドはまとめを見つけられなかったので、見つけ次第リンクを追加しようと思います。以下ではカンファレンスを通して、印象に残った内容について触れていきます。オープニングキーノートの内容についてはKotlinの公式ブログに詳しくまとまっているので、ぜひこちらも御覧ください！https://blog.jetbrains.com/kotlin/2017/11/kotlinconf-keynote-recap/https://blog.jetbrains.com/kotlin/2017/11/kotlinnative-ide-support-preview/全体感JetBrainsのマルチプラットフォーム対応への本気を感じました。Kotlin/JSやKotlin/Native自体は前々からリリースされていましたが、サイドプロジェクト程度にしか考えていなかったので驚きました。このトピックについてはこの後の項で詳細に説明します。また、Kotlinの使い方(スコープ関数やfor, forEachの使い分けとか)についてのセッションが散見され、コミュニティとしてもまだまだデファクトを模索している段階という印象を受けました。マルチプラットフォーム対応特に印象に残ったのが、Kotlinを利用したマルチプラットフォーム対応です。オープニングキーノートではKotlin/NativeのiOS対応が発表され、その他にもKotlin/JSやKotlin/Nativeセッションがあり、マルチプラットフォーム対応への機運の高
</div><div class="ui-feed-item__date" title="2017-11-15 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-13-rls-meetup-4/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-13-rls-meetup-4/">リクルートライフスタイルMeetup#4レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。リクルートライフスタイルでSeemの事業責任者をしている入澤（@ryoirisawa)です。先日開催された「RLS Meetup #4 リクルートライフスタイルの新規事業開発の裏側」のレポートをお届けします。『Seem （シーム）』は2016年の11月にローンチしたリクルートライフスタイルの新規事業で、専用のキットとアプリで自宅にいながら精子の濃度と運動率が測定できます。『Seem 』は事業の領域もビジネスモデルもこれまでのリクルートのビジネスとは違う、完全に新規の事業です。今回のミートアップではエンジニアの方を対象に、リクルートライフスタイルで新規事業を立ち上げる際の事業開発の裏側と事業立ち上げ時のエンジニアの関わり方についてお話しました。開発の背景まずは私から『Seem』を企画した背景とサービスの概要、今後の展望についてお話しました。開発の背景は不妊に悩むカップルの増加。日本では5.5組に1組のカップルが不妊に悩んでいます。男性の一歩目のハードルを下げ、まず、知るところから始めてほしい。 始めは2人でプロジェクトスタート新規事業のほとんどは形になりません。つづいて、事業検討時に技術系全般をみていた荒川から『Seem』立ち上げ時のエンジニアの関わり方についてお話しました。 今後の課題と、エンジニアの新しい関わり方最後は、吉田と堀澤（@horiken4）から『Seem』の技術的な課題と解決への展望についてお話しました。 リクルートライフスタイルでの新規事業新規事業に取り組む際、リクルートライフスタイルが持つアセットは上手に活用すれば強力なアドバンテージになります。新規事業に興味のある方、もっと詳しく聞きたいという方、是非お気軽にご連絡いただけたらと思います。</div><div class="ui-feed-item__date" title="2017-11-13 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-10-serverlessconf/"><img 
src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-10-serverlessconf/">serverlessconf tokyoに登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データ基盤の構築、運用をしている山田（@nii_yan)です。先日開催されたserverlessconf tokyoに参加させていただき、登壇もしてきました。登壇内容弊社は来春トリップAIコンシェルジュという商品をリリースする予定です。こちらは宿に対する「お風呂は何時から入れますか？」などの問い合わせに対し、botが人間の代わりに応答してくれるという商品になっていまして、裏側で機械学習をしています。今回話した内容はこの機械学習のバッチを動かす基盤についてになります。Step functionsとaws batchでオーケストレートするイベントドリブンな機械学習基盤 新しい基盤を作る上で１番気をつけたいと思っているところが運用負荷の軽減になります。メインのバッチはETLのバッチと機械学習の２本のバッチとなり、それぞれAWS Batchで動かしています。そして２つのバッチをつなぐserverlessなpipelineを構築しました。serverlessな基盤を作る際は、構成管理やモニタリングが複雑になりがちですが、そこら辺をどのように解決したのかも書いてあるので、よかったらご覧ください。スポンサー弊社もスポンサーになり、ブース出展を行いました！！スポンサーブースではトリップAIコンシェルジュの商品説明をメインに行っていたのですが、登壇内容に対する質問に来てくださる方も大勢いて、色んな方と交流が出来たかなぁと思います。最後にserverlessconfでは他の方の発表も色々聞いたのですが、使ってみただけではなく、そこから1歩踏み込んだ発表が多く、とても勉強になりました。serverlessのサービスは次々と新しいサービスが出てきています。今後もserverlessサービスの動向を追い続け、どんどん取り入れて行きたいと思います。このようなカンファレンスを開いてくださった主催の吉田さんはじめスタッフの皆様ありがとうございました！来年も参加したいと思います！！※スポンサーブースでの打ち上げ</div><div class="ui-feed-item__date" title="2017-11-10 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a 
class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-08-intern-oss/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-11-08-intern-oss/">FeedbackManというOSSライブラリを公開しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめに初めまして。ビューティー事業ユニットプロダクト開発グループでインターンシップをしていました、岡田直道(nb6u7)です。リクルートホールディングスのインターンシッププログラムで8/21〜10/27の2ヶ月間、現場でのiOSアプリ開発に関わらせて頂きました。インターン期間中は、同じタイミングでインターンに参加していた林君(SShayashi)と共に前回の記事でも紹介されていたホットペッパービューティーのアプリリプレイス案件に関わる業務を手伝いながら、とあるOSSライブラリの開発に励んでいました。開発した背景実際にリクルートライフスタイルのビューティ事業ユニットで働いてみて、まず最初に感じたのが開発体制の手堅さです。しかし、そうした運用フローが定められているほど、バグ報告やUI/UX観点からのフィードバックを行う障壁が高くなってしまうのではないか、とも考えました。バグ報告やチケット作成を行う人、アプリ開発に関わる人だけでなく、ホットペッパービューティーの開発に携わる全ての人がもっと気軽にフィードバックを行うことができるようになれば、今まで拾い上げられなかった小さな「気付き」も採り入れたより良いサービスが作れるのではないか、と思い至り、このライブラリの開発に着手しました。FeedbackManとはこの課題を解決するため、誰でも気軽にフィードバックを送れるようなツールを目標として開発したのが FeedbackMan という名前のライブラリです。FeedbackMan概要FeedbackManは、アプリ内からUI/UX観点のフィードバックを気軽に送ることができるツールです。できることFeedbackManの主な機能は以下の通りです。指定したSlackチャンネルへのフィードバック送信スクリーンショットの自動撮影スクリーンショットの編集アプリ名、アプリバージョン、OSバージョン等の付加情報の自動付与また、「誰でも気軽にフィードバックを送ることができる」メリットをさらに大きくするため、いいね！ ボタンを押すことにより1タップで詳細説明を省略して送信することも可能となっています。使い方クイックスタートFeedbackManはCocoaPods, Carthageに対応しています。以下のコードを AppDelegate.swift に記述するだけで、アプリ内にデバッグボタンが出
</div><div class="ui-feed-item__date" title="2017-11-08 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-10-20-ultrabeerbash-rls/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-10-20-ultrabeerbash-rls/">ULTRABeerBashで『大規模サービスのリプレイスへの道』と題して登壇してきました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは。ビューティー事業ユニットプロダクト開発グループでマネジャーをしている小川です。ホットペッパービューティーというサービスで取り組んでいるシステムのリプレイスについて ULTRABeerBash でお話してきました。ULTRABeerBashとはビズリーチ社が主催する、ビールをのみながら、技術、知識、経験、哲学を共有するイベントです。詳細については、ULTRABeerBash公式サイトをご覧ください。ホットペッパービューティーについて国内最大級のヘアサロン・リラク＆ビューティーサロン検索予約サイトです。お話した内容ホットペッパービューティーで取り組んでいるシステムのリプレイスについて、その背景や手法を織り交ぜてお話しました。 なぜリプレイスに至ったのかどのようにリプレイスをおこなっているのかアーキテクチャ設計組織設計苦労したこととナレッジポイント ちなみに、リプレイスやリファクタリングのことを建て直しやリフォームなどシステム以外の事象にたとえてコミュニケーションすると企画側のメンバーと意思疎通が取りやすいということを話したときに笑いが起こったので、来場いただいていたみなさんもあの手この手で伝えようと苦労されているのだなぁ….という気持ちになりました。その後質疑応答したもの講演終了後にいただいた質疑とそれに対する応答もいくつか紹介させていただきます。 Q. リファクタリングやリプレースといったものは技術者から見ると大事でも事業側の方には理解されづらいと思います。この点で工夫されたことなどありますか？A. スライドでも触れましたが（P.34）、事業責任者ならびに事業に関わる方と丁寧にコミュニケーションをしていくこと、目的意識を共有することを意識していましたQ. 費用対効果を問われると厳しいものだと思いますが、どのようなロジックで話をされたのですか？A. 短期的には費用対効果はあわないと思います。ただし、中長期的な効果は見込めるということを見立てて進めています。コミュニケーションしていくうえでは成長する事業のためにいまのうちから手を入れることの重要性やアーキテクチャ刷新などによる副次的効果（採用など）も併せて語っていくことが重要だと思います。そのうえで、人材とアーキテクチャなどの仕組みが適切に噛み合えば中長期的な効果を最大化していけると考えていますQ. 参
</div><div class="ui-feed-item__date" title="2017-10-20 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-31-hpb-replace-sre/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-31-hpb-replace-sre/">アジリティの高いシステムを目指すSREチームの取り組み</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは。ホットペッパービューティーの開発をしています。長谷川です。みなさん、夏休みはいかがでしたでしょうか。私は、久しぶりに田舎の祖母の家に遊びに行ってきました。いくつになっても（アラサーになっても…）孫扱いしてくれるのはうれしいですね！さて、以前同僚の寺下が、ホットペッパービューティーのリプレイスのことを紹介していました。 Spring + Railsによるサービス分割の取り組み同じプロジェクトで、Site Reliability Engineeringチーム(以下SREチーム）として、私も参加していたので、今回はインフラ面を中心に、リプレイスプロジェクトでの取り組みを紹介したいと思います。背景となるいくつかの課題私がこのプロジェクトに参画したのは、後半からだったので、方針であったり構成であったり、大まかなところは決まった状態でjoinしました。その為、私が課題を分析をしたというわけではないのですが、既存システムのインフラや運用に関わる所だと、以下のような課題感があったようです。労働集約的なオペレーションを行っていること手順書ベースのオペレーション作業などが行なわれていた。アジリティの低いシステムであること申請書ベースのインフラ変更作業や、リリースが「号切り」と呼ばれる、月に1度のビックバン的アプローチだった（bugfix等の緊急リリース等、例外はもちろん存在）。システムメトリクスのモニタリングに不備があること監視ツールは導入しているものの、項目が網羅されておらず、それを補完するための独自のツール類も、メンテナンスコストが高い状態だった。これらの課題は、利用しているリクルートのプラットフォーム（オンプレミス環境）の課題とも密接に絡んでいました。プラットフォーム側の課題は、こちらの記事でも紹介されています。 リクルートの「リボンモデル」を支える仕事人–現場社員が語る、インフラエンジニアの現状今回目指したことまず、SREチームとして仕事をするためにタスクを整理しました。そしてキックオフの際、以下のような方針を決めました。ホットペッパービューティーがアジリティの高いシステムである、そういう状態をつくりたいまた、以下の定性状態を目指すことにしました。リリース作業開発者が自らの意図するタイミングで行う仕組みを整備する。システムモニタリングの整備開発者がシステムモ
</div><div class="ui-feed-item__date" title="2017-08-31 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-24-rls-meetup-3/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-24-rls-meetup-3/">リクルートライフスタイルMeetup#3レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データ基盤の構築、運用をしている山田（@nii_yan)です。先日「RLS Meetup #3 売上を上げるためのデータ×エンジニアリング」が開催されましたので、こちらをレポート致します。リクルートライフスタイルではデータを扱う専門の部隊としてデータマネジメントグループというグループが作られています。データマネージメントグループの中では、データプロデュースチームとデータ基盤チームに分かれていてそれぞれと役割が分かれています。今回のmeetupではデータプロデュースチームから１名、データ基盤チームから１名それにグループのマネージャーから組織に関する発表と３名から発表がありました。それぞれ見ていきたいと思います。売上に効くデータ組織まずはグループマネジャーの井原からの発表ですなぜデータマネージメントグループは存在するのかどのようにして会社の利益に貢献するのか施策の事例組織を作る上で気にしていることなどが話されましたデータマネージメントグループが経営上求められることは、データを使って利益を伸ばすことです。データ系の話を聞ける機会は多いですが、組織のマネージメントをどうしてるかを聞く機会はなかなか無いと思うので貴重な資料かと思います。 データプランナーによるデータ系施策について続いてはエンジニアからデータプランナーにキャリアチェンジした本庄からの発表ですデータプランナーとは何か？データプランナーの課題などが話されましたデータプランナーとは「データを武器に課題解決をする人」ですデータプランナーが弊社でどのように活躍しているか、実際の事例を交えて聞けたのでデータプランナーのイメージがつきやすかったかと思います。データプランナーという言葉はまだまだ世の中に浸透していない気がしますが、これからとても注目されるようになると思いますので、みなさん是非今のうちに知っておいてください！ リクルートライフスタイルの売上を支える共通分析基盤最後に私が話したセッションになります。最初に最近はまっているカップ焼きそばの話をしたらそこを写真に撮られ、完全にデータと関係のない感じになってしまいましたw発表の内容としては リクルートライフスタイルの分析基盤はどのように作られているか分析基盤を続けていく上で気をつけないといけないとこはどこかなどを中心に話をさせていただきました。現在リクルートラ
</div><div class="ui-feed-item__date" title="2017-08-24 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-07-how-to-load-data-into-bigquer/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-07-how-to-load-data-into-bigquer/">S3 から BigQuery へ簡単にデータをロードする仕組み</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。データエンジニアリンググループの川崎です。まだここにない出会いを求めて、日々コードを書いています。この記事では、 S3 から BigQuery へデータをロードするときに使っている汎用的な仕組みについて紹介したいと思います。なぜそんな仕組みが必要なの？弊社では、日時のバックアップや外部の協働者とのデータの受け渡しのために AWS の S3 をよく使っています。データを取り込む手法がバラバラでメンテナンスしづらいS3 のファイルを BigQuery へロードするには、いろいろな方法があります。docker run コマンドを実行する方法でも実現できます。どの方法が良い、悪い、という話は一旦置いておきますが、ファイルによってデータのロード方法が異なると、エラーを検知する方法やリトライの方法も異なってしまい、運用が煩雑になってしまいます。元データとロード先のデータの関係が、管理しづらいこれまで必要に応じて、その都度データをロードしていたため S3 のバケット名やファイル名と、それをロードした BigQuery のプロジェクト名やデータセット名やテーブル名に関連がありませんでした。そのため BigQuery の特定のテーブルの中に怪しいデータが紛れ込んでいた場合、調査しようにも、そのテーブルの元データがどこにあって、どうやってロードされているか、どんな仕組みを作ったの？これを解決するために、AWS の S3, SNS, SQS と、 GCP の Container Engine を使って、S3 のデータを BigQuery へロードするための汎用的な仕組みを作りました。大まかには下図のような構成です。この仕組みの利用方法を順番に説明します。設定を GitHub に保存するすべての設定は GitHub のリポジトリで管理されています。上図の左下のあたりです。新しくファイルを BigQuery へ取り込みたい場合は、このリポジトリに feature/xxx (xxx は任意)という名前のブランチを作って、設定ファイルを追加して push します。すると自動的に、その設定がテスト用の環境へデプロイされます。設定に従って S3 にファイルをアップロードする次に、テスト用の環境で S3 へファイルをアップロードして、正しく設定ができているか確認します。ファイルアップロード
</div><div class="ui-feed-item__date" title="2017-08-07 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-01-lignum/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-08-01-lignum/">Firebaseを活用したアプリプッシュ通知の配信基盤</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。Lignumの開発を担当している明智と浅井です。先日開催されたGoogle I/Oでも多くの新機能が発表されたFirebaseですが、弊社では昨年度からFirebaseを活用した機能開発に取り組んでいます。「アプリプッシュ通知の配信基盤」構築の背景見えてきていた課題弊社ではこれまで、リクルートグループ横断で利用できる独自開発された配信基盤を利用していました。実施できる施策の制限配信の見立て/結果の振り返りに利用したいデータが不足といった「弊社独自の業務要件に追いつかなくなってきている」という課題が見えてきていました。アプリプッシュ通知を配信するためのツールは世の中に数多くありますが、以下の観点から「Firebase」を利用することにしました。GCMベースで実装されており、GCM・Firebaseともに世界的に大量データの処理実績がある分析ツール（Firebase Analytics）との連携が可能ツールの機能改善頻度が高く、今後さらなる発展が期待できるGoogleに弊社からの問い合わせに対応してくれる窓口があるFirebaseをそのまま使うだけでは、業務要件を満たせなかったFirebaseには、プッシュ通知を行うためのサービスが2種類あります。Webコンソールから簡単にできるFirebase NotificationsAPIで汎用的な通知ができるFirebase Cloud Messaging（FCM）弊社の業務要件を満たそうと考えた場合、「FCMをベースにしつつ、業務要件を満たすために基盤を独自構築」が妥当であると判断しました。FCMをベースにした配信基盤実際に配信を行う部分はFCMに任せて、ユーザリストの登録から配信までGUI上で簡単に操作可能な独自基盤を構築することにしました。得られたことサマリ実現するための方針や技術詳細については後述しますが、Firebaseを活用した配信基盤を構築することで得られた効果を先に伝えたいと思います。1. 取得可能なデータ種類の増加従来の配信基盤では取得できなかった通知関連のデータが取得できるようになり、より効果的な配信見立て/振り返りの実施が可能になりました。2. 事業会社として注力したいポイントにパワーを割くための基盤再構築注力するポイントを絞ることで、開発的にやれることが増え、配信運用業務を含めた最適な基盤の再
</div><div class="ui-feed-item__date" title="2017-08-01 01:00:00">6年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-07-11-first-rls-meetup/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-07-11-first-rls-meetup/">リクルートライフスタイルMeetupレポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。SET(Software Engineering in Test)活動をしている関根（@AHA_oretama)です。6/14にリクルートライフスタイルが主催するMeetupが初開催されました！（私は登壇しました）今回は技術的な話はほぼないのでご容赦くださいね。Meetupが開催された背景リクルートライフスタイルはホットペッパーグルメ、ホットペッパービューティー、じゃらんなどに代表されるように、多くのサービスを世の中に提供しています。しかし、それらのサービスを支えるエンジニアリングに関してはまだまだ認知度が低く、サービスほどは有名ではないように思います。今回、Meetupが開かれた背景には、現場のエンジニアがどういった活動をしているのか、社員がどのように働いているのか、弊社のエンジニア活動をイメージしやすくしてもらいたいという思いがあります。そのため、第一回となる今回は「エンジニア主導でのプロジェクト推進」というタイトルで、リクルートライフスタイルのエンジニアがどのように働いているのか、そしてエンジニアがどのようにプロジェクトを推進しているのかということにフォーカスを当てて、初のMeetupを開催させてもらいました。Meetupの様子Office More Smile（@銀座）という開放感のあるオフィスで開催。RLSのエンジニア組織についてまず始めに友永（プロダクト開発１Gマネジャー 兼 人事部企画G）よりリクルートグループとリクルートライフスタイルについてリクルートライフスタイルの事業と組織について多種多様な機会創出リクルートライフスタイルの開発とミッションというアジェンダで発表しました。ここでは、リクルートライフスタイルがどのような会社なのかを知ってもらうとともに、リクルートライフスタイルで働く魅力と求められるものについて説明しました。個人的に一番印象的だったのは、「巨大なレガシーとの戦い」や「ステークホルダーの多さ」などの開発の難しい部分が、裏を返すと「大規模投資のチャンス」や「何でもやらせてくれる土俵」というリクルートライフスタイルでの働く楽しさに変わる、という部分でした。実際に働いている自分もその通りだと思い、非常に共感できたのと、言葉にしてもらえると自分がやっていることの難しさと楽しさを理解することができたのが大きかったです。また会社としての
</div><div class="ui-feed-item__date" title="2017-07-11 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-07-04-rb-ios-monitoring/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-07-04-rb-ios-monitoring/">iOSアプリのログ収集とデータモニタリングについて</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにはじめまして、レストランボードでフロントエンド(iOS・Web)開発を担当している門脇と申します!現在レストランボードのiOSでは、アプリのパフォーマンスやユーザの操作時間などを計測し、問題のある部分を分析する取り組みをおこなっています。本記事では上記取り組みを実現するまでに利用したツールや環境構成、ちょっとしたサンプルを紹介します。背景と目的アプリのパフォーマンス向上&amp;劣化防止レストランボードでは、新機能の開発や保守・運用をしながらも、パフォーマンス改善を求める要望が多く上がっていたこともあり、アプリのパフォーマンス向上とパフォーマンスの劣化防止の取り組みをしていこうとしていました。しかし、パフォーマンスを測定する仕組みすらなかったため、どの部分に問題が潜んでいるのかは感覚値でしかわからない状態でした。仮に問題を特定して改善させようとしても、改善されたのかが目に見えない状態だったので、パフォーマンス向上させたとは言い切れない場合があります。そこで、アプリのパフォーマンスを測定する取り組みについては以前、Airレジの事例があったので参考にして、計測を開始しました。ということで、アプリのパフォーマンスを劣化させないようにすることと、パフォーマンスに問題のある部分を特定し、改善することでパフォーマンスを向上させることを目的としてこの施策に取り組んでいます。アプリ操作におけるUI/UX改善一方、ユーザの操作(予約登録や席移動など)についても改善すべき部分はあると感じていました。そのためには以下のような、「ユーザがどんな操作をおこなっているのか」について知る必要がありました。操作完了までにどれくらいの時間がかかっているのか操作完了までにどれくらいのタップ数を要するのかその上で、我々が想定している操作とは異なる部分に着目／改善していこうと考え、パフォーマンス計測と同様にログの収集をおこなうことにしました。しかしながら、ユーザがどんな操作をおこなっているかを知る方法としては、ユーザに実際に操作してもらい、ユーザビリティに関する様々な質問をおこなう方法(ヒアリング)もあると思います。とはいえ、ヒアリングはコスト(時間、労力など)が高い、かつ一部のユーザの意見であるため、その意見が正しいかどうか不明であるという問題点があります。また、ヒアリングをおこなってUI変更をしたとし
</div><div class="ui-feed-item__date" title="2017-07-04 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-06-29-google-cloud-next-17-in-tokyo/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-06-29-google-cloud-next-17-in-tokyo/">Google Cloud Next &#39;17 in Tokyo に登壇しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは。CET チームでアプリケーションエンジニア リーダーをしている堀澤(@horiken4)です。Google Cloud Next ‘17 in Tokyo で話してきました。過去の投稿も是非御覧ください話した内容GCP を利用して CET 基盤をどのように構築しているかについて発表しました。 CET は以下の要素データ収集分析結果をサービス側へ還元する APIデータに対するリアルタイム処理機械学習バッチに大きく分かれているのですが、すべてを解説するには時間が足りないため、API を構築するため、どのように GKE と Bigtable を利用しているのかDataflow でリアルタイム処理をする際のノウハウについて主に解説しました。スライドを載せておくので、なにかの参考になれば幸いです。 発表ごとにレベルが設定されており、私はエンジニア向けの発表になるようにスライドを作成しました。そのため、ビジネスサイドの方の期待には応え切れなかったところもあるなかと感じるシーンもあり、もう少しビジネス寄りの内容も盛り込めばよかったなと反省しています。ですが、ほぼ全員の方に最後まで聴いていただけたので、大変うれしく思っています。おわりにGoogle の方や他の企業の方の発表もいくつか拝聴することができたのですが、ベストプラクティスやユースケースなどについて多く知ることができ、大変勉強になった 2 日間でした。ここで学んだことを活かして、基盤システムのさらなる発展に貢献していけたらなと思っています。</div><div class="ui-feed-item__date" title="2017-06-29 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-06-28-google-io/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a>
<div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-06-28-google-io/">Google I/O 2017から学んだこと</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、ホットペッパーグルメAndroid開発の朱と申します。5/17~19日、サンフランシスコで開催されたGoogle I/Oに参加してきました。同じ部門の小川さんと段さんも一緒です！そして、カンファレンスで私が感じた、特にAndroidエンジニアとしての印象深かったポイントを紹介したいと思います。紹介・カンファレンスのポイント去年と同じく、今回もSilicon ValleyのShoreline Amphitheatreをメイン会場として開催されました。シンプルなリュックとTシャツを特徴とした7500人以上のgeekたちがそこに集まり、世界的に新しい技術について交流をしました！ まず最初の刺激はKeynoteのOpening Animationから始まりました。小さなアイディアの卵が、ブラッシュアップされていき、様々な人の手を借りて、最終的には大きな銀河になりました！「What will your idea become？」カンファレンス全体から見ると、ポイントは以下の二つだと思います。「AI first」を攻めて進んでる音声と写真の時代が来た「Mobile first to AI first」 をテーマとして、GoogleはAIを中心に着実に進歩していっています。更に、リサーチと開発者向けのツールだけではなく、Google自身のサービスは全てAIを利用した強大なサービスネットワークを展開しています。その中心は、既にAndroid/iOSにリリースされているGoogle Assistantです。他にも、Google I/Oの一週間後に流れた、囲碁のAI AlphaGo が世界一の棋士柯潔に勝ったというニュースは、GoogleのAIのレベルがもはや人類最高峰の頭脳にも勝てるレベルになってきているという事を証明する一つの事例と言えるのではないでしょうか。A lot of the future of search is going to be about pictures instead of keywords.——– Ben Silbermann, Pinterest Founder / CEO, 4/17 「Hands Free」 を実現する未来のinterfaceは音声と写真でしょう。例えば、音声認識の錯誤率は4.9%以下に抑えられています。（これは人間より低
</div><div class="ui-feed-item__date" title="2017-06-28 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-06-19-wwdc2017/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-06-19-wwdc2017/">WWDC2017に参加してきました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにはじめまして！ホットペッパービューティーのiOS開発を担当している外崎です。初めてのアメリカ、初めてのWWDCです。WWDCに行くまでWWDC開催前に日本でいくつかMeetupが開催されていました。WWDC開催前今回はサンノゼ開催ということで、現地まではサンノゼ空港直行便で行きました。WWDC初参加ということもあり、初日のKeynoteを良い席で見ないわけにはいきません。3時についた頃にはすでに十数人が並んでいました。WWDC開催中WWDCでは新機能の解説をはじめとした様々なセッションがあります。https://developer.apple.com/videos/wwdc2017/ おすすめのセッション現地で聞いてみてオススメのセッションを紹介します。Platforms State of the Unionhttps://developer.apple.com/videos/play/wwdc2017/102/Essential Design Principleshttps://developer.apple.com/videos/play/wwdc2017/802/ラボ様々なセッションの存在も欠かせませんが、ラボと呼ばれるAppleの社員に直接相談できる場所があります。User Interface Design Labラボの中でも特に人気なのがUser Interface Design LabでAppleのデザイナーに直接デザインの相談ができます。User Interface Design Labは区切られた個室のような空間でAppleのデザイナーと1対1で会話ができます。WWDC関連イベントWWDC会期中は周辺でイベントも同時開催されます。また、Realmが開催していたWWDC 2017 Swift Panelにも参加してきました。さいごにWWDCに参加してとても充実した一週間を過ごしてきました。日本でもセッションのビデオなどのほとんどの情報は手に入りますが、ラボへ行くことや現地の熱量を感じられるのでエンジニアは現地で過ごすべきですね！</div><div class="ui-feed-item__date" title="2017-06-19 01:00:00">7年前</div></div></div><div 
class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-05-26-dynamo-poling/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-05-26-dynamo-poling/">AWS DynamoDBを使ってDBの負荷を軽減した話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。鹿島です。今年の3月よりリクルートライフスタイルに入社し、受付業務をサポートする受付管理サービス「Airウェイト」のエンジニアとして活動しております。今回はAirウェイトのインフラ構成とAPIのロジックを見直し、APIのなかでもDB負荷の高い処理を外部に出してDBの負荷を減らした話です。Airウェイトは店舗の列整理や受付表管理の煩わしさ、呼出しの手間などの業務負荷を解決する受付管理サービスです。刻々と変化するお客さんの待ち受け状況や案内状況を店舗のスタッフさんがリアルタイムで管理し、共有できるシステムを提供しています。例えば、お店の状況は次のような操作で変化します。お客さんが来店して受付お客さんがWebから受付店舗スタッフさんがお客さんをご案内このようなお店の状況の変化に気づいてお店に置かれた各端末がリアルタイムで同期をとるために、端末は頻繁にAirウェイトのサーバーに更新の有無を問い合わせ、もし状況に変化があれば最新情報を取得する動きをしています。更新確認を返すAPIのDB負荷が課題にAirウェイトのWebサーバーは各端末からの更新確認の問い合わせを受けるAPIを提供していますが、このAPIに対するリクエスト数はサーバーで受ける全リクエスト数の約8割を占めるほど頻繁に問い合わせを受けています。サービス開始当初はどれだけユーザー数が伸びるか予想できないこともあり、一般的なインフラ構成でリクエストを受けていました。ですが、嬉しいことに順調にユーザー数が増加すると当然リクエスト数も線形に増加し、全てのリクエストを捌き切れないことが起きるようになりました。具体的には、以前のインフラ構成とリクエストの処理フローは↓のようでした。一般的な構成ですし、実際、サービス開始後しばらくはこの構成でも何も問題が起きませんでしたが、徐々にユーザー数が増加してくると、このAPIの性質上、リアルタイム性を求めるサービスのため高頻度にリクエストを受ける複数テーブルを比較・集計する重めのSQLを発行するので、タイミング悪く一斉にリクエストが押し寄せるとDBのコネクションプールが枯渇してしまい、エラーが起きるようになりました。対策の検討そこで、DBのコネクションプールの枯渇を防ぐため、更新確認用のAPIのロジックとインフラの構成を見直すことに。対策として次のようなアイデアが出ました。案
</div><div class="ui-feed-item__date" title="2017-05-26 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-03-02-java9-module/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-03-02-java9-module/">Java9のModule機能について</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Java9のModule機能についてこんにちは。飲食領域で開発統括をしている小林です。現在、私が担当している領域のプロダクトの中にはサーバーサイド開発において、Java6を使用しているものもあり、Javaのバージョンアップについて、少しずつ議論を進めています。有力な候補はJava8であるのは間違いないのですが、今年2017年にJava9がリリース予定ということでModule機能とは従来のJava(8まで)が抱えるclasspathの問題の解決する新機能になります。classpathを辿ればライブラリの作者が意図してないAPIまで触れる外部から使われるライブラリという想定のクラスCommonLib.java12345678910111213141516171819package com.lifestyle_techblog.lib;import com.lifestyle_techblog.lib.util.MyUtil;public class CommonLib { public void execute() { System.out.println(this.getClass().getName()); // ライブラリ向けのクラスを呼び出す。 MyUtil util = new MyUtil(); util.run(); }}ライブラリ内で使うためのクラス(クライアントサイドから使うことは想定されていない)MyUtil.java12345678910111213package com.lifestyle_techblog.lib.util;import com.lifestyle_techblog.lib.util.MyUtil;public class MyUtil { public void run() { System.out.println(&quot;Getting Started:&quot; + this.getClass().getName()); }}lib.jarとしてまとめます。 12$ javac -d classes/ CommonLib.java MyUtil.java$ jar cvf lib.jar -C classes/ .使ってみましょう。別のディレクトリにライブラリを呼ぶ出すクライアントコードを作ります。MyClient.java 12345
</div><div class="ui-feed-item__date" title="2017-03-02 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-02-28-ui-diff-screenshot/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-02-28-ui-diff-screenshot/">Nightmare + GraphicsMagick + AVA でUIテストの差分を可視化する</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにはじめまして。レストランボードのフロントエンド開発を担当している山口です。レストランボードのフロントエンド開発では、Nightmare と GraphicsMagick を利用して、UIの変更を差分画像として可視化するようにしているので、今回はその方法をご紹介します。背景レストランボードでは、コンポーネント毎のHTMLモックがあり、データパターンを複数用意して、UIの確認を行っています。しかし、人間がブラウザを操作して1つずつ目視で漏れなく確認することは現実的に不可能であり、日々の機能追加で増えた260超のパターンの確認作業がかなりの負担になっていました。影響範囲が特定されている場合はまだ良いのですが、共通化されたJSやCSSを変更した場合には影響範囲がどこまで及ぶか把握することが出来ず、デグレードの発生を見逃しあわや大惨事！ということもあったため、UI確認の自動化の仕組みを導入することにしました。利用技術NightmareNightmare はブラウザの挙動を自動化するライブラリです。v1では PhantomJS のラッパーでしたが、v2からは Electron 製になったことで、2倍高速化しているようです。モックの各ページにアクセスしてスクリーンショット画像を撮る部分に利用しています。GraphicsMagickGraphicsMagick は ImageMagick からフォークした画像処理システムです。Nightmareで撮影したスクリーンショットの差分確認し比較画像の出力に利用しています。AVAAVA は次世代のテストランナーです。Node.js のノンブロッキングI/Oの性質を利用して、テストを並列に実行することで、Mocha 等のテストランナーよりもテストにかかる時間を大幅に短縮することが可能になっています。Nightmare と GraphicsMagick を使うためのNPMモジュールが公開されているのと、各ページの差分の有無をテストレポート風に確認したかったため、 AVA で実行する様にしています。実行方法1BASEURL=&#39;stable版モックのURL&#39; CHANGEURL=&#39;開発中のローカルURL&#39; ava ui/diffTest.js比較対象のURL等を環境変数に指定して実行します。以下が実際のテストコードです。1234567891
</div><div class="ui-feed-item__date" title="2017-02-28 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-02-17-spring-rails/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-02-17-spring-rails/">Spring + Railsによるサービス分割の取り組み</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめまして、ビューティ開発Tの寺下です。現在ホットペッパービューティーでは、一部システムのリプレイスに取り組んでいます。リプレイスはiOS・Android・Webと、各プラットフォームでそれぞれ並行して進めている状況です。今回は私のチームが担当している、Web開発に焦点をしぼって書いていきたいと思います。なお、iOS・Androidのリプレイスの取り組みにつきましては、Wantedlyにて紹介していますので、ネイティブアプリにご興味のある方はそちらをご参照下さい。リプレイスに至った背景ホットペッパービューティーは、サービス全体で年間5000万件以上のネット予約が行われるなど、多くのユーザの方にご愛用していただいています。サービス内容・品質の改善のため、日々機能開発を行っているのですが、長年の運用・改修により、少なからず技術的負債が蓄積しており、機能追加開発速度とビジネスの速度にズレが生じてきているという課題がありました。このような背景で、今回のリプレイスプロジェクトがスタートしました。リプレイスの概要現在のシステムの大部分は、Javaを用いた内製フレームワークのモノリシックなアプリケーションになっています。前段で述べたように、内部アーキテクチャの課題は大小多岐に渡ります。一度に全ての課題を解消するのはほぼ不可能な状況の中、「ビューとロジックの分離」を現状の課題解消の一つの打ち手として、リプレイスを進めていくこととしました。ユーザへの影響が比較的少ないページから、新アーキテクチャを導入・評価し、リプレイスの適用範囲をシステム全体へと少しずつ広げていきます。技術スタック現行のJavaベースのアプリケーションを、Java8 (Spring Boot)Ruby on Railsの2つのコンポーネント( Backend Server , Frontend Server )に分割します。各コンポーネントの責務を以下にまとめます。Backend Server - Java8 (Spring Boot)DBアクセス含むビジネスロジックAPIエンドポイントの提供Frontend Server - Ruby on RailsAPIコールの集約・キャッシングViewのレンダリングSession管理 (Session storeはRedis)※なお、私自身がFrontend Server
</div><div class="ui-feed-item__date" title="2017-02-17 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-02-07-code-review/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-02-07-code-review/">より良いコードレビューを依頼するために学んだこと</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
2016年度新卒入社の亀田です。現在、横断アーキテクトGという部署にて、共通ライブラリの開発に携わっています。自分は入社するまでチーム開発の経験が非常に浅く、入社後にコードレビュー依頼の仕方について指導を受けることが少なくありませんでした。 今回は、この一年で学んだ、良いコードレビューを行うためにレビュイー側が気をつけるべきことについてお話します。 当たり前の事も多々含まれているかと思いますが、どうかお付き合いください。リクルートライフスタイルではGitHub Enterpriseを使用した開発を行っており、今回の話もGitHubを想定しています。1. Pull Request 作成の前にPull Request (PR) 作成の前の段階では、以下3つの事を気をつけています。レビュアーと実装方針を予めすり合わせる議論の余地がありそうな部分に関しては、レビュアーと実装方針を予めすり合わせましょう。実装方針にそもそもの誤りがあった場合、実装し直しとなり無駄が大きくなってしまいます。これまでの開発から、この観点は特に重要だと考えており、マージまでのスピードやコード品質が大きく違う実感があります。PRの粒度は可能な限り小さくPRの粒度は可能な限り小さくしましょう。PRの粒度が大きくなってしまうと、1つのPRに複数の目的が混ざってしまったり、コード差分が大きくなってしまったりします。そうすると、どこを中心にレビューして良いかが分かりづらく、レビュアーの負担が大きくなってしまいます。WIPを活用する実装上の難易度から議論の余地が大きいと感じた場合、Work In Progress (WIP) PRとして早めにPRを出しましょう。WIP PRとは、PRタイトル頭に “WIP” の文字列を含めることで、作業途中であることを明示しているPRのことを指します。ある程度の実装の段階でWIP PRとして何度かレビューを受けることで、都度軌道修正を行うことができ、これによって大きな手戻りを防ぐことができます。WIP PRを出す場合、現在の進捗状況(何が終わっており、何が終わっていないか)や、特に見て欲しいところをPRのコメントに書くようにしましょう。作りかけの部分が混在する(ノイズが多い)WIPの性質上、レビュアーはどこを集中して見てよいか分かりづらく、これら情報が欠けるとレビュアーの負担が
</div><div class="ui-feed-item__date" title="2017-02-07 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-26-common-library/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-26-common-library/">大量のサービスをささえる社内ライブラリ開発で学んだこと</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、横断アーキテクトG所属の朏島です。横断アーキテクトGの仕事は色々ありますが、私は主に社内の共通ライブラリ開発に携わっております。今日は地味な話ですが、共通ライブラリ開発で学んだこと・気をつけていることについて書いてみたいと思います。なぜ共通ライブラリが必要かそもそも、なぜ共通ライブラリが必要になるのか？それは、シンプルに社内にたくさんサービスがあるからです。（現在リクルートライフスタイルにはサービスが30個もあり、更にここからサービス横断機能やマイクロサービスなど内部的に別れているものもあります！）ボイラープレートや本質的ではないが煩雑な処理などを共通ライブラリで巻き取ることにより、各開発者が自身のサービス開発に集中できることを目指しています。ライブラリの価値サービスでとある機能の実装が必要になった場合、それを共通ライブラリで開発するかどうかは「汎用的な機能か」「実装難易度が高いか」の２点で判断しています。簡単な図で表すと共通ライブラリでの開発対象は下のようになります。このような領域でライブラリでの機能提供をしている理由は下記になります。対象機能/技術の汎用性が高い場合サービス横断での開発工数削減を図るパブリックではない社内ルールを担保するサービス間での車輪の再発明を避ける新規サービス・機能の立ち上げにかかるコストを下げる対象機能/技術の実装難易度が高い場合高難易度実装部分の品質の担保実装難度の高い部分をサービス側で作りこまずに、共通部品として提供することで品質を担保するまた、これらをおこなうことで、間接的に設計・実装指針の提示にもつながっています。これらを実現するための前提として、同技術（本ライブラリで言うとJavaやSpring Frameworkなど）を用いたサービスが複数あることライブラリ開発チームに対象技術に関する知見が集約しやすい、ということの2点があります。私達のチームがこれらの前提を満たしているかというと、また、弊社のシニアアーキテクトが設計から実装までレビューをするという体制をとることで品質の担保もなされています。ライブラリ開発チームの組織としての価値また、サービスから独立した共通ライブラリを開発するチームの組織的価値もあるのではと考えています。関連情報の集約Spring Frameworkなどの共通ライブラリに関連する情報が集約される
</div><div class="ui-feed-item__date" title="2017-01-26 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-23-ios-universal/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-23-ios-universal/">iOS Size Classesを利用してユニバーサル対応を行った話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。AirレジのiOSアプリ開発を担当している山口です。Airレジは昨年5月に行ったリニューアルに伴い、ユニバーサル対応を行いました。それまではiPhone/iPadで別アプリとして管理していましたが、ユニバーサル対応によりメンテナンスコストを下げることができました。しかし、開発当初はSize Classesについての理解が浅いままユニバーサル対応を進めてしまい、レイアウト作成中に手戻りが発生したり、UIの共通化が上手くいかず分岐が複雑になってしまうなどの問題が発生していました。そこで、今回はSize Classesの概要とポイントについて書いてみました。これからユニバーサル対応を始める方の参考になれば幸いです。Size ClassesiOS8以降、多様化する画面サイズを抽象化して扱うための概念としてSize Classesが登場しました。様々なデバイスや向きに対応したAdaptive UIを実現する上で重要な概念となっています。AirレジはiPhone縦向き/iPad横向きの2パターンのみ対応していますが、メディア系アプリなどはAdaptive UIに対応することでより優れたユーザ体験を提供することができます。Size Classesでは画面のwidth・heightそれぞれに対して、Compact・Regularサイズが定義されています。何十パターンにも及ぶデバイスサイズ、向きの違いを下図のように4パターンで表すことができます。WWDC2016 Making Apps AdaptiveよりInterface BuilderによるSize Classesの利用Xcode8からSize Classesの使い勝手が大きく改良されました。ここでは、Interface Builderで実際にどのようにSize Classesを利用するかを書いていきます。動作確認環境は、執筆時点で最新のXcode8.2.1となっています。Device configuration paneInterface Builder下部にdevice configuration paneが追加されました。ここでは、デバイス・向きを選択することで、現在設定されている設定や制約に応じた表示を確認することができます。Xcode7ではCompact・Regularなどサイズベースで選択していましたが、
</div><div class="ui-feed-item__date" title="2017-01-23 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-19-ios-logging/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-19-ios-logging/">iOSアプリログから品質の低下を検知する話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにはじめまして、AirレジのiOSアプリ開発を担当している保田です。現在Airレジチームでは、ログからアプリパフォーマンスの低下を検知する仕組み作りに取り組んでいます。今回はその取り組みについて、どのように実現しているかをご紹介させていただきます。背景昨年5月に、Airレジのリニューアルを行いました。しかし、この時に「レシートの印刷が遅くなった」「レシートの印刷ができない」という声を多数いただいてしまいました。ユーザーの業務の中でも特に重要な「会計・決済」という部分を預かる以上、このような品質の低下をいち早く検知して、解消していかなくてはいけないということで今回の取り組みを開始しました。社内テストでも性能面の評価を実施していたものの、実際の業務の特定パターンにおいて起きる事象もあったため、本番環境の品質の低下を検知する仕組みが求められました。ログの収集「アプリパフォーマンスの低下を検知する」という目的上、色々な項目のログを収集していくことになります。そのため、スキーマレスで新しい項目を追加しやすいTreasure Dataを利用してログの収集を行っています。Treasure Dataに収集されたログを加工してRedshiftに流し、Tableauを利用して分析を行っています。※ 余談ですがアプリからTreasure Dataへのログ送信には自前でSDKを実装しています。収集事例先述したプリンターを例にとり、特にレシートの印刷時間に関してどのようにして収集・分析を行っているかをお伝えします。測定対象の定義まず、測定対象の定義を行います。ログの埋め込み設定した定義に従ってログの埋め込みを行います。また、処理の合間にユーザーの操作が入る場合は要注意です。測定結果にユーザーが操作した時間が含まれてしまい、パフォーマンスの計測とは言えなくなってしまいます。今回の場合だと印刷ボタンをタップしたタイミングでAirペイなどの外部決済アプリとの連携を行う場合があったので、外部決済を行ったときの印刷を集計時に識別できるようにしました。分析収集したログの分析を行います。分析結果をお見せすることはできないのですが、印刷時間の測定に関して言うとiOSのOSバージョンによって印刷時間に差異はない。端末の世代によっては印刷時間に1割程度の差がある。などの新たな発見がありました。品質低下の検
</div><div class="ui-feed-item__date" title="2017-01-19 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-06-communication-in-chat/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2017-01-06-communication-in-chat/">チャットで広がるコミュニケーション</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
新年、明けましておめでとうございます。レストランボード開発チームでテックリードをしている浅野です。今回は、リクルートライフスタイルで最近一層盛り上がってきているチャットツールの活用について紹介したいと思います。きっかけこれまで本ブログでも『Slack“分報”、流行ってます』などで事例の紹介をしているので「何を今更」と思われるかもしれませんが、実際にチャットの積極的な活用が全体に広がり始めたのは比較的最近のことです。そのきっかけとなったものして、チャットツールの移行が挙げられます。実は、過去の『モダンな開発をするための取り組み』の記事でも紹介されている通り、リクルートライフスタイルではチームコラボレーションツールとしてAtlassian社の製品を利用しており、それに伴い当初チャットツールはHipChatが採用されていました。それが昨年の10月からSlackへの本格移行が実施され、今ではほぼSlackに統一されています。これによって具体的に何が変わったのでしょうか。チャットツールの統合オープンな権限標準コミュニケーション機能の豊富さがあったと考えています。チャットツールの統合前述の通り、以前はチャットツールとしてHipChatが採用されていました。しかし、元々エンジニアからはSlackの人気が高く、部分的に検証用のSlackで活動していたりそれがすべてSlackに移行されたことで、単純にツールが統合されたというだけでなく、オープンな権限ツールの差というよりは社内の権限管理上の問題ではありますが、Slackではかなり緩めに権限が設定されており、Integrationなどは誰でも自由に追加できるようになっています。以前は、Botを作るのにもわざわざ専用アカウントを発行しないといけなかったり、申請などの手続きをすることなく拡張機能が利用できることで、よりチャット上に情報が集約され、そこから新たなコミュニケーションが発生するというような好循環に繋がっていると感じています。試しに現在のSlackのIntegration設定を覗いてみると不可欠な周辺開発ツールとの連携はもちろんBotもボタン一発で作れるため、必要に応じてプロダクト毎に動かしていますそしてRSSの大人気っぷり (本当に全部見られてるのだろうか…？)機能として実際に実現出来ることは変わらなくても標準コミュニケーション機
</div><div class="ui-feed-item__date" title="2017-01-06 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-12-27-aws-migration/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-12-27-aws-migration/">オンプレミスで動いていたサービスをAWSに移行した話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。フルスタックエンジニア(自称)の井上です。経緯リクルートライフスタイルでは、いくつかのオンプレミスおよびクラウド環境からサービスの特性に合わせて適した環境を選択しています。移行先の選定移行先を選定する際、主に以下の点を重視して検討しました。 今後の成長を見越して素早く、かつ継続的にスケールできる少人数体制でも効率的に運用が可能で、スケールした状態でも運用負荷が増えないエンジニアが試行錯誤しやすく、開発スピードを維持できる現状からコスト効率が大きく悪化しない移行先の候補もいくつかありましたが、少人数の開発体制でスピードを維持しつつサービスを運用していくためには最も適していると考え、AWSに決めました。 リクルートライフスタイルのAWS利用リクルートが運営するサービスとしてセキュリティなど一定の要件を満たした状態で、サービス運営できるように以下のような機能を持った共通基盤が整備されています。 ID管理WAFメールGWログ基盤監視CIetc.これにより各サービス担当のエンジニアは担当サービスの範囲に注力できるため、素早く安全な環境構築が可能となっています。構成Ruby on Railsで構築された一般的な構成のサービスです。スケジュール今回2ヶ月という短期間で完全移行することに決めた最大の要因は、サービスの成長を加速させる機能開発やUI/UX改善を可能な限り止めないようにするためです。運用を効率化しつつ拡張性を維持するため環境構築の自動化を進める短期間で確実に移行するため、アプリケーションの改修は最小限に抑える実際にアプリケーションに手を入れたのは、ファイルストレージをNFSからS3に変更するための対応くらいでした。(といってもNFS前提で組まれていたため対応箇所はそれなりにありましたが)実はAWS移行を機会にDBMSをMySQLからAuroraに変更することや、CloudFrontを利用して静的リソースの配信高速化を行うことも考えていました。得られたもの移行時点で約2倍のトラフィックを捌けることを期待していましたが、（少々インスタンスタイプの調整が必要だったものの）ほぼ想定通りの性能が出ており、さらにインフラ運用に関わるコストも削減することができました。まとめ順調に移行を進めることができた要因として、リスクを最小限に抑える方針を取ったことも1つです。アプリケ
</div><div class="ui-feed-item__date" title="2016-12-27 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-12-26-kcl-application/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-12-26-kcl-application/">Kinesis Client Libraryを利用してKinesis アプリケーションをつくったよ</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめにこんにちは。ホットペッパービューティーの開発をしています。長谷川です。カレーが好きなアラサーエンジニアです。今回は、実際のプロジェクトで、とあるログ連携の為に、Kinesis Client Library(以下KCL)を利用した、Kinesis アプリケーション(以下Kinesis App)を開発してみたので、開発のポイントなどを書いてみたいと思います。個人的には、去年検証でちょっとしたサンプルをつくったことはあるんですが、実際のプロジェクトでは今回始めて使いました。今回の構成Kinesis Streamのログデータを、とあるシステムに転送するために、EC2上でKinesis Appを動かしています。この図だけだと、わざわざKinesis Appを作らなくても他に連携のやり方がありそうな感じですが、今回の要件では自分でログをfetchして、ファイルとして独自に出力するプログラムをつくる必要がありました。開発のポイント言語選択KCLの各言語版の開発状況を見ると、Java版が一番AWSのAPIに対する追随が早そうだったので、Java版を使うことにしました。JVM言語であれば、なんでも良かったのですが、メンテナンスを考えると、弊社で一番ポピュラーなJavaに落ち着きました。特にフレームワークは使っておらず、普通のJava8のアプリケーションとして実装しています。KCLを使うことのメリットKCL Worker（Streamと対応して、ログを受け取るプログラム）を複数立ち上げると、shardと連動して、自動でバランシングしてくれます。例えば、shardが2つのKinesis Streamから、1つのEC2インスタンス上でKinesis Appを起動状態にし、もう1つEC2インスタンスを立ち上げてKinesis Appを起動した場合、開発者が意識すること無くログ出力は2つのインスタンスに平均化されます。（DynamoDBに登録される、Kinesis Application Nameが同じ場合）。KCL利用のポイントと、Worker起動の流れ下記は、KCLワーカーを起動するMainクラスと、ログをfetchするProcessorクラス、Processorを生成するFactoryクラスの実装イメージです。classpathに、https://github.com/awsla
</div><div class="ui-feed-item__date" title="2016-12-26 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-25-rls-isucon/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-25-rls-isucon/">社内ISUCONを開催してみた所感</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。新規開発チームでギャザリーの開発を担当している明智です。開催のきっかけISUCON未経験者の私が社内ISUCONを開催することになったきっかけは、グループマネジャーのあるSlackの投稿でした。「これやってみたいな。やってみない？」「やりましょう」 と返事をし、晴れて社内ISUCONの主催者となりました。このスピード感もさることながら、こういった企画を役職など関係なく誰でも実施できるところが弊社の面白いところだなと改めて感じました。まぁ、開催が決まってからが大変なんですけどね。準備ISUCONのこと自体よくわかっていないという状態だったので、開催が決まった直後は過去のISUCONや社内ISUCONの事例をひたすら調べてました。ISUCONは、お題のWebサービスをとにかく早くすることを競い合うコンテストです。このコンテストを通して技術力の向上はもちろんのこと、同時に エンジニアの横のつながり を強める場にしたいなと思うようになりました。というのも、ライフスタイル領域で多くのサービスを展開している弊社ですが、担当サービスを超えて交流する機会がそこまで多くないという現状がありました。せっかく同じ会社にいるんですから交流したいですよね？担当サービスがばらばら得意分野がばらばら社会人歴がばらばら出題問題はピクシブ社の問題を利用させていただきました。はじめはアレンジして独自の問題にしようと思っていましたが、適切な問題設定などノウハウがなかったのでそのまま利用することにしました。ただ、ベンチマークは競技者が実行したら自動でポータルサイトに反映させたかったので、ちょこっと改修しました。準備ではあるものの、ベンチマークの改修は自身の学びにもなり楽しく進められましたよ。当日当日はこのタイムスケジュールで進行していきました。他社の事例だと半日から数日の開催でしたが、業務調整のしやすさなどを考慮し４時間弱としています。時間題目17:00開会の儀（出題問題発表など）17:10社内ISUCON開始21:00閉会の儀（結果発表など）当日に近づくにつれて 「結局インスタンスの準備しただけやけど、このまま開催して大丈夫か？」 という不安な日々を過ごしていましたが、開始５分でこの不安な気持ちは綺麗さっぱりなくなりました。開始後すぐに問題の把握を行い、方針を話し合っているのです。その後は、
</div><div class="ui-feed-item__date" title="2016-11-25 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-22-serverless-architecture-lambda/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-22-serverless-architecture-lambda/">AWS Lambdaを用いてサーバーレスアーキテクチャの使い道を考えてみる</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。グルメ開発チームの齋藤です。近年サーバーレスアーキテクチャの注目度が日に日に上昇してきています。今回はこの中からAWS Lambdaを使って、そもそもどういう事ができるのか、サーバーレスアーキテクチャとはそもそもサーバーレスアーキテクチャとは何か？という点に関してですがWebAPIを公開しようと思うと、まずはサーバーを用意する必要があります。一方FaaSのAWS Lambdaに関しては、こういったサーバの用意や運用が一切いりません。留意点一見万能に見えるAWS Lambdaですが、様々な制約もあります。使える言語は2016年11月時点ではPython、Node.js、Javaのみ基本的にはステートレスであるFunction間でもコード共有は出来ない共通のロジックとかは使えないロジックそのものをLambdaファンクションにすることで共通化は可能300秒以内に完了する必要があるオンラインではあまり気にならないレベルだが、バッチ処理を行う場合には要注意利用する際には長所と短所はきちんと把握する必要がある、と言えるでしょう。想定しうる用途ざっと思いついた用途をあげてみます。用途詳細サーバーリソース・エラーログ監視CloudWatchのログをトリガにSlack通知cron的な使い方CloudWatchのスケジューラトリガで起動botLINE BotやFacebook Messangerなどのチャット系bot。基本的に1つの会話につき1アクションなので、Function方式との相性は良さそう簡易APIAPI GatewayをトリガにしたWebAPIの提供1リクエストごとにコネクション張ってしまう（コネクションプールのような仕組みがない）ので、RDSとの接続には向かない。使うならDynamoDBファイル操作S3のファイル更新検知をトリガとして動く例えばファイルの内容をDBに取り込む、とか。他のサーバーへ送信する、とか。他にも多くの用途がありそうですが、ひとまず今回は簡易APIの用途で試してみたいと思います。簡易APIを試すAPIを試すにあたって、以下のようなアプリを作ってみました。内容としては非常にシンプルなTODOアプリです。処理の流れは以下のようになっています。NoFromTo処理概要①アプリAPI Gatewayタスク作成、状態更新、タスク取得などのイベントをト
</div><div class="ui-feed-item__date" title="2016-11-22 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-16-isomorphic-javascript/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-16-isomorphic-javascript/">React + Reduxで作ったIsomorphic(Universal) JSなサービス開発の裏側</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめまして、2016年新卒入社のいちきです。僕は現在、11/14にWeb版がリリースされたばかりのブッキングテーブルというサービスの開発チームでフロントエンドからバックエンドまで一貫して担当しています！ブッキングテーブルとは？https://bookingtable.jp/ ブッキングテーブルは全国の飲食店の予約を全てネットで予約が出来る、予約特化アプリです。既に2016年4月にiOS、Android版が同時にリリースされていましたが、遂に11/14に待望のWeb版がリリースされました！Web開発の構成Webでは、NginxでUser-Agentを確認してAndroidか、iOSならSP版。それ以外ならPC版で振り分けています。 利用したフロントエンド技術カテゴリ説明React.jsFrameworkFacebookが開発した画面のコンテンツを表示させるためのViewフレームワークです、画面のコンテンツ表示だけなので、イベントの実行などは特に既定されていませんJSXフロントReact.jsの仮想DOM生成をXML風に記述出来るReduxFrameworkFacebookが提言するFluxのアーキテクチャに基づいたフレームワークです。画面で実行されたイベントをstateと呼ばれる領域に保持し、「イベント発行 -&gt; stateの更新 -&gt; 画面レンダリング」のサイクルを管理しますSCSSScriptstyle記述用スクリプト各バージョンミドルウェアバージョンNode.jsv6系npmv3系Isomophic Javascriptの選定理由今回はNode.jsを用いて、Isomorphic Javascript(最近だとUniversal Javascriptと言われている)のコンセプトに従って開発しています。LL言語で記述して、クライアントサイドをJavascriptで書いた場合、ブラウザ上でのバリデーションとサーバサイドのバリデーションは別々のコードを使用しなければなりません。 Signle Page Application (SPA)ブッキングテーブルではReactを使い、Single Page Applicationでの開発を行っています。Server Side Rendering (SSR)Single Page Applicationには確かにUX上でのスト
</div><div class="ui-feed-item__date" title="2016-11-16 04:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-01-cet-camp-report/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-11-01-cet-camp-report/">リファクタリング合宿レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、2016新卒入社の平塚です。Capture EveryThingの略称である「CET」というプロジェクトに配属され、インフラと機械学習の間を日々奔走しています（翻弄されています）。CETでは、サービス改善によるユーザーやクライアント企業への高付加価値の提供、およびそれによるCVR向上を目的とし、各種ログやトランザクションデータの収集・分析およびそれらを基にした開発を行っています。チームではビッグデータの収集を行うための基盤を構築・運用するインフラエンジニア収集されたデータを分析するデータサイエンティスト分析されたモデルに基づいて実装を行うアプリケーションエンジニアが活躍しています。役割は明確に分かれているわけではなく、必要に応じて他の役割を担います。 過去記事はこちら。今回は、我々が行った「リファクタリング合宿」についてご報告したいと思います。リファクタリング合宿とは？一言で言えば、『新規開発禁止』の合宿です。我々のチームでは、「基盤構築」「企画/分析」「開発」「A/Bテスト実施」「A/Bテスト評価」「本番運用」までを一気通貫して行います。高速かつ継続的に案件を進めるために、CI/CD環境を整えるといったことはもちろん、良さそうな技術は積極的に取り入れ実際に使って良かった物を残す、といった方針で進めています。その結果として、チーム内でベストプラクティスが固まってきたものの、それ以前に作られていた部分が技術的負債になってきていました。「このライブラリがdeprecatedなんだけど元の担当がいない」「いくつかある似たようなDockerのimageを統一したい」「毎回手動でやっていたコンパイル作業を自動化したい」「社内wikiの情報が散らかっててよくわからない」「…」「…」「…」「「「リファクタリングだ！！！ 」」」という経緯で、まとまった時間をとって既存部分の改修のみを行う合宿の開催が決定。ベストプラクティスに統一することで開発の見通しをよくする負担となっていた作業を自動化することで開発を効率化する暫定対応になっていた部分をしっかり改修し、将来的な問題を未然に防ぐを目標としました。いざ土善旅館へ！ということで、千葉県の土善旅館にお世話になりました。こちらを選ばせていただいた理由としては、開発部屋やプロジェクタ、ホワイトボードなどが充実した開発合宿プランがあ
</div><div class="ui-feed-item__date" title="2016-11-01 11:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-23-lesson-from-isucon6/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-23-lesson-from-isucon6/">ISUCON6に参加して得られた経験と見えた壁</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。2016新卒ホットペッパービューティー開発チームの伊芸です。ISUCONとはIikanjini Speed Up Contestの略。とにかくチューニングしまくって、処理の速いサービスをデプロイしていくような、エンジニアの天下一武道会的なコンテストです。ちなみに今年の参加チームは317組。人数にしておおよそ900人の参加がありました。その中には有名な技術書書いてる方がいたり、みんな使っているであろうOSSにコミットしている方がいたりと、本当に戦々恐々な心境でした。ISUCON参加実況前日事前勉強会を開催。まだ業務でgolangは使えないが、パフォーマンス良いらしいし、使ってみたいという技術的好奇心による判断でgolangを選択。最高に良い感じにスピード出していくぞ！と意気込み、対策を始めました。なお、3人中2人はgolangビギナー。golangをやりはじめて正味3日、といったレベル。だけど大丈夫です。大事なのは努力・友情・勝利です。当日10:00 〜 11:00サーバーにログイン・環境確認。Azure初心者すぎてISUCON運営者側からの設定依頼を読むも、どこで設定したらよいのかわからないためログインできず、最初から雲行きが怪しかったです。日頃AWSしか触らないことに対する罪と罰だと反省しました。ちなみに時代はGCPらしいです。11:00 〜 13:00無事サーバーに入り、ディレクトリを確認。とにかく開発体制を整えにかかりました。ざっくりとファイルやコードを眺めていました。13:00 〜 15:00腹が減っただとか、各々が弊社でやっていきたいことなどをざっくばらんに話しながら相変わらずコードリーディング。golang力が低いぼくは別ディレクトリに存在するRubyでされている実装を参考にしながらgolangプログラムを解釈していた。ここらあたりで、どうやらhtmlify（キーワードに自動リンクを貼る処理）が遅いということがわかり、その周辺の処理を集中的に分析。最初はMySQL側の問題だと思いDBのログみたりselect文発行してみたりしていましたがどうやら見当違い。ボトルネックはgolang側でやっている処理でした。解決策として、Redisにとりあえずぶっこんでキャッシュしたものを読み込ませる、といった処理を実装。シェルスクリプト・PythonでMySQ
</div><div class="ui-feed-item__date" title="2016-09-23 11:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-15-try-vue-flux/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-15-try-vue-flux/">Vue.js + Vuexで開発をしてみよう！</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、フロントエンドエンジニアの蔀です。ここ数年のフロントエンド開発の潮流の変化は急激で、雨後の筍のように色々なフレームワークが出てきていますね。8月末には、Mediumでこんな記事が人気になりました。The State Of JavaScript: Front-End Frameworks と銘打たれたこの記事は、React/Angular/Angular2/Ember/Vue/Backbone といった、近年流行しているJavaScriptフレームワークに関する興味、満足度、知名度などを調査して比較してくれています。注目していただきたいのが、「Satisfaction（使ってみて満足したかどうか）」の項目です。近年流行しているReact.jsと肩を並べ、Vue.jsが非常に高い満足度であることがわかります。Vue.jsについては日本語ドキュメントも充実していますが、「実際に作ってみた」系記事が少ないのが実情です。今日はこのVue.jsで簡単なアプリケーションを作ってみましょう！環境Max OSX - 10.10.5以上node.js - v5.0.0以上npm - v3.0.0以上node.jsやnpmの準備がまだの方はこちらからインストールしておいてください。事前準備以下の記事では、ES2015という新しいJavaScriptの文法を特に断りなく使用していきます。全く最近のJavaScriptに触れてないよ！どうしよう！という方は、まずES2015の紹介を読んでおくとよいでしょう。Vue.jsのチュートリアルをやってみてから、一通りVue.jsのドキュメントを読んでおくと、本記事の理解が進むと思います。作るものの要件GIF検索用のシンプルなWebアプリケーションを作ることにします。GIFの検索ができる（GIPHYのAPIを使用）検索結果のGIFを並べて表示してくれるワイヤーフレームも書いてみました。開発環境を整えるプロジェクトのひな形を作るvue-cliをインストールしましょう。giphy-vueにしておきましょう。123456789# vue-cli のインストール（グローバル）$ npm install -g vue-cli# &quot;webpack&quot; を使ったプロジェクトのひな形を作ってくれます# いくつかの質問が出てきますが、分からなければ全部Ente
</div><div class="ui-feed-item__date" title="2016-09-15 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-14-slack-communication/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-14-slack-communication/">Slack“分報”、流行ってます</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。ビューティー開発チームの高丸です。Slackだと、会話が増えて、盛り上がりますよね。XXXX-time というchannelを作って、日報ならぬ分報を書くケースが増えました。タイムリーな発言昔ながらの日報・週報だと、進捗の遅れや困っていることが書いたタイミングでの共有となったり、そもそも書くのが面倒臭くて続かないことが多いかと思いますが、このやり方だと、本人が書きたいタイミングで苦なく書けています。現代的ですね。効果としてはそれだけではなく、先輩や同期からいろいろなコメントをもらいやすいというのもある気がします。なぜか、デスクトップがどれだけ散らばっているか見せあったり。私が一番面白いなと思ったのが、書いている人の考え方や気になっているところが読む人に伝わってくる、いわばその人のカラーがしっかり出るというところです。意外にもグループマネジャーも始めてたりします。おわりにアイディアは井戸端会議から生まれるとよく聞きます。雑談スペースをオフィスに取り入れる会社もあります。ただのチャットでの会話と侮ることなかれ。こういったコミュニケーションでお互いを知ることが、チームを強くする秘訣だろうと私は思います。</div><div class="ui-feed-item__date" title="2016-09-14 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-07-gcp-next-tokyo/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" 
href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-09-07-gcp-next-tokyo/">機械学習・データ分析・NoOPSのインフラ！ - GCP NEXT Tokyo 2016 レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。ビューティー開発チームの高丸です。最近、SOFT SKILLSを読んだ後輩が「（エンジニアは）ブログを書くべき」という言葉に印象を受けてブログを書き始めたので、それに影響を受けて私も書いております……。さて、9/6に開催されたGCP NEXT Tokyo 2016に参加してきましたので、レポートしたいと思います。弊社でもクラウド活用は進んでおり、以前、CETのプロジェクトのテックブログ記事で紹介したGoogle Cloud Platformですが、最近はますます勢いを感じます。機械学習まずは、機械学習をかなり推している雰囲気がありました。“5年後には大型IPOの成功はすべて機械学習によってもたらされるだろう”（by Eric Schmidt）というぐらい、機械学習の熱は至るところで感じますが、昨年2015年に発表したTensorFlowと連携するCloud Machine Learning（現在はAlpha版）が大きなインパクトを与えるのではないかと私は感じました。いくつかデモがありましたが、どうしても機械学習で精度を上げようと思うと、パラメータをチューニングしたり、そもそもモデルを作り直したりする必要があり、それにはとても時間がかかります。ですが、GCP上でモデルのトレーニングが行えるので、非常に高速に学習させることができるようになりました。あとは、APIも揃っており、簡単に機械学習のデータを利用できるのは画期的です。活用事例としては、不正画像アップロードの検知や不正利用の検知、マーケティングデータの分析が多く、現状は精度を上げている段階のようです。BigQueryビッグデータ解析と言えば、BigQueryというのはもう根付いてきたかもしれません。メンバーがデータ分析する文化を醸成したエンジニア以外にも触ってもらうようにした（SQLを教えた）旧DBや旧データ基盤から、BigQueryに移行したなど、BigQueryを浸透させる動きが強まってきたと思いました。Cloud Pub/SubとCloud Dataflowを使ったSpotifyの事例紹介などもあり、リアルタイムに集めたデータの処理からバッチ処理まで、どんな場所でも使えるイメージです。Google App Engine私も、知人から最近のGAEの素晴らしさを語られてから再注目しているのですが、改め
</div><div class="ui-feed-item__date" title="2016-09-07 01:00:00">7年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-06-28-airwwdc/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-06-28-airwwdc/">WWDC 2016 iOS開発Tips</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。Airシリーズ開発チームでiOSの開発リードを担当している永井です。今年、初めて現地に赴いてWWDCに参加してきました。技術的負債の解消Improving Existing Apps with Modern Best Practicesこのセッションでは、既存コードの技術的負債や改善方法について語られています。開発者以外にも分かりやすく話されていて、チームに共有すれば改善の後押しになるかもしれません。Deployment Targetの再考動画：02:34 -2016年5月時点でiOS8以上のユーザーが95%を占めています。セッション中では、アプリのOS対応バージョンを「最新メジャーバージョンの1つ前 &amp; マイナーバージョンが最新のもの」以上（つまり現在ならiOS8.4以上）にすることが推奨されています。iOS8で登場したDynamic Frameworkなど、対応OSバージョンの選定によって単に保守範囲が広がるだけでなく開発方法も変わってくる場合があるので、古いバージョンをサポートする場合もデメリットはきちんと議論して決めていきたいですね。Asset Catalog動画：10:00 -AirシリーズではAsset Catalogを活用していますが、未導入のアプリも少なくないようです。1倍画像だけを入れている場合に、2倍・3倍スケールの端末で画像が荒くなるのは言うまでもありませんが、3倍画像のみを入れている場合もメモリ圧迫してしまいます。今後はAsset Catalog上にベクター（PDF）ファイルを追加していくのが手間が少なくて良いでしょう。依存性注入（Dependency Injection）動画：19:05 -DIを活用しようという内容もありました。これはとても長らく言われてるはずのことなんですが、AppDelegateにいろいろ持たせてAppDelegate経由で呼ぶ処理、未だに見かけますね……。起動時間短縮Optimizing App Startup Time全てはmain()関数の前起動時間が長い時applicationWillFinishLaunchingも疑ってしまいますが、大抵の場合main()関数までの処理が原因である場合が多いようです。400msを目標に動画：22:30 -OSのアプリ起動アニメーションがだいたい400msなので、ア
</div><div class="ui-feed-item__date" title="2016-06-28 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-06-20-android-try-espressotestrecorder/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-06-20-android-try-espressotestrecorder/">Espresso Test Recorderを試してみた</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめまして、2016新卒Androidエンジニア索手です。先日、AndroidStudio 2.2 Preview3にてEspresso Test Recorderの機能が公開されました。早速試してみたので、簡単に紹介します。Espresso Test RecorderとはEspresso Test Recorderは、UIテストコードを自動生成するための機能です。エミュレーターや実機上での操作を記録し、そこからテストコードを自動で生成してくれます。実際に使ってみる前準備2016/6/9時点では、Android Studio 2.2 Preview3が必要です。Android Studio 2.2からJDKのバージョンとして1.8が要求されるので、そこだけ注意が必要です。build.gradleのdependenciesについて、必要な変更はありません。機能の名前からEspressoの依存関係の追加が必要に思えますが、自動でbuild.gradleに記述を追加してくれます。これについては、以降で詳細に触れます。使い方「Run」→ 「Record Espresso Test」 からEspresso Test Recorderを使用できます。「Record Espresso Test」を選択すると、アプリケーションの起動、デバッガーのアタッチが行われ、以下のようなダイアログが表示されます。このとき起動されるアプリケーションは「Run ‘app&#39;」 の「&#39;app&#39;」 にあたるアプリケーションになります。このダイアログが表示された時点で、既に操作の記録は開始しています。この状態で端末（or エミュレーター）を操作すると、以下のように操作が記録されていきます。記録後、「Complete Recording」を押すことでテストコードを生成できます。ボタンを押すとまず、生成するテストクラスの名前を聞いてきます。ここで入力した名前のテストクラスがデフォルトパッケージ以下に作られます。先ほどのgifの操作では、以下のようなコードが生成されました。123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package com.exa
</div><div class="ui-feed-item__date" title="2016-06-20 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-06-07-aws-summit-tokyo/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-06-07-aws-summit-tokyo/">大規模サービスのAWS移行の進め方 - AWS Summit Tokyo 2016 レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。ビューティー開発チームの高丸です。2014年に「クラウドはニューノーマルである」と宣言されてから、大手の企業でも積極的にクラウドファーストのインフラ設計が進められるようになりました。リクルートライフスタイルでも、クラウド実績はどんどん増えており、私が以前担当していたギャザリーは、社内AWS利用事例の先駆けとなっておりました。新規にAWSを導入したり、小規模なサービスでの移行は簡単なのですが、大規模なサービスでの移行の難易度は高く、どうやって移行を進めていくかが悩みとなっておりました。今回は、大規模な移行をどのようなステップで進めていったかを中心にセッションを聴いてきました。10 年オンプレで運用した mixi を AWS に移行した 10 の理由mixi社のセッションで、オンプレからAWSに移行した例がありました。大規模なSNSですが、10年オンプレでやっていると、いろいろ管理が大変になってきたそうです。memcachedサーバの台数の多さも有名で、AWSとオンプレのハイブリッド構成の時に、どのように工夫したかは気になりました。大方針DBはオンプレに残すものの、徐々にAWS側でアプリケーションサーバを移行していき（ハイブリッド化）、アプリエンジニアでも管理できるようなインフラに変えていく方針だったそうです。Direct Connectまず始めは、Direct Connectでした。専用線を用意して、データを確実に移行できるようにする第一歩ですね。Route 53Route 53の重み付けラウンドロビンを利用して、AWS⇔オンプレの振り分け割合を、徐々にAWS側に寄せていく方法でした。いきなりAWSに100%に振るのはリスクがありすぎるのですが、ここでRoute 53が役に立ちます。AWS側にもmemcached (ElastiCache)memcachedサーバをAWS側にも用意し、DCをまたいだ通信をなるべく少なくする工夫などがされていました。ストレージデータ移行S3にインターネット経由でアップロードし直していたので、6ヶ月ほど掛かったそうです……。今なら、Snowballでどーんと移行するのもありだそうです。AWS APPサーバ→専用線→オンプレDBここはしっかりと検証が必要だなと思った部分で、DCをまたいだDBへの通信になりますので、レイテンシを気
</div><div class="ui-feed-item__date" title="2016-06-07 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-22-googleIO_1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-22-googleIO_1/">Google I/O 2016に参加してきました（全体まとめ編）</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。スマートデバイス開発チームの韮澤です。日本時間5/19(木)〜5/21(土)に、年に1度のGoogleのカンファレンス、Google I/O 2016が開催され、私と、同じチームメンバーの段も参加してきました！！本記事の執筆はカンファレンス最終日の夜に行っており、ひとまずカンファレンス全体の雰囲気や参加メンバーが気になったセッション・トピックについて書いていきたいと思います。実際に新しいツールを使ってみた等の記事は後日公開予定です！カンファレンスの雰囲気これまではサンフランシスコでの開催でしたが、今年はマウンテンビューのShoreline Amphitheatreという屋外円形劇場で開催されました。入口ではドロイド君がお出迎え！コンサート等も開催される場所とのことで、周りの広場も含めるととても広大な敷地でした。キーノート会場は巨大な円形ステージ！他のセッションは、広場の中に10個設置してあるドーム型の設備の中で行われました。ストリーム配信される会場は少し大きめ中はこんな感じでした。人気のセッションは長蛇の列ができ、入場できない人も多くいたようです（私もいくつか入れないセッションがありました…）また、各所にGoogleのプロジェクト毎のテントが点在し、そこにいるプロジェクトメンバーと直接コミュニケーションを取れるようになっていました。Android Wearや今回公開されたAndroid Studio2.2、VR、子供向けプログラミング教材など、今回大々的に発表があったものからそうでないものまで、多種多様なプロジェクトがありました。テント内では議論が活発に行われていました。気になったコンテンツさて、ここからは参加者の私と段が気になったコンテンツをご紹介したいと思います。Android Instant Apps今年のAndroid関連の発表の中でもかなり注目すべき発表ではないでしょうか。ユーザーにインストールさせることなくネイティブアプリを使ってもらえるという、これまでの常識を打ち破る機能です。こちら。ネイティブアプリはスマホwebと比較して挙動が滑らかで使いやすい一方、インストールという行為がユーザーにとって障壁となることが多く、開発者としてはもどかしい思いをすることがあります。しかしInstant Appsによって、ユーザーはインストールせずともネイティ
</div><div class="ui-feed-item__date" title="2016-05-22 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-16-saijo-interview-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-16-saijo-interview-2/">「人が好き」は強みになる、人工知能時代に活躍できるエンジニア像とは（後編）</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
囲碁で韓国のイ・セドル九段を打ち負かした「AlphaGo」、日経「星新一賞」の一次審査を通過した「きまぐれ人工知能プロジェクト作家ですのよ」など、話題に事欠かない“人工知能”。その技術は日進月歩で高度化しているように思え、近い将来、ビジネスの現場においては高付加価値の仕事も担ってくれるようになるのでは、との期待感が高まります。前回に引き続き、実用化プロジェクトのディレクターを務める西條晃平さんにお話を聞きました。良いサービスを生み出せる人とそうでない人、何で決まるか—— 前編の最後で、「近い将来、人工知能の技術やソフトウェアがコモディティ化したとしても、使われるサービスとそうでないサービス、使われるサービスを生み出せる人とそうでない人に分かれてくる」とおっしゃっていました。その差を生み出すものは何でしょうか。西條 ひとつは、「どのようなデータをもっているか」です。例えば、書店では同じ大学向けの問題集がいろんな出版社によって売られていますが、それぞれに載っている練習問題は異なります。なぜなら、参照する過去問など各出版社が扱っているデータが異なるからです。—— その他に技術者の差を生み出すものは何かありますか。西條 もうひとつは、「データがもつ意味に気づけるか」です。いくらユーザーに関するデータを大量にもっていたとしても、それをなんとなくコンピュータに入力したとすれば、人工知能からもなんとなくの答えしか返ってきません。コンピュータ自体は、「ユーザーが抱えているこの課題を解決したい」といった欲望をもたないからです。—— ユーザーのニーズをより理解するために、技術者は何ができるでしょうか。西條 何はともあれ、「新しいことを試してみること」です。人工知能でサービスを改良して、その結果、ユーザーの行動を促したり、満足度を高めることができたのかをデータに基づいて確かめる。すると、ユーザーに関する洞察が深まりますし、仮にそのトライが「エラー」だったとしても、そこから次の打ち手が見えてきます。「人が好き」であることは技術者の強みになる—— ユーザーのことを「思いやる」スタンスというものは自分で育むことができるものでしょうか。西條 どうでしょうか。私自身についてひとつだけ言えるのは、他の人に比べて、「人を好きになる能力が高い」ということです。「この人はこういう良いところがある」とか、「
</div><div class="ui-feed-item__date" title="2016-05-15 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-10-regi-ios/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-05-10-regi-ios/">iOS大規模リファクタリング</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。Airシリーズ開発チームでiOSの開発リードを担当している永井です。この度、Airレジから予約台帳機能を切り出して、Airレジとレストランボードの2つのアプリとして新たに5/10にリリースしました。まだまだリファクタリングしていきたい課題はありますが、コード行数は70%も減り（つまり元々の行数から30%になりました）、SonarQubeで示される技術的負債も500dから21dに減り、かなり成功したと言って良いのではないかと思っています。今回の取り組みの中で、良かったこと・再検討したいことがいろいろ発見できました。それらについてまとめてみるので、これからSwift採用を検討している方々の参考になれば幸いです。取り組みのポイント振り返ってみて、やって良かったことや、参考にして頂けそうな内容について述べていきます。Swift化採用のきっかけObjective-Cで開発していたプロジェクトでSwift採用に踏み切るのは簡単でない場合もあるかと思います。ただし、ノーリスクというわけにはいかなかったので、懸念された課題については以下のような前提の下でSwift採用が決まりました。課題前提工数・リスクが予測しにくい継続的なリファクタリング文化を形成することを本プロジェクトの目的におき、SwiftでObjective-C風の書き方を書くことは許容して進める。学習コストコーディング規約や設計指針を整備し、コードレビューなどで最大限サポートしていく。上記前提のため、公開されている様々な規約を参考にさせて頂きながらコーディング規約を作成したりしました。品質基準今回の取り組みは、アプリの分割・Swift化のみならず、生産性を高めるための品質向上も大きな目的の1つでした。Swift採用が決まってすぐに、SonarQube Swift PluginとXcode Serverを使った定期的な品質チェックの仕組みを導入し、以下のような品質基準を定めました。SonarQube項目基準Technical Debt Ratio5%以下Blocker0Critical0Xcode Server項目基準Test Coverage30%以上Analyzer Warning0Warning0本当はもう少しテストカバレッジ上げていきたいところですが、元々がほぼゼロだったのでこれでもかなり改善したのでは
</div><div class="ui-feed-item__date" title="2016-05-10 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-04-14-swift-guideline/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-04-14-swift-guideline/">Swiftコーディング規約とコードスニペット</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。スマートデバイス開発チームの韮澤（にらさわ）です。try! Swiftカンファレンスに参加し、その盛り上がりを肌で感じてきたところです。Objective-CからSwiftへこれまでiOS開発に使われてきたObjective-Cはその特殊な記法から、学習コストが高く開発を始めるための精神的な障壁が若干高めだったかと思います。そんな高まりを見せるSwiftの波に乗っていこう！ということでリクルートライフスタイルのアプリもSwift化していく動きが高まっています。言語移行にあたって必要となるものただ、言語を変更するとなったときには当然コーディングの際に従うべき標準が必要になってきます。そこで我々は、Swiftのコーディング規約とコードスニペットを作成しGitHub上に公開しました！！コーディング規約Swift2.2に対応したコーディング規約を公開しました。Swiftは型宣言やセミコロン、括弧や戻り値のVoidなど、様々なものが省略でき、書き方の自由度が高くなっています。そのため、可読性と統一性向上のために、Swiftを本格的に導入していくこのタイミングで規約を制定することとしました。Swiftのコーディング規約といえばRay WenderlichGitHubSlideShare（LinkedIn）そして国内だと、Wantedlyといった企業が公開されているものが有名かと思います。Swiftはまだまだ発展途上の言語であり、Swift3.0ではまた大幅な変更が入る予定となっています。++や--、CスタイルのforループなどはSwift3.0で廃止される予定であり、本規約にもこれらは使用しないよう制定しています。また、enumのcaseをlower caseにする（SE-006）といった変更も予定されています。発展途上の言語なのでこういった規約の運用はなかなか大変ですが、今後の更なる進化・発展を考えると楽しみで仕方ないですね。コードスニペットSwiftでのコーディングをより快適に行ってもらうため、コードスニペットも公開しています。私はguard let strongSelf = self else { return }と毎回記述するのが面倒だなぁと感じることが少なからずあります。do-catch、deferなどもほぼ定形ですが書くと長くて面倒だと感じたり、シングル
</div><div class="ui-feed-item__date" title="2016-04-14 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-04-13-saijo-interview-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-04-13-saijo-interview-1/">リクルート、人工知能のビジネス実用化の現場で起きていることと次の一手（前編）</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
囲碁で韓国のイ・セドル九段を打ち負かした「AlphaGo」、日経「星新一賞」の一次審査を通過した「きまぐれ人工知能プロジェクト作家ですのよ」など、話題に事欠かない“人工知能”。その技術は日進月歩で高度化しているように思え、近い将来、ビジネスの現場においては高付加価値の仕事も担ってくれるようになるのでは、との期待感が高まります。実用化で分かった人工知能の真髄—— リクルートにおける人工知能技術の実用化の動きについてお聞かせください。西條 はい。リクルートテクノロジーズが開発した人工知能技術を、私が所属するリクルートライフスタイルで各サービスに組み込んで実用化し、すでにいくつかの新しい機能を提供しています。—— 画像解析技術は各サービスのどのような機能に活かされているのでしょうか。西條 例えば、『ホットペッパービューティー』のネイルカタログに「ネイルの写真」をアップロードしたとします。すると、それが「フレンチ」なのか、それとも「グラデーション」なのか、どちらの写真らしいかをコンピュータが判断して、保存しておくのです。これまでは人力でリソースが足りず行き届いていないこともありましたが、ネイルの属性を保存して持っておくことで、写真の中に写っているネイルが、他のネイル画像とどれだけ似ているのかを判別することができるようになります。この機能を用いれば、日々画像をアップロードしていくことで、自動的に似ているネイルがレコメンドされる仕組みが作れるわけです。将来的にはこの機能を『じゃらん』や『ホットペッパーグルメ』など、他のサービスでも活用できるようにしていきたいと考えています。—— 人間と同じようなレベルで画像の良し悪しについて判断を下すというのは、コンピュータに可能なのでしょうか。西條 むしろ、人間より得意と言ってもいいかもしれません。例えば、ある画像を見て、人がそれを「良い」と感じたとします。しかし、「それがなぜ良いと思ったのか」、その理由を説明するのは、実は人にとっては難しいこと。なので、良し悪しの定義や基準はどうしても曖昧なものになってしまいます。「良い」という評価は、とても「感覚」的だからです。画像の次は「文字」解析、ますます向上するビジネスの生産性—— 画像解析技術をもつコンピュータは、どのようにして画像の種類を自動で判断できるようになるのでしょうか。西條 「人の手が介
</div><div class="ui-feed-item__date" title="2016-04-12 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-03-22-ios-guideline/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-03-22-ios-guideline/">iOSアプリ開発者が理解すべきデザインガイドライン</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。Airレジ開発チームでiOSエンジニアをしている山口です。みなさんはiOSは好きでしょうか。私は開発者・ユーザーとして大好きです。統一感のあるデザインや使いやすさなど素晴らしいですね。その背景にはAppleが定めるデザインガイドラインの存在があります。各アプリケーションがデザインガイドラインに沿って開発を行うことで、iOS全体として統一感のある世界観が築かれています。しかしながら、ただガイドライン通りにアプリを作っていくだけでは個性のないアプリになってしまいます。iOSらしさを保ちつつ個性のあるアプリを作るには、開発に関わるメンバーがガイドラインを意識し、コミュニケーションを取りながら開発をしていくことが重要だと思っています。そこで今回は、そのガイドラインの観点からアプリ全体の構成・画面遷移を考える際に知っておくべき内容について書いていこうと思います。iOSデザインガイドライン先ほど述べたようにiOSアプリの特徴として、Appleのデザインガイドラインが厳格に定められており、基本的にはそれに沿った開発が前提となります。iOS Human Interface Guidelinesにその詳細が記されています。これらの全てを把握する必要はないと思いますが、下記の理由から開発に関わる人は共通認識として概要を理解するべきだと考えます。ユーザーのためガイドラインに沿って開発する一番のメリットは、アプリに対するユーザーの学習コストを下げることができる点です。iOSらしいUIを構築することで、ユーザーが日頃使い慣れたUIで期待したとおりの動作を提供することができます。逆にガイドラインにそっていないアプリの場合は、どこか使いづらい・操作がわからないなど感じてしまい、アプリが利用されなくなってしまいます。開発コスト・期間の削減Appleが提供するSDKについてもガイドラインの思想が深く反映されています。ガイドラインからかけ離れたUIを実装するとなった場合は、膨大な開発コストが掛かってしまいます。また、iOSのバージョンアップ時の対応も難しくなってしまい保守性も低下します。では、実際にアプリ開発を始める際の初期ステップとして、アプリ全体の構成・画面遷移などを考えると思いますが、そこで重要となる内容を説明していきます。iOSアプリの画面遷移についてiOSの画面遷移を構成する要素
</div><div class="ui-feed-item__date" title="2016-03-22 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-03-11-planning-poker-app/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-03-11-planning-poker-app/">プランニングポーカーのWebアプリを作った話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リーン開発チームの亀山（ @kametec_jp ）です。最近のブームは、Kotlinです。私が所属する開発チームでは、案件見積もりの際にプランニングポーカーを活用しています。ただ、何度も行っているうちに下記のデメリットが気になるようになってきました。（1）ディレクターから「毎回カードを配ったり回収したりするのが面倒」という意見不を解消するべく要件を考える1つの画面に全員のポイントを表示できるデータを保持する必要がなさそうなのでDB不要、ログもためる必要なしサーバーを立てても良いけど、野良サーバーは増やしたくない他チームのディレクターも簡単に扱えるように、導入＆起動が簡単なのものが良い当初は、iOSやAndroid、Windows Phone、Firefox OSのスタンドアローンアプリを作ろうかと思ったのですが、やりたいことのイメージとしては下記の図のような形です。システム構成を考えるリアルタイムに皆で投票してる感を演出するため、1つのWeb画面に対して操作を行うWebSocket対応必須。（同じネットワーク内で使用する想定なので、難易度は低い）WebSocketをサポート、かつWebシステムの環境構築＆実行が簡単なものGoでWebSocket、Scala＋Skinny、Java＋Dropwizard、いっそKotlin……java -jar hoge.jar で実行できるのは強いです。当初は選択画面と投票結果画面の2画面での構成を予定していたが、1画面でもできそうなのでSPA化選択画面：「名前」と「ポイント」を選択するとリアルタイムに投票結果画面へ通知考え出すときりがないSPAでやるならReactで作ってしまおう！とか、テスト書いてないとかお前それ……とか思うことは色々あるのですが、業務の空き時間に作成するものに対して、そこまで時間を掛けたくなかったので、テストは書かずに作成してました。mvn package -DskipTests=true完成に向けてあれこれ考えても物ができなければ始まらない！ということで、プロトタイプ版を2、3日で作成。投票結果画面投票画面（スマホ）おわりに実際に運用してる感想としては、プランニングポーカーの際の効率が2割増しくらいになった気がします。チーム内で使用しているバージョンでは、画像にチームメンバーの写真を使うなどワイワイやってい
</div><div class="ui-feed-item__date" title="2016-03-10 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-29-kanna-interview-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-29-kanna-interview-2/">「外から見たらリクルートがIT化しきれない理由が見えてきた」UXディレクター鐵穴博満氏が見たシアトルのいま</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートライフスタイルの特長のひとつとして、エンジニアの海外研修制度を設けていることが挙げられます。前編「AmazonとMicrosoft出身の優秀な人材が集まっている」ではシアトルとシリコンバレーを比較しながら米国でのテクノロジー事情を伺いましたが、後編ではそこから導き出したリクルートライフスタイルの課題を聞きました。聞き手／構成：山田井ユウキ 編集／写真：小川楓太（NEWPEACE Inc.）MicrosoftとBrainbox Consulting。対象的なふたつの企業訪問で感じたこと—— 次に訪問したのはMicrosoftですか？鐵穴 はい、4日目はMicrosoftを訪問しました。Microsoftが提供している「Microsoft Azure」というクラウドプラットフォームについて話を聞いたのですが、これが期待以上に面白かったです。—— 「Microsoft Azure」とはどんなサービスなのですか？鐵穴 データをもとにクライアントのビジネス課題を解決する方法を提供するというサービスですね。そのためにはデータを分析する必要があるわけですが、Microsoftはこの分析を4段階に分けて考えるのです。—— なるほど。おもしろいですね。Microsoftのオフィス鐵穴 Microsoftの次に訪問したのは、クラウドとコンサルティングを一緒にしたようなビジネスを行っている会社です。データを見える化した経営コンサルなんです。ユニークなのは、彼らがもともとニューヨークにいたことです。—— なぜニューヨークからシアトルに？鐵穴 東海岸は金融など若干オールドタイプなビジネスが中心なんですね。西海岸の方が先進的な感じがするので移ってきたそうですが、そこでシリコンバレーを選ばずにシアトルに拠点をおいた理由は前に言った通り、家賃と人材の問題です。—— まさに昨今の風潮を体現しているベンチャーなのですね。鐵穴 そこで聞いた話ですが、以前は各企業が自社サーバを持つことが多く、自分たちでメンテしたり保守したりしていたわけです。クラウドを使おうとすれば、社内を説得するのも大変でした。今は逆に自社サーバにしようとする方が大変なんだそうです。弊社は自社サーバを使っている部分もあるのですが、もしかすると今後は日本でもそういう流れになり、変わっていくかもしれませんね。—— コスト面などを考
</div><div class="ui-feed-item__date" title="2016-02-28 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-24-kanna-interview-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-24-kanna-interview-1/">「AmazonとMicrosoft出身の優秀な人材が集まっている」UXディレクター鐵穴博満氏が見たシアトルのいま</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートライフスタイルの特長のひとつとして、海外研修制度を設けていることが挙げられます。シリコンバレーではなく、シアトルを訪れた理由—— まずは鐵穴さんの普段のお仕事について教えていただけますか？鐵穴 10月に人事異動があり、現在はUXデザイングループでUXディレクターをしています。それ以前はリーン開発チームにいました。—— リーン開発チームとはなんですか？鐵穴 カスタマーが使う画面のUI改善を行う専門部隊です。グループとしては昨年の下期に発足した新しいチームですね。—— 具体的にはどういった仕事を？鐵穴 UI改善のスピードを上げることを目的としています。今までリクルートは月に1回のペースで新しい機能をリリースしてきました。—— なるほど。リーン開発チームにいた鐵穴さんがシアトル研修へ行くことになったきっかけは何だったのでしょう。鐵穴 リクルートライフスタイルには表彰制度があり、私は昨年の年間VP賞をいただくことができました。表彰された社員は、海外研修へ行くことができます。—— ITの本場というとシリコンバレーのイメージがありますが、なぜシアトルだったのでしょう。鐵穴 たしかに米国のITの中心というと、シリコンバレーが真っ先に思い浮かびますが、今リクルートではヘルスケア領域にも力を入れようとしていて、シアトルはその領域が進んでいるということもあります。さらに、実はいま、米国ではITの中心地がシリコンバレーからシアトルに移行しつつあるという話があるのです。—— えっ、それは意外です。詳しく聞かせてください。鐵穴 まず、シリコンバレーは家賃が非常に高額です。安アパートでも月額30万円くらいしますし、40〜50万円も当たり前です。スタートアップは特にお金がない企業も多いですから、生活費が高騰してしまうと大変ですよね。—— シアトルに人材が集まるのはなぜですか？鐵穴 シアトルにはAmazonとMicrosoftの本社があり、何万人という人が働いています。この2社出身の人材が、シアトルのベンチャーで活躍しているというわけです。—— シリコンバレーもシアトルも豊富に人材を抱えているなら、家賃が安く暮らしやすいシアトルの人気が高まるのも納得ですね。シアトルはどんな町でしたか？鐵穴 シアトルは西海岸の北方に位置する都市です。私は米国自体が初めてだったので、他の町と比べることはでき
</div><div class="ui-feed-item__date" title="2016-02-23 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-19-swiftparty201601/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-19-swiftparty201601/">社内で開催されたSwiftハッカソンに参加しました</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめまして。現在Airシリーズ開発チームでiOSアプリエンジニアをしている浅野です。みなさん、バリバリSwift書いてますか？既に過去記事でSwiftについては触れられていますが、私が現在担当しているアプリでもSwiftで開発を行っています。2014年にリリースされてから、新バージョンのSwift2、そして昨年末のオープンソース化と話題には事欠かないSwift。社内でも、新規アプリにはもちろんSwiftが採用されていますし、既存アプリでもObjective-CからSwiftに書き換える例も出てきています。しかしそんな状況とはいえ、既存アプリのほとんどはObjective-Cのまま保守されているというのが実際のところ。また、Swiftを書いていても、普段はなかなか他のチームと知見共有ができていない、という課題もありました。そんな中、「社内でSwiftハッカソンが開催される」という情報が。今回のハッカソン概要テーマ社内で利用している GitHub Enterprise（以降GHE）のAPIを用いたアプリ（or サービス）の開発スケジュール13:00 集合・ガイダンス※休憩などは各自適宜参加人数16人その他制約なし！社内のイベントということもあり、だいぶゆるい感じですね。それでは実際の様子を写真交えながらどうぞ。集合〜ガイダンス開始前の様子。冒頭の主催者からのガイダンス。ここでテーマなどの詳細について説明がありました。開発ガイダンスが終わったら、さっそく開発の時間です！5時間弱と限られた時間の中でアプリを作らなくてはいけないため、みなさん1分1秒の時間を惜しんで開発に取り掛かっていました。真剣な眼差しでPCと向き合う参加者（自分）貴重なお菓子の補充シーン。中には、自宅からAppleTVを持ち込んで（！）開発をする参加者も。また、当日はHipChat（社内で使っているチャットツール）で専用のルームが作られ、発表開発の時間はあっという間に過ぎ去り、各自作ったものの発表をする時間に。開発時間も短いですが、発表時間も短いので要点を絞っての説明が要求されます。写真にはあまり写っていなかったのですが、夕食代わりにピザが届いていたので、みんなそれを食べながら発表を聞いていました。単純に作ったものの内容だけではなく、コードの中身にも触れている人が多かったのが特徴でした。AppleWat
</div><div class="ui-feed-item__date" title="2016-02-19 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-01-atlassian-user-group-report/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2016-02-01-atlassian-user-group-report/">モダンな開発をするための取り組み</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
CETプロジェクトで開発を担当している明智です。今回は、社内向けに開催したAtlassianユーザ会をレポートいたします。リクルートライフスタイルでは、Atlassianの製品を本格導入して１年が経ちました。そこで、モダンな開発について触れるために、Atlassianエバンジェリストの長沢さんをお招きし登壇していただきました。今の時代に必要な開発環境とこれから 〜継続的デリバリー、DevOps〜JIRAとAWS、Tableauを利用しデータドリブンにプロダクトや運用改善につなげるナレッジを共有する文化を作るためにさて、前置きはこれぐらいにして、イベントの中身を見ていきましょう。最初の登壇者は、Atlassianエバンジェリストの長沢さんです。今の時代に必要な開発環境とこれから 〜継続的デリバリー、DevOps〜世の中のムーブメントであるDevOpsの話から始まりました。「ビジネス・開発・運用はそれぞれサイクルが合わないので、どうしてもITがビジネス目標を阻害してしまっている。」そのため、ビジネスサイクルにあうようにデプロイできることが年々求められるようになってきました。では、これを実現する開発環境には、何が求められているのでしょうか？価値の流れ（作業間の移行が負担なく効率的に）透明性（共同所有）自律と改善（ユーザの思考を捉え切磋琢磨）そして、これらを満たすためには“情報Hub”が必要だと言います。最後は、最近アップデートされたHipChatの話です。 ここからは、弊社の社員２名によるライトニングトーク。１人目は、リーン開発チームの大岩です。JIRAとAWS、Tableauを利用しデータドリブンにプロダクトや運営改善につなげる「そもそもリーン開発チームとは？」という質問から始まりました。 JIRA、Confluenceを用いて業務を行っているが、案件が多いために分析や可視化については不足感が出てきたと言います。WBSガントチャートにはデータ件数の制約があり、案件ごとの依存関係が見えづらい期間集計などガジェットの限界ダッシュボードの限界そこで、社内で利用しやすくなっているAWSと集計・可視化に強いTableauを用いて、この不足感を補うようにしました。「JIRAの情報を定期的にデータマートに格納し、その情報をTableauで見るというシンプルな構成。これにより、状況把握
</div><div class="ui-feed-item__date" title="2016-01-31 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-24-engineer-manager/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-24-engineer-manager/">エンジニアマネジャーという仕事について</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、ディベロップメントデザインユニットアーキテクト2Gのグループマネジャーをしております小川です。リクルートライフスタイルでは昨年度あたりからエンジニア採用に特に注力してきております。まだまだエンジニアがいる会社というイメージがないと思いますが、こういうことやってますということをお伝えしたいのと、エンジニアマネジャーとしてのひとつの事例として共有させていただきます。自己紹介受託開発会社でエンジニアとして従事した後、2012年にリクルート（分社後のリクルートライフスタイル）に中途入社しました。前職では医療系と業務系のシステム構築が主で、技術的にはフロント、バックエンド、インフラと一通り経験してきました。リクルートに入社後は、ポンパレモール、じゃらんゴルフ、ギャザリー、その他新規事業立上げなどをエンジニアとしておこなってきました。昨年度までは新規事業企画開発の部署に所属していましたが、2015年4月にアーキテクト2Gというグループのマネジャーに任用されました。このグループは新規開発とスマートフォンアプリ開発をミッションとしている部署となります。リクルートライフスタイルでは常に新規事業開発をおこなっているので、エンジニア数も事業数もそれなりの規模になっています。マネジャーの仕事マネジャーの仕事をひとことで言うと、『人/事業/組織の成長を結びつける』ことだと思っていて、そのためには『やりがいのある仕事をつくること』がなにより大切だと捉えています。人、事業、組織にそれぞれ寄り添いながら情報を引き出して何がうまくマッチするかを見極めにいくという作業はなかなか骨が折れます。（が、とてもやりがいがあります）冒頭に昨年度あたりからエンジニア採用に注力していると書きましたが、組織側の受け入れ体制や、どういう仕事をやってもらうのがよいかということを考えながら実施していくということが多かったです。最初からうまくいくことの方が珍しいので、小さな失敗をしても方向性を常に修正できるようにココロも体制も準備して進めることでそこまで大きな失敗とかはなかったと思っています。また、それぞれに寄り添いながらと書きましたが以下のようなことを意識しています。人：各人のやりたいことをしっかりと聞き出す得意な分野だけでなく苦手な分野も含めて共有する3年後くらいを目安にどういう人材になるかというところを描い
</div><div class="ui-feed-item__date" title="2015-12-23 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-22-dockertestdb/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-22-dockertestdb/">DockerでローカルにDBを立ててテストをもっと快適に!</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、Airシリーズ海外開発チーム 15新卒フロントエンドエンジニアの蔀です。Airシリーズ海外開発チームでは、DockerでアプリケーションやDBのコンテナを立て、継続的インテグレーションに役立てています。チーム内では自動テストが文化として定着しつつある一方で、共有しているMac mini上のDBコンテナに負荷が集中して、テスト実行時間が長くなっていました。背景チームの環境バックエンドのエンジニアは4名DBはOracle3名がMacで、1名がWindowsチーム内で1台のMac miniを共有し、その上にDockerコンテナを立ててCIをしているチームの課題開発が進み、自動テストをする人が増えた時に、チームメンバーから次のような声がありました。「なんかテスト失敗すると思ったら、他の人とテスト実行被ってDBの中身変わってるじゃん……」「Mac miniが他の作業してるからDBコンテナが重い……」「そっかDDLがもう変更されてるんだ……知らなかった……」このままではCIが捗らない！俺たちは爆速で開発がしたい！やったこと各DDLのバージョン毎のDBイメージを、共有Mac miniに置いたRegistoryを使ってチーム内に向けて共有した各エンジニアがRegistoryからもってきたDBイメージを起動するだけで、共有のMac mini上ではなく、各自のローカルにDBコンテナを立てることができるようにしたDocker Registryって何？簡単に言うと、無料のプライベートなDocker Hubです。Docker Registry公式ドキュメント通常のDocker Hubだと、イメージを世間に公開することになり、外部に公開したくないイメージの管理には不向きです。Docker Trusted Registryという、社内ネットワーク上あるいはVPC上にDocker Hubを構築してくれる有料サービスもあるのですが、チームのみで使うということもあり、今回は無料で使えるDocker Registryを選択しました。対象環境Mac OSX 10.10.5以上Docker Toolbox 1.9.1以上構成今回の構成は、以下のようになっています。Docker RegistryのサーバとしてMac miniを使用しています。ローカルマシンでテストDBのイメージを作成したら、Mac
</div><div class="ui-feed-item__date" title="2015-12-22 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-16-maeda-interview-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-16-maeda-interview-2/">「ミートアップの雰囲気がまったく違うことに驚いた」エンジニア・前田周輝氏が海外研修で得たものとは</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートライフスタイルのエンジニアには、年に何度か海外研修に参加するチャンスがあります。ボストン「eMetrics Summit」で学んだA/Bテストの本質—— 1回目はサンフランシスコ、2回目はシアトルでの海外研修を経験されたわけですが、3回目はどちらに？前田 3回目はボストンです。上司にお願いして許可が出たので行くことができました。—— IT企業が多い場所というと西海岸のイメージがありますが。前田 たしかにITといえばシリコンバレーをはじめとする西海岸の印象が強いのですが、実はボストンにもITベンチャーはたくさんあります。「Route 128」と呼ばれたエリアがあって80年代ぐらいまではスタートアップの聖地だったようです。今はシリコンバレーに大きく水をあけられていますが、ここ最近勢いを取り戻してきているようです。周囲からも「サンフランシスコはアメリカでも特殊だ」と聞かされていましたし、少し違う視点を求めてボストンを選びました。—— ボストンではどんな研修を？前田 ビジネス寄りの話を聞くために、DAAというデジタルアナリティクスの業界団体が主催する「eMetrics Summit」というイベントに参加しました。—— どんなカンファレンスですか？前田 アクセス解析やマーケティングオートメーションツールなどをどんなふうにマネジメントしていくかという内容です。参加者も年齢層が高めで、私より年上の人もいましたね。—— 前田さんはどんな立場で参加されたのですか？前田 私はピュアエンジニアではなく、新しい技術をどう組み合わせてビジネスに生かしていくかを考え、仕掛ける仕事をしています。ですから、カンファレンスにもデジタルマーケターという立場で参加しました。—— 具体的にはどんな学びがありましたか？前田 たとえばA/Bテストの話は印象的でしたね。—— それはなんでしょうか？前田 テスト本数や勝率だけを追い求めるA/Bテストチームは段々と疲弊してくる、という問題です。—— 米国ではすでにその問題が出てきている？前田 そうです。そして既に克服している企業もあります。セッションでは「いつまでもボタンの色のテストばかりやってられない」と語られていました。—— その問題を米国の事例ではどのように解消したのですか？前田 カンファレンスでは、これまで様々な企業でA/Bテストを担当してきたとい
</div><div class="ui-feed-item__date" title="2015-12-15 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-07-maeda-interview-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-07-maeda-interview-1/">「機能がなければ作ればいいじゃない」エンジニア・前田周輝氏が感じたグローバルとの差</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートライフスタイルではたくさんのエンジニアが働いています。シリコンバレーの大企業とベンチャー—— 前田さんは昨年、海外研修を3回経験されたそうですね。どのような経緯で行くことになったのかを教えていただけますか。前田 一度目は、社内で表彰されたことで行けることになりました。リクルートライフスタイルでは業務内容に応じて社員が表彰される制度があり、私は昨年、VP賞を獲得できたのです。—— 米国のどの都市に行かれたんですか？前田 まずはサンディエゴです。そこでデジタルマーケティングのエージェンシーを訪問し、米国のコンサルティング事例について5時間ほどみっちり話をしました。それからサンフランシスコとシリコンバレーに移動して、リクルートライフスタイルと同じようなユーザー企業を訪問したのです。シリコンバレーはご存知の通り、有力なスタートアップ企業がたくさんあります。そこでスタートアップの雰囲気に触れるのが一番の目的でした。—— 訪れた企業は？前田 我々とよく似たオンライン予約サービスのA社と決済系で急成長しているB社です。そこで働くスタッフとランチを一緒に食べて、いろいろな話をしてきました。それぞれ雰囲気がまったく違う企業で、非常にいい刺激を受けることができました。—— 開発はラフな格好だけど、マネージャー職になるとスーツになると。前田 開発とマネジメントが分かれているのは、ビジネスやマーケットの成熟度が関係しているように思います。成長する過程で組織改編や人材の入れ替わりなども経験し今の形になったんだと思います。—— A社とリクルートライフスタイルのサービスは、よく似ていますよね。どんなお話をされたんですか？前田 業務内容のことをギリギリまで踏み込んで質問しましたね。たとえばメールマーケティングはユーザーに敬遠される場合も多いので、ユーザ体験を損なわないよう注意しているそうです。どんな内容で、どんな頻度で、どうA/Bテストをして……とがんばって聞くのですが、当然ながら個別の手法までは聞くことができませんでした。通訳を通すと相手も冷静になってしまうので、勢いで聞くことができないんですよね（笑）。—— データサイエンスやビッグデータ活用などは、日本でもトレンドですが、米国ではすでにそのもうひとつ先を行っている感じがしますね。一方の決済系B社はいかがでしたか？前田 先ほどのA社と
</div><div class="ui-feed-item__date" title="2015-12-07 02:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-07-oreilly-books/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-07-oreilly-books/">ぼくらのオフィスにオライリー・ジャパンの本がやってきた！</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。スマートデバイス開発チームでアプリ作りに携わっている豊島です。今回は私のひょんな一言がきっかけで起きた取り組みをご紹介します。オフィスにやってきたのです！きっかけ夏のある日のこと、SNSを見ていたらこんな記事を見つけました。オライリー・ジャパンの書籍380冊、全部買ったスムーズな決裁あまりの羨ましさに勢いで「これいいですねー」と部署内のチャットに書き込んだところ、小川さんからすぐに反応をいただきました。「やろう！」ここまで1日で終わり、翌日には購買手続きに入るという驚きの早さでついにきた！そこから首を長くして待ち、ついに先日、本がやってきました！本棚が設置されたのはオフィスのフリースペースです。会議をする人や気分転換をする人、作業に集中したい人がよく利用しています。HTML/CSSをかじり始めた中学生時代、オライリーさんの本はその内容量の多さと価格に気持ちを抑えられず、本棚の整理を始めてしまいました。効果のきざし本棚の前にしばらく陣取っていると、エンジニアだけでなくデザイナーやテスター、ディレクターなど色々な人たちが足を止めて本をとる姿が見られたり、チャット上でこんなやりとりが見られたりこの本棚から、勉強会など新しい知識の共有の機会が始まるのではないかと想像が広がります。まとめ（宣伝）ということで、今回はひょんな一言がきっかけでオライリー・ジャパンの本がやってきた話を興味ある方は、ぜひ採用ページへどうぞ！</div><div class="ui-feed-item__date" title="2015-12-07 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-02-go-api-gateway/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a 
class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-12-02-go-api-gateway/">GoでJWT認証するAPI Gatewayを作成する</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。新規サービス基盤チームで、ギャザリーの開発を担当している高丸です。ギャザリーで、リクルートライフスタイルのサービス内部でまとめ記事を連携するプロジェクトがあり、既存のAPIを利用すればすぐ行けるじゃん！と思ったのですが、度重なる機能改修でギャザリー内部向けのつくりになっていました。元々、Amazon API Gateway がそういった役割をしてくれると期待していたのですが、AWS Lambdaと連携することで、EC2レスのアーキテクチャが構築できるようになったことは素晴らしいと思います。）ギャザリーは、メインでRubyとJavaを使用しているのですが、ミドルウェアにふさわしい言語は何がいいだろうと考えたとき、Goに至りました。Goを本番環境で利用するのは初めてだったので、その開発過程をご紹介したいと思います。ライブラリ探しプログラミング言語が成長期である時代に、良いライブラリを探すのは、掘り出し物を探すようで、とても楽しく感じます。もちろん、バグもセットで付いてきます……。これ以上話すと、プログラマー論になってしまうので、本題に戻ります。これからGoを始める人は、まず、Awesome Goを見て、お気に入りのライブラリを探しましょう。こう見ると、だいぶ揃っているなぁという印象です。私は、次のものを選びました。Ginまずは、Webフレームワーク。Revelのようなフルスタックのものもありましたが、私は軽めフレームワークが好きなので、最初はMartiniを選びました。TestifyGoのデフォルトパッケージにはTest Assertionがないので入れました。RSpecほど、くどくない書き方が良かったので、これを選びました。tomlYAMLより、TOMLの方がアツい！という記事をどこかで見たので、流行に乗っかって使ってみました。Logrus一番カスタマイズができそうなロガーだったので、これを選びました。jwt-go今回のメイン機能となるJWT認証のためのライブラリです。他にもまだありますが、このような組み合わせで開発をしました。JWT認証JWTは、JSON Web Tokensの略で、今までOAuth2で送っていたアクセストークンをJSONで置き換えるやり方です。有効期限や発行者などの情報をJSONに含め、そのJSONと改ざん防止の署名をBase64でエン
</div><div class="ui-feed-item__date" title="2015-12-02 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-11-27-yoshida-interview-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-11-27-yoshida-interview-2/">「AWSからGCPに切り替えたらコストが1/10になった」CETエンジニア 吉田啓二氏インタビュー</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
前編（「ビッグデータは“リアルタイム”でこそ価値がある」）では、リアルタイムなビッグデータ解析プロジェクト「CET（Capture EveryThing）」が始まったきっかけから、いまのチームまで組織に焦点を当てました。AWSで本格的に運用するのは厳しいかなという印象です—— 今回構築された基盤の具体的なシステム構成はどのようになっているのでしょうか？現在のシステム構成図吉田 AWS（Amazon Web Service）を使い倒すっていうスタンスです。一部、GoogleのGCP（Google Cloud Platform）も使っていますが。—— BigQueryとElasticsearchの使い分けはどのようにしているのですか？吉田 データの鮮度ですね。—— Elasticsearchは直近3日分だけなんですね。吉田 はい。Elasticsearchはマシンパワーが必要です。サーバ台数を増やせばそれだけ大量のデータを分析できるのですが、コストの関係でいまは直近3日分だけ入れています。—— AWSインスタンスはなにをどれくらい使っているのでしょうか？吉田 Elasticsearchのサーバは、m2.2xlargeが4台です。m2.2xlargeは、メモリを34.2GiB積んでいて、比較的大きいサーバです。—— 思っていたより少ない印象ですが、これだけでも結構コストがかかりそうですね。吉田 確かにElasticsearchに全体の1/3ぐらいの予算が吸い込まれています……。ですが最近、もっとコストパフォーマンスが悪い部分が露呈しました。既存のシステム構成を簡略化した図（リクルートライフスタイル全サービス横断のリアルタイムログ収集・可視化・分析基盤より）GCPにすべて移行した場合のシステム構成を簡略化した図GCPでAmazon DynamoDBに対応するCloud Bigtableというサービスがあるのですが、そちらだと、同じぐらいの性能でコストが1/10ほどになることがわかりました。そちらに移行することを現在検証しています。Cloud Pub/Subは今年の3月にBeta版が公開されて8月に正式版になったサービスで、Cloud DataprocはBeta版が9月に公開されたばかりです。先ほどのCloud Bigtableは今年の5月にBeta版が公開されたので、全部今
</div><div class="ui-feed-item__date" title="2015-11-26 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-11-02-yoshida-interview-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-11-02-yoshida-interview-1/">「ビッグデータは“リアルタイム”でこそ価値がある」CETエンジニア 吉田啓二氏インタビュー</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
2010年に英エコノミスト誌が取り上げてから、「Web 2.0」や「クラウド」に並ぶバズワードとして注目されたビッグデータ。それから5年が過ぎ、多くの企業が本格的に活用しようと試行錯誤しているように感じます。ブームは関係ない、身近な事例を見て取り組み始めた—— まず、吉田さんが現在関わっていらっしゃるプロジェクトについてお聞きしたいです。吉田 いま、Capture EveryThingの略語で「CET」という名前のプロジェクトをやっています。リクルートライフスタイルの全サービス横断で、共通的にログを収集して分析するような基盤を作ることが目的で、2015年6月頃からプロジェクトが立ち上がって活動しています。—— そもそもこのプロジェクトが始まったのはどういった経緯だったのでしょうか？ 正直2015年からビッグデータに取り組むというのは、遅いのかなとも思うのですが。吉田 いえ、もともとビッグデータ基盤は作られていて、HadoopとかNetezzaとかを構えて、色々な事業データを取って、それをデータサイエンティストが分析できる環境はありました。ただ、この取り組みは結構レイテンシがあってリアルタイム性が乏しかったんです。『Airレジ』ユーザーの操作はコールセンターでリアルタイムに同じ画面を見ながら対応—— リアルタイムになることでどういったメリットがあるのでしょうか。吉田 サービス的にどう活かすは、まさに今考えているところなんです。例えば『じゃらん』では、「今13人がこのページを見ています」や「この宿は2時間前に予約されました」といったような情報を出して購入意欲を掻き立てることができます。これから実装しようとしているのが、宿の空室予測や売れ行きの情報から、あとどれくらいでこの宿が売り切れそうかといったような予測をするシステムなのですが、そこでもリアルタイムデータが重要になってくるでしょう。—— すごいですね！ カスタマーサポートに電話したときにも今の状況をいちいち説明しなくていい訳ですね。吉田 そうです。リアルタイムで電話しているユーザーが今どういった操作をしているのかというところを見ながら適切に案内したり、ログイン状況に応じて適切なアプローチをとったりしています。サービスのデータベースに負荷をかけないデータ収集が課題—— 『じゃらん』などの大手サービスは昔からあるものが多
</div><div class="ui-feed-item__date" title="2015-11-01 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-29-taskautomation-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-29-taskautomation-1/">定常タスクを自動化したお話 JIRAにサブタスクを作成</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
定常タスクを自動化したお話 Atlassian-JIRAのサブタスクの作成ホットペッパービューティーで開発を担当している藤本です。ホットペッパービューティーで実施するABテストは、1案件に対して1課題を作成しています。イメージはこんな感じです。これまではこのサブタスクを毎回人力で作成して（もらって）いたのですが……。目指したこと今回はこの3点が実現できるようにしました。JIRAに新しい課題が作成されたら、自動でサブタスクが追加されるようにしたい作成するサブタスクの名称は、親課題から継承したい作成されたサブタスクの報告者と担当者も一緒に設定したい用意したものJIRA（この文章を書いている時の社内は、6.4.11を使用）JIRA REST APIのドキュメント（最新版）HipChatどうやった？もともとHipChat上に常駐させていたHubotに、機能を追加しました。1) JIRAに新しい課題が作成されたらHipChatに通知されるように設定 2) HubotでHipChatのメッセージを拾って、APIでJIRAにアクセスする拾う条件は、こんな感じにしています。JIRAユーザーの投稿であること正規表現で&quot;HPB-[0-9]+“の形式を含むことReported byの文言を含むこと3) Hubotで該当するメッセージを拾ったら、課題IDをもとにGETで情報を取得（参考：API）1234curl -X GET &#92; -H &quot;Content-Type: application/json&quot; &#92; -H &quot;&#39;Basic &#39; + base64encode(&#39;JIRAアカウントのメールアドレス:JIRAアカウントのパスワード&#39;)&quot; &#92; https://jira.example.com/rest/api/2/issue/HPB-XXXX取得例：1234567891011121314151617181920212223{ &quot;expand&quot;: &quot;renderedFields,names,schema,transitions,operations,editmeta,changelog&quot;, &quot;id&quot;: &quot;XXXXXX&quot;, &quot;self&quot;: &quot;https://jira.example.com/rest/api/2/issue/XXXXXX&quot;, &quot;key&quot;: &quot;HPB-XXXX&quot;, &quot;fields&quot;:
</div><div class="ui-feed-item__date" title="2015-10-29 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-06-dev-camp-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-06-dev-camp-1/">ディベロップメントデザインユニット エンジニア合宿レポート</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
人事部 IT人事グループの木村です。当ユニットは、リクルートライフスタイルの運営しているプロダクトの設計・開発全般を担っている組織で、主にじゃらんnet、ホットペッパー グルメ、ホットペッパービューティー、AirレジなどのWebサイト／スマートフォンアプリのUXデザイン、及び企画ディレクション、エンジニアリングを担当しています。今回、私たち人事部 IT人事グループは、運営事務局として参加してきました。“開発合宿ではない”ワケエンジニア合宿と言うと、「ハッカソン」「開発合宿」……をイメージしますが、そうです。今回の合宿は、エンジニア合宿と言っても、組織の横のつながりを強めること。前期より、エンジニアを中心とした中途採用を積極的に進めたことにより、グループ、ユニットを越えた人と人のつながり技術的知見のたて・よこ・ななめの共有を強化していくことの重要性が増してきました。「コミュニケーションにウェイトを置いた研修形式で、そんな想いから、社員それぞれの組織に対する期待感や課題を吐き出し、「RLSの開発組織をどうしていきたいか？」会場はココ！会場はこちら。ジムやスポーツ施設、BBQ会場も設備されて、素晴らしい会場でした！フォレスト・イン昭和館1日目 ～議論白熱！！DDユニットの良いところ、悪いところ～お昼を食べて、会場に集合。研修は14:00から開始しました。研修1日目のテーマは、DDユニットで働いていて良かったと思うことは？DDユニットが抱えている問題は？イケてない部分は？グループを越えてランダムに作られたチームで議論を進めます。それぞれの想いや組織の課題に対して、研修の最後には、DDユニット長の東（あずま）が、今と1年後の未来」について、参加者全員にメッセージを送りました。合宿の本命 BBQ！！大真面目な研修のあとですが……実はこっちが本命！！（笑）BBQの中盤では、新卒のみなさんが企画してくださったコンテンツでさらに盛り上がりました！合宿後のアンケートの中でもこのBBQへの感想が一番多く、今まで関わったことのなかったメンバーとの交流の場は、今回の合宿の中でも最も重要な機会の1つとなりました。2日目 ～合宿総まとめ～研修2日目。いつもの出勤時間よりも早い集合時間……。「DDユニットをもっといい組織にするためには？」おわりに2015年4月の時点では、わずか十数人だったエンジニ
</div><div class="ui-feed-item__date" title="2015-10-06 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-05-engineer-portal-site-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-05-engineer-portal-site-2/">WordPressを卒業しよう。GitHubとMiddlemanで作るTech Blog《エンジニアサイト誕生の裏側 後編》</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
「Recruit Lifestyle Engineer」サイト（以下、エンジニアポータルサイト）の企画から実装までの裏側をお届けするこのシリーズ。後編は、Middlemanによる実装で、具体的にどのような工夫がなされているかについてお届けします。前編：Tech Blogをポータルサイトに発展させるには《エンジニアサイト誕生の裏側 前編》Middlemanを使ったTech Blog構築MiddlemanはRuby製の静的サイトジェネレータです。Rubyをベースに創られているため、Ruby同様のロジックを使うことができ、変数なども設定できるため、より効率的に静的サイトを構築することができます。Middlemanと、Middlemanでブログを構築できるようにする公式のプラグイン「middleman-blog」を使ったこのWebサイトが、理想のTech Blogとなるように施されている工夫を、実際の作り方と共に説明していきたいと思います！一般的なMiddleman Blogの作り方は、Middleman公式のドキュメントのほか、以下のサイトなどが参考になります。Middleman を使ってブログを作る (心折られずに)WordPress から Middleman に移行しましたMiddlemanでブログをはじめるときのTips全体の構造今回のTech Blogは、以下の様なファイル構成で構築しています。※�ブログ機能以外のファイルは省略して掲載していますProject Directory1234567891011121314151617181920212223242526272829/techblog/+-- config.rb+-- data +-- author_list.yml +-- site.yml+-- source +-- index.html.erb +-- layouts +-- blog +-- header.erb +-- footer.erb +-- footer-techblog.erb +-- footer-archive.erb +-- layout.erb +-- sidebar-techblog.erb +-- sns-buttons.erb +-- common +-- header.erb +-- footer.erb +-- tec
</div><div class="ui-feed-item__date" title="2015-10-04 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-02-spring-3mins/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-10-02-spring-3mins/">Spring 3分クッキング</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
初めましての投稿になります！ Spring だいすきな 菊池 (Yoichi-KIKUCHI/yo1000) です！Spring と聞くと、昔のイメージで重厚長大な設定ファイルをイメージしたりする方もいるかと思いますが、最近の Spring はそうではありません。昨年末ごろから Spring Boot が話題を集めており、これまで Spring に触れてきていた方も、そうでない方にも、たいへん好評なようです。今回はそんな Spring Boot を使用した、3分クッキングをやってみようと思います。執筆環境Oracle JDK 1.8.0_45Maven 3.3.3実践早速試してみます。今回は、リクエストに応じた JSON レスポンスを返却する、非常にシンプルな REST エンドポイントを作成してみたいと思います。プロジェクトのセットアップはじめにプロジェクトの雛形を入手します。Spring Boot で初期構成の作成はかなり簡単になりましたが、それでも雛形があるなら使ったほうがもっとラク、ということで。Spring Initializr へアクセスし、エンドポイントの作成ダウンロードしたプロジェクトを展開して、 好きなエディタで以下のように編集します。1$ vi demo/src/main/java/demo/DemoApplication.java123456789101112131415161718192021222324252627282930package demo;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestC
</div><div class="ui-feed-item__date" title="2015-10-02 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-17-unix-philosophy/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-17-unix-philosophy/">新卒だからこそ古典から設計を学ぶ</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、テスト自動化チーム新卒の中村（@m_nakamura145）です。今回は、ソフトウェア設計について悩んでいたときに、本を読んで参考になった考え方を紹介します。問題いきなりですが、今回は例として、野球のストライク、ボール、アウトの個数（スコアカウント）を計算するプログラムを書いてみます。BとS という文字が任意の個数（BBSSSBSBSSSのような文字列）で入力され、スコアカウントのHashを返すプログラムです。この問題に対して、私は最初にこんなRubyコードを書きました。1234567891011121314151617181920212223242526272829303132333435class BaseBall def initialize(game_status) @game_status = game_status.chars.to_a @count = { strike: 0, ball: 0, out: 0 } end def calculate_score until @game_status.empty? ball = @game_status.shift if ball == &quot;B&quot; @count[:ball] += 1 elsif ball == &quot;S&quot; @count[:strike] += 1 end if @count[:ball] == 4 @count[:strike] = 0 @count[:ball] = 0 end if @count[:strike] == 3 @count[:strike] = 0 @count[:ball] = 0 @count[:out] += 1 end if @count[:out] == 3 @count[:out] = 0 end end @count endendcalculate_score メソッドにスコアカウントに必要な処理を全て詰め込んでいる書き方です。このプログラムは動きますが、一つのメソッドに複数の処理がベタ書きされており、パッと見で何の処理が書いてあるかわかりづらいです。もし、追加で「Hという文字が入力されたらヒットとして、スコアカウントをリセットせよ」のような仕様の変更があった場合、calculate_score メソッドの処理は、さらに複雑になってしまいます。私は、
</div><div class="ui-feed-item__date" title="2015-09-17 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-16-lean-beauty-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-16-lean-beauty-1/">ホットペッパービューティーのPCサイトで予約するメリットを伝えるA/Bテスト事例</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
紹介今回は「ホットペッパービューティー」UI改善についての事例を紹介します。目的クーポン・メニュー一覧画面のCVR向上。背景クーポンを選んでいる時点では、ポイント利用後の料金がわからない。仮説ポイント利用後の料金を表示することで、お得感（予約するメリット）が増し、予約意欲が向上するのではないか。予約の意思決定がしやすくなるのではないか。オリジナルページABテスト案A案ポイント利用後の金額表示（控え目）あまり強調せずに、補足情報のように表示した方が、ビューティーユーザーには好感度が良いのではないか……？ログイン済でポイントを保有しているカスタマーの画面では、カセット内のボタンがある右列以外にマウスを合わせると、料金がグレーの打ち消し線の表示に変わり、その上にポイント利用後の料金が表示される。B案ポイント利用後の金額表示（強調）もともと情報量の多いカセットなので、ある程度の変化をつけないと気付かれないのではないか……？ログイン済でポイントを保有しているカスタマーの画面では、クーポンカセット内の料金にアンダーラインがつき、カセット内のボタンがある右列以外にマウスを合わせると、背景色が変化し、料金はグレーの表示に変わり、ポイント利用後の料金が表示される。結果A案 オリジナルに対し101.69%のCVRB案 オリジナルに対し103.30%のCVR (信頼度98%) ★WIN★考察ポイント利用時の金額が把握できた方が、カスタマーは意思決定しやすい（割引表記が効いている可能性あり）クーポン一覧画面では、表示されているクーポン枚数も多く、1つ1つのクーポンカセット部分の情報量も多いため、Bパターン程度の変化があった方が、ポイント利用時の金額の表示に気づきやすく、効果が出た（それほど拒絶感もなかった）「ポイント利用時の金額がわかったこと」が有効だったのか、「値引き表記」が有効だったのかは、次回の検証ポイントとしたい。ホットペッパービューティーはリピートユーザーが多いため、リピーターが違和感を感じてしまう改善の場合、短期的なABテストの結果ではCVRが下がってしまうことが多々あります。これからもリーン開発チームから、事例共有していく予定です。</div><div class="ui-feed-item__date" title="2015-09-16 01:00:00">8年前
</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-14-engineer-portal-site-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-14-engineer-portal-site-1/">Tech Blogをポータルサイトに発展させるには《エンジニアサイト誕生の裏側 前編》</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
今回から3回に渡って、このリクルートライフスタイルのTech Blog、そしてTech Blogをなどを包括した「Recruit Lifestyle Engineer」サイト（以下、エンジニアポータルサイト）について、企画から実装までの裏側をお届けします。第1回目は、リクルートグループ初のエンジニアのためのサイト、エンジニアポータルサイトが企画された経緯と意図についてです。Tech Blogのリニューアル遡ること6ヶ月前、2015年4月頃、Tech Blogをリニューアルする、という話が持ち上がりました。2014年11月に旧Tech Blogが立ち上がってから4ヶ月、投稿された記事は4本しかありませんでした。Tech Blogの維持は既に様々な所で議論されているように、とても難しいことです。どうすればみんながTech Blogを書いてくれるのか……。必死に考えて出た結論は単純でした。ひとつは、執筆者をしっかりアサインし、書く習慣をつけ、Tech Blogで発信する面白さを知ってもらうこと。そしてもうひとつが、Tech Blogをリニューアルし、執筆意欲を高めよう、というものでした。採用サイトのリニューアルとシンクロ時を同じくして、人事部でもエンジニア採用サイトのリニューアルの話が持ち上がっていました。リクルートライフスタイルには、かつてよりエンジニアのためだけの採用サイトがあったのですが、こちらも活性化が図れていなかったのでリニューアルすることになったようです。リニューアルに合わせて、Tech Blogと採用サイトを連動させようという企画が持ち上がり、我々Tech Blogを主導しているエンジニアと人事、広報、採用サイトの制作会社の方など、10名を超える人間が集まりディスカッションの場が持たれました。そこで持ち上がったのが、エンジニアポータルサイトの構想でした。エンジニアが登壇したイベントやその資料、GitHubなどでOSS化されたプロジェクトのドキュメント、掲載された記事、採用情報、そしてTech Blogなど、リクルートライフスタイルのエンジニア情報がひとまとまりになったサイトです。リクルートグループでエンジニアのためのサイトは史上初だったのですが、各セクションで協力して取り組むことになりました！各セクションからの要望Tech Blogをリニューアルするに当たっ
</div><div class="ui-feed-item__date" title="2015-09-13 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-07-node8/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-07-node8/">Node.jsで作られたフレームワーク——HubotでTwitterのBotがお手軽に〈Node.jsシリーズ vol.8〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
最近、Node.jsで書かれたアプリケーションやフレームワークを多く見かけるようになりました。今回はそのひとつである「Hubot」を使って少し遊んでみたいと思います。HubotとはHubotとは、IRCやSlackなどのチャットツールやTwitterなどにおいて、特定の処理に反応して出力や返答などを行う「Bot（ボット）」の開発に特化したフレームワークです。GitHubがもともと社内用のシステムとして使用していたものがオープンソース化されたもので、サーバーなどの監視にチャットツールを使用していたOpsエンジニアを中心に人気が広がっています。このHubotはNode.jsで作られており、Botの挙動の定義に「CoffeeScript」を使用します。CoffeeScriptとは「CoffeeScript」は、JavaScriptにコンパイルされて動作するRubyライクなスクリプト言語で、従来のJavaScriptよりも短い構文で処理を記述することができます。JavaScriptユーザーの多くがまたこのCoffeeScriptを愛用し始めているため、今回は姉妹編ということで取り上げてみたいと思います。Hubot環境のセットアップHubotを動作させるためには、Node.jsに加えて以下の環境が必要となります。Redis（NoSQLデータベース）CoffeeScriptYeoman（プロジェクトひな形作成ツール）generator-hubot（Hubotのプロジェクト生成ツール）それぞれあらかじめインストールしておきましょう。Redisのインストール今回はredisをソースからインストールする方法をご案内します。yumやapt-get、MacPortsなどさまざまなインストール方法がありますので、それぞれの環境に応じたものを試して下さい。123456$ wget http://download.redis.io/releases/redis-3.0.3.tar.gz$ tar zxvf redis-3.0.3.tar.gz$ cd redis-3.0.3$ make$ make test$ sudo make installインストール後、redis-serverコマンドでサーバーを起動しておきます。Hubot、CoffeeScript、Yeoman、generator-h
</div><div class="ui-feed-item__date" title="2015-09-06 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-02-chrome-extension/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-09-02-chrome-extension/">社内WEBシステムを改修せずにChrome Extensionでユーザビリティを改善した話</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめまして、リーン開発チームでバックエンド開発を担当している亀山（@kametec_jp）です。早速ですが、タイトルの「社内WEBシステムを改修せずにChrome Extensionでユーザビリティを改善した話」に入りたいと思います。リクルートライフスタイルには、おしゃれな会議室が色々あります。こういうのとか、こういうのとか、こういうのとか、イスや机や壁紙の異なる会議室がいくつも存在します。問題点社内のWEBシステムは、会議室予約を行う際に、会議室の名前と定員人数しかわからない仕様になっており、改善案現状のシステムがイケてないので改修すればいい！ 何なら作り直した方が……。現状のWEBシステムはそのままで、ブラウザ拡張で対応してみる！Stylish等の拡張機能を使用することも考えたのですが、設定の難易度が若干高い（庶務さんやいろんな人が使用する）ため、Chrome Extensionを作成し、限定公開する形に決定しました。Chromeウェブストアに公開する際に、限定公開にすれば検索にはヒットしない上に、配布が簡単。Chrome の限定公開アプリの公開仕様について拡張機能の仕様は、できるだけシンプルにしました。&lt;dl&gt;タグをhoverした際に会議室の内装写真を表示する、というものです。チュートリアルを見れば大体わかると思うので、割愛させていただきます。簡単にコードを解説すると下記になります。manifest.json1234567891011{ ～省略～ &quot;content_scripts&quot;: [ { &quot;matches&quot;: [&quot;対象となるURL&quot;], &quot;js&quot;: [&quot;jquery-1.11.3.min.js&quot;,&quot;script.js&quot;], &quot;css&quot;: [&quot;styleEx.css&quot;], &quot;run_at&quot;: &quot;document_start&quot; } ]}matchesに今回の改善対象となるのURLを指定対象となるURLで、画面読み込みされた際に実行するJSと読み込むCSSを指定script.js123456789101112131415161718192021222324$(function(){ // 写真表示エリアのdiv作成 $(&quot;.mainContent&quot;).prepend(&quot;&lt;div id=&#92;&quot;extensionPict&#92;&quot; style=&#92;&quot;margin-top:
</div><div class="ui-feed-item__date" title="2015-09-01 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-28-node7/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-28-node7/">ちょっとした小技で効率UP——アプリケーションをデーモン化〈Node.jsシリーズ vol.7〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
これまで6回に渡ってNode.jsの魅力を解説してきたこの連載。今回はこれまでの連載では伝えられなかったNode.jsの細部を解説します。Node.jsの連載第1回目でも述べましたが、Node.jsは「サーバーサイドJavaScript」です。これまでさまざまな形のサーバースクリプトを書いては走らせてきましたが、実行はいずれもnode （ファイル名）というコマンドを打たなければいけませんでした。書いたスクリプトをサーバー上で継続動作させるためには、デーモン化したいところ。「forever」です。foreverは、既存のスクリプトをデーモン化するツールです。この仕組みを使うと、スクリプトを自動起動したり、何らかのエラーで途中終了してしまった場合の再起動といった処理を自動で行なってくれます。それではさっそくインストールしてみましょう。foreverのインストールnpm経由でのインストールが便利です。今回は$ sudo npm install -g foreverとして、sudo権限、かつ-gオプションでグローバルインストールにしましょう。これで完了です。Node.jsスクリプトをデーモンとして立ち上げるNode.jsスクリプトをデーモンとして起動するのも簡単です。以前作成した簡単なチャットサーバーを$ forever start app.jsとしてforeverで起動してみましょう。startの部分をstopに変えればデーモン停止、restartに変えればデーモン再起動です。この値、設定していないけどいいの？というwarnが出ますが、-sオプション（メッセージを標準出力に出さない）を設定することで出なくなります。パラメーターの種類については、オプションを付けないforeverコマンドで一覧することができます。123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263help: usage: forever [action] [options] SCRIPT [script-options]help:help: Monitors the script specified in the current
</div><div class="ui-feed-item__date" title="2015-08-27 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-21-node6/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-21-node6/">Node.jsを入れたRasberry Piで目覚ましをつくろう〈Node.jsシリーズ vol.6〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
前回の記事では、Node.jsを入れたRaspberry Piを使ったシンプルなIoT体験の方法について書きました。今回はさらにレベルアップして、Raspberry Piからハードウェアを制御しながら、同時にネット上にもデータを投げるデモを作ってみたいと思います。Raspberry Piでスイッチ入力を受け付ける前回はRaspberry Piに接続したLEDを点灯させるデモをご紹介しましたが、今回はその逆、Raspberry Piに接続したパーツからの入力を受けてみましょう。まずは簡単なスイッチを接続し、これが押されるとコンソールにメッセージを表示するコードを書きたいと思います。今回はタクタイルスイッチというシンプルな押しボタン式のスイッチで構成します。構成にあたっては「ラズベリーパイで手作り目覚まし時計！ストップボタン編」という記事を参考にさせていただきました。まずは、以下のようなコードを書いてRaspberry Pi上のNode.js環境で実行します。switch_receive.js1234567891011121314151617181920var fs = require(&#39;fs&#39;);// Raspberry Pi GPIOの21番ピンを入力モードに設定するfs.writeFileSync(&#39;/sys/class/gpio/export&#39;, 21);fs.writeFileSync(&#39;/sys/class/gpio/gpio21/direction&#39;, &#39;in&#39;);// 無限ループで21番ピンの状態を表示し続ける（ONなら1、OFFなら0）// ONとなったらループを抜けて終了var value = 0;while( 1 ) { value = fs.readFileSync(&#39;/sys/class/gpio/gpio21/value&#39;, &#39;ascii&#39;); console.log( value ); if ( value == 1 ) { break; }}// ループを抜けたら、21番ピンの使用を解除して終了fs.writeFileSync(&#39;/sys/class/gpio/unexport&#39;, 21);$ sudo node switch_receive.jsで起動しましょう。スイッチを押さない状態ではコンソールに0が表示され続けていますが……スイッ
</div><div class="ui-feed-item__date" title="2015-08-20 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-19-sparkr/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-19-sparkr/">SparkRをEC2上で動かして分散処理してみる</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！美味しいコーヒーを飲むために、毎朝早くにデスクでコーヒーミル回してます、アナリティクスチームの高柳です。アナリティクスチームでは、じゃらんnetやホットペッパービューティーをはじめとしたリクルートライフスタイルのサービスに対して、基礎集計やレポーティング、また、データマイニング（データ分析）を活用し、高速にサービスを改善していくというミッションを担っています。本記事では、データ分析環境としてのApache Spark、特にver 1.4から利用可能になったSparkRを、当チームのAWS上の分析環境に導入検討していたので、その辺について書きたいと思います。SparkRは、まだリリースから日が浅いことから、日本語の記事が相当に少ないので、この記事がみなさんの&quot;Happy SparkR ライフ&quot;のお役に立つことを願っております。Apache Spark導入の背景サービスを改善するために、俗にいうアドホックな分析をするケースが多々あるのですが、その際、分析・レポーティング作業のPDCAサイクルを、より高速により多くのデータで行うための環境が欲しいと考えていました。Sparkでは、分散処理技術に加えて、インメモリのキャッシング技術を実装することで高速処理が可能になっており、さらに、メモリ上で同じデータに対して異なるデータ分析/機械学習の手法適用を繰り返し処理したり、データの縦・横持ち変換や欠損の処理などのデータの前処理を繰り返し行う用途にも向いているということのなので、導入検討を開始しました。最近アナウンスがあった、【AWS発表】Elastic MapReduceリリース4.0.0がアプリケーションのアップデートと共に利用可能にを見ると、AWSコンソールのAmazon EMRからSparkのクラスタをGUI経由で簡単に起動できるようになっており、主にサイト改善への施策提言をデータ・ドリブン（データ側から考えるという意味で、ボトムアップ・アプローチとも呼んでいます）な視点から行うデータアナリストの同僚にも簡単にSpark上での分析環境（Spark Sharkの使用を想定）を展開できそうな点も要注目なポイントでした。始める前に本記事では、Apache Sparkの環境をAWSのEC2上に構築するため、あらかじめAWSのアカウントを作成しておくほか、環境変数としてアク
</div><div class="ui-feed-item__date" title="2015-08-18 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-18-node5/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-18-node5/">Raspberry Pi + Node.jsでIoTを体験しよう〈Node.jsシリーズ vol.5〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Node.jsシリーズもいよいよ上級編。今回からは、小型ワンボードコンピュータ「Raspberry Pi」を組み合わせ、いま流行りの「IoT」をNode.jsで実現してしまおうと思います。IoT（Internet of Things）とはIoTとは「Internet of Things」の略で、直訳すると「モノのインターネット」となります。これまでパソコンやスマートフォンを経由して接続するものだったインターネットを身の回りの他の機器に直接つなぎ、これまでになかった機能を実現してしまおうというものです。とはいえ、これまで通信機能を持っていなかった機器に�いちからインターネット接続の機能を持たせるためには専門的なハードウェアの知識が必要。なかなか手軽にチャレンジできるものではありませんでした。そんななか登場したのが、Raspberry Piです。Raspberry PiとはRaspberry Piとは、イギリスのRaspberry Pi Foundationによって開発されているワンボード型の超小型コンピュータです。ARMと呼ばれる組み込みコンピュータ用のマイクロチップを搭載しており、さまざまな電子部品を直接制御することができます。画期的なのは、最初からUSBと有線LAN端子がついていて、インターネットに接続する機能がついていたこと。そして、LinuxベースのOSが無料配布されていること。これによって電子部品を直接ネットワーク上から制御したり、逆に電子部品の動作をトリガーにしてインターネット上にデータを送ったりすることができるのです。2015年8月現在の最新モデルは「Raspberry Pi 2 Model B」で、Amazonなどでも気軽に購入することができます。Raspberry Pi + Node.jsで「Twitter通知ランプ」をつくる今回は、このRaspberry PiにNode.jsをインストールし、LEDを接続し、以前作ったTwitter通知アプリケーションをベースにした、Twitterでメンションを送るとLEDが点灯するシステム を作ってみたいと思います。まずは以下を用意します。Raspberry Pi 2 Model BmicroSDカード（本体にセットし、記憶領域として使用します）有線LANRaspberry Pi 電子工作キット（Amazonなど
</div><div class="ui-feed-item__date" title="2015-08-17 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-17-lean-jalan-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-17-lean-jalan-2/">購買行動の敷居を下げるA/Bテスト事例（じゃらんnet)</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。じゃらんnetのWebディレクションを担当しています廣田です。じゃらんnetでは、多くのデバイスや画面で様々なA/Bテストを行っています。今回は、商品の購入・ホテルの予約などの「購買行動」の敷居を下げてCVRを改善する施策の共有です。難しそうなことを書いていますが、内容はとても簡単ですので、すぐに検証ができると思います。今回のA/Bテストの背景料金の支払いが生じる「購買行動」は、多くの人が慎重になることだと思います。実際にじゃらんnetにおいても、宿情報やプランのページまでは閲覧する人が多いですが、その後の画面へのCTRが低く、CVRにつながらないという問題を抱えていました。今回は、プラン画面から次画面への遷移を促し、CVRを改善した事例をご紹介します。仮説次画面へのCTRを改善すると考えた場合、予約ボタンをいかに押してもらえるかが焦点だと思います。今回、『予約』ボタンを押した後に何が起こるのかわからず、カスタマーに不安を抱かせているのでは？という仮説を立てました。海外サイトの場合、ボタンを押すと確認画面があると思いきや、ワンクリックで購入が確定（料金が発生）することがあります。反対に、購入までにログインや住所入力、確認画面など何ステップも必要なサイトも多くあります。今回の施策は、次に起こることを丁寧に伝え、カスタマーの不安を払拭することにします。施策内容今回の仮説に対して、CTRを改善したいプラン画面で、プロセスが不明確と思われる予約ボタンを対象にA/Bテストをすることにしました。施策内容としては、まだ予約が完了するわけではないことを伝え、プラン画面の次にログインを求めることを表示します。オリジナルパターンテストパターン次の画面がログイン画面ということ、すぐに予約が完了されるわけではないことを「予約へ進む」ボタンの直下で伝えます。A/Bテスト結果CVRがオリジナル比104.1%となり、信頼度99%で有意な結果となりました。テスト結果の振り返りカスタマーの不安を減らすために、次のプロセスを明記することで、CVR改善することができる「予約へ進む」という文言だけでは曖昧であると考えられるということがわかりました。さらに、PC/スマホ等のデバイス特性による違いはあるのか？新規/リピートユーザのセグメントでの結果の差を見てみよう！予約ボタンの文言を変えても良いの
</div><div class="ui-feed-item__date" title="2015-08-16 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-06-bigdata-pipeline/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-06-bigdata-pipeline/">リクルートライフスタイルのビッグデータ</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、データ基盤チームの平本です。我々、データ基盤チームのミッションは2つあります。リクルートライフスタイル各サービスの分析担当者に対して、そのサービス、もしくは複数のサービスにまたがったユーザの行動を分析できる環境を提供する各サービスのデータを使ったOne to One、Cross-use施策のバッチを開発・運用し、各サービスに価値を提供する今回は第1回目ということで、我々が構築・運用しているビッグデータ環境の全体像について紹介します。基盤の全体像我々の基盤は、リクルートライフスタイル全サービスのデータを収集しています。収集したデータを基に、分析に使うマートやレコメンドに使うデータを作成しており、レコメンドのデータをサービス側のDBへエクスポートしたり、レコメンド結果を返却するAPIを用意したりすることで、各サービス側の画面にレコメンドを表示できるようになっています。これらのデータの流れを300本ほどのバッチで構築しています。TreasureData各サービスの行動ログを取込み、1次集計して保存している基盤です。Prestoを多用して、できる限り高速に集計処理を実施しています。ETL（Extract Transform Load）独自に実装しており、サービス側のDBのデータをRedshift/Netezzaへ並列インポートできるようになっています。Redshift/Netezzaサービス側のDBのデータから、マートやレコメンドデータを作成しています。マートを作るにあたって、行動ログが必要な場合は、TreasureDataからインポートしてデータ結合しています。RedshiftとNetezzaの役割は分かれており、NetezzaはSPSSを使いたい人向け（相性が良いので）に提供しています。Redshiftが登場する前にNetezzaを購入して運用していたので、このような使い分けとなっています。Redshiftは、簡単にスケールアップとスケールアウトができることから、多くの分析者に使ってもらっています。300人ほどの分析者が、Redshiftへクエリを投げています。バッチデータのリレーやDWHで実行する処理が書かれています。バッチはすべてPythonで書かれた独自フレームワークを使って実装しています。バッチのスケジューリングには、JP1を使用しています。ビッグデ
</div><div class="ui-feed-item__date" title="2015-08-06 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-03-swipe-refresh-layout/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-08-03-swipe-refresh-layout/">WaveSwipeRefreshLayoutをリリースしました！</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。研究開発チームでイケてるUI100を作っている美馬(@amyu_san)です。また、良い感じのViewを作ったので紹介します！WaveSwipeRefreshLayoutWaveSwipeRefreshLayout をOSSにしました！！https://github.com/recruit-lifestyle/WaveSwipeRefreshLayout使い方1) build.gradle に追加する123456789repositories { maven { url &quot;https://jitpack.io&quot; }}dependencies { compile &#39;jp.co.recruit_lifestyle:WaveSwipeRefreshLayout:1.0&#39;}2) XMLのレイアウトファイルに、AbsListViewの親になるように jp.co.recruit_lifestyle.android.widget.WaveSwipeRefreshLayout を追加する1234567891011&lt;jp.co.recruit_lifestyle.android.widget.WaveSwipeRefreshLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:id=&quot;@+id/main_swipe&quot;&gt; &lt;ListView android:id=&quot;@+id/main_list&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;/&gt;&lt;/jp.co.recruit_lifestyle.android.widget.WaveSwipeRefreshLayout&gt;3) リフレッシュが終わった時などのListenerを追加する12345678910111213141516mWaveSwipeRefreshLayout = (WaveSwipeRefreshLayout) findViewById(R.id.main_swipe);mWaveSwipeRefreshLayout.setOnRefreshListener(new WaveSwipeRefr
</div><div class="ui-feed-item__date" title="2015-08-03 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-29-node4/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-29-node4/">チャットを作りながら学ぶSocket.IO〈Node.jsシリーズ vol.4〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Node.jsの基本を順を追って展開していくこの連載。Socket.IOでリアルタイムWebを実感しよう前回はTwitter Streaming APIにアクセスしてそのデータをリアルタイムに表示しました。リアルタイムWebとはリアルタイムWebとは、その名の通り、Web上の異なるクライアント間でリアルタイムに通信を行うことです。ポーリングロングポーリングストリーミング前回、Twitterとの通信に使った方式WebSocketポーリング、ロングポーリング、ストリーミングはオーソドックスな技術、WebSocketはHTML5の仕様に含まれる比較的新しい技術です。このすべてを実装して切り替える、というのも大変ですね。Socket.IOを使うSocket.IOとは、これらリアルタイムWebの技術を簡単に使うためのフレームワークです。サーバー側の処理を実現するためのNode.jsライブラリと、クライアント側の処理を実現するためのJavaScriptライブラリで構成されています。Socket.IOは、アクセス環境に応じて最適なリアルタイムWebの手段を自動的に選択し、同一のインターフェースでリアルタイムWebを提供します。インストールパッケージがnpm上に用意されているので、インストールは簡単です。npm install socket.ioとterminalに入力しインストールできます。Socket.IOでリアルタイムチャットを作る今回はSocket.IOを使って、異なるクライアント間でリアルタイムなチャットができるシステムを作ってみます。サーバー側コードサーバー側では、画面用のHTTPサーバー、そして実際のチャット処理をSocket.IOで定義します。app.js1234567891011121314151617181920212223242526272829var http = require( &#39;http&#39; ); // HTTPモジュール読み込みvar socketio = require( &#39;socket.io&#39; ); // Socket.IOモジュール読み込みvar fs = require( &#39;fs&#39; ); // ファイル入出力モジュール読み込み// 3000番ポートでHTTPサーバーを立てるvar server = http.createServer( func
</div><div class="ui-feed-item__date" title="2015-07-28 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-29-beer-swipe-refresh-layout/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-29-beer-swipe-refresh-layout/">BeerSwipeRefreshLayoutをリリースしました！</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。研究開発チームでイケてるUI100を作っている美馬(@amyu_san)です。良い感じのViewを作ったので紹介します！BeerSwipeRefreshLayoutBeerSwipeRefreshLayout をOSSにしました！！使い方1) build.gradle に追加する123456789repositories { maven { url &quot;https://jitpack.io&quot; }}dependencies { compile &#39;jp.co.recruit_lifestyle:BeerSwipeRefreshLayout:1.0&#39;}2) XMLのレイアウトファイルに、AbsListViewの親になるように jp.co.recruit_lifestyle.android.widget.BeerSwipeRefreshLayout を追加する1234567891011&lt;jp.co.recruit_lifestyle.android.widget.BeerSwipeRefreshLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:id=&quot;@+id/main_swipe&quot;&gt; &lt;ListView android:id=&quot;@+id/main_list&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;/&gt;&lt;/jp.co.recruit_lifestyle.android.widget.BeerSwipeRefreshLayout&gt;3) リフレッシュが終わった時などのListenerを追加する12345678910111213141516mBeerSwipeRefreshLayout = (BeerSwipeRefreshLayout) findViewById(R.id.main_swipe);mBeerSwipeRefreshLayout.setOnRefreshListener(new BeerSwipeRefreshLayout.OnRefreshListener() { @Override public void onRefres
</div><div class="ui-feed-item__date" title="2015-07-28 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-29-floatingview/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-29-floatingview/">ちょっとした情報を表示できるFloating Viewのオープンソース化</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
研究開発チームでイケてるUI100を作っている曽川(@egg_sogawa)です。FloatingViewFloatingViewをオープンソース化しました。 GitHubからご利用ください。https://github.com/recruit-lifestyle/FloatingViewFloatingViewは、端末の最前面にちょっとした情報を表示するためのViewです。シンプルな使い方これを応用して広告を表示するような使い方※GitHubに上がっているものは実際の広告を表示できます使い方1) FloatingViewを使用したいプロジェクトにFloatingViewプロジェクトのlibraryを追加2) FloatingViewを表示するためのServiceを定義123public class ChatHeadService extends Service { ...}3) FloatingViewに表示するViewを設定（サンプルでは onStartCommand で設定）123final LayoutInflater inflater = LayoutInflater.from(this);final ImageView iconView = (ImageView) inflater.inflate(R.layout.widget_chathead, null, false);iconView.setOnClickListener(...);4) FloatingViewManager を使用しFloatingViewを設定1234mFloatingViewManager = new FloatingViewManager(this, this);mFloatingViewManager.setFixedTrashIconImage(R.drawable.ic_trash_fixed);mFloatingViewManager.setActionTrashIconImage(R.drawable.ic_trash_action);mFloatingViewManager.addViewToWindow(iconView, FloatingViewManager.SHAPE_CIRCLE, (int) (16 * metrics.density));なお、F
</div><div class="ui-feed-item__date" title="2015-07-28 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-24-swift2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-24-swift2/">Swift2でiOSアプリの開発を始める前に知っておくべきこと</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、プラットフォーム開発グループの山口洋平です。現在、新規iOSアプリをSwiftを使って開発しています。Swift2先月WWDC2015が開催され、そこで Swift2 が発表されました。Swiftのオープンソース化など色々と話題になりましたが、Swift自体も様々な機能拡張が行われ、これからのiOSアプリ開発は Swift2 が主流になっていくと思われます。Swift2を使ったアプリの申請は9月頃まで待つ必要がありますが、今回は先立ってSwift2を使ってコードを書くなら知っておくべき機能、テクニックについて紹介していきたいと思います。動作確認環境Xcode 7.0 β4 で動作確認を行いました。β版なので、今回紹介するコードは今後動かなくなる可能性があります。guard による早期リターンOptional型を扱うとき、その値がnilなら早く処理を終えたいと思うことが何度もありました。この場合、以下のようにネストが１つ深くなってしまうか、Forced Unwrapping する必要がありました。12345678910111213if let unwrappedName = userName { print(&quot;Your username is &#92;(unwrappedName)&quot;)} else { return}// あるいはif userName == nil { return}print(&quot;Your username is &#92;(userName!)&quot;) // forced unwrapping!Swift2から新規に追加された guard を使えば、こういった状況にスッキリ書けます。12345guard let unwrappedName = userName else { return}print(&quot;Your username is &#92;(unwrappedName)&quot;)if文に似ていますが、guard に与えられた条件が満たされなかった場合にelse節の処理が実行されます。guard let でバインドした変数は、guard 以降の行でも参照できるようになります。case によるパターンマッチSwiftでは、enum に Associated Values といって値を関連付けて保存させることができます。1234enum Barcode { case
</div><div class="ui-feed-item__date" title="2015-07-24 01:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-21-node3/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-21-node3/">Node.jsで作るTwitter通知アプリケーション〈Node.jsシリーズ vol.3〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Node.jsの基本を順を追って展開していくこの連載。前回まではNode.jsのインストールから簡単なモジュールの作成まで、基本的なステップをたどってきました。Node.jsでストリーミングデータを扱おうNode.jsの魅力は、なんといってもリアルタイム処理への強さ。Twitter Streaming APIをNode.jsで扱ってみましょう。Twitter Streaming APIを使うTwitter Streaming APIでは、Public streams（Twitter全体）、User streams（特定ユーザー）、Site streams（複数ユーザー）……といったいくつかの種類に分けてJSON形式のツイートデータを取得することが出来ます。詳しくは、Twitter社のドキュメントを参照してください。このAPIを使うためには、Twitter Application Managementにてアプリ登録の手続きが必要です。自分宛のリプライをリアルタイムに受け取る冒頭でも書いたTwitter Streaming APIのPublic Streamsから「statuses / filter」を取得してみたいと思います。Public API: POST statuses/filterTwitter Streamimg APIを使用するためにはOAuthによる認証、そしてHTTPリクエストが必要です。「twitter」モジュールを使ってAPIにアクセスします。「twitter」は、npm install twitterでインストールすることができます。インストールが終わったら、早速コードを書いてみましょう。reply_sample.js1234567891011121314151617181920// twitterモジュールを読み込みvar twitter = require(&#39;twitter&#39;);// アプリ登録時に取得したkeyを入れてOAuth認証し、初期化var client = new twitter({ consumer_key: &#39;【Consumer Keyの内容】&#39;, consumer_secret: &#39;【Consymer Secretの内容】&#39;, access_token_key: &#39;【Access Token Keyの内容】&#39;, access
</div><div class="ui-feed-item__date" title="2015-07-20 15:00:00">8年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-13-lean-hpg-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-13-lean-hpg-1/">ホットペッパー グルメのスマートフォンサイトで効果的にページ遷移してもらうUIとは？CVR4%アップのA/Bテスト事例</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは。リーン開発チームでホットペッパー グルメのUI改善を担当している松浪です。事業的バランスも取りながら日々UI改善に取り組んでいますが、今回はスマートフォンサイトでの、シンプルだけれども効果につながったA/Bテスト事例をご紹介します。A/Bテストの概要この画面の目的コースの一覧画面から、ユーザーが行きたいコースをよりスムーズに選べる。この画面のUIに求める機能条件にマッチしたコースを選別できる。タップすればそのコースの詳細が確認できるとわかるUIである。課題コースの一覧画面から詳細画面への遷移数が少ないことを改善する。仮説そもそも詳細画面があることがわからない、押せるということがわからないのではないか。対応詳細がある、ということを伝えるための複数パターンを用意。A/Bテストのパターンテストパターン概要パターンA「＞詳細」を「＞」に変更パターンB「＞詳細」を削除し、コース名を青字のクリッカブルリンクに変更結果テストパターンネット予約CVR改善率有意差パターンA101%有意差なしパターンB105%99%で有意差あり※オリジナルのネット予約CVRに対しての改善率「＞詳細」を削除し、コース名を青字のクリッカブルリンクに変更したパターンBが有意差ありで勝利考察「＞」「＞詳細」よりも、青字でクリッカブルリンク（≒詳細がある）と伝えた方がユーザーからわかりやすい。シンプルな事例ではありますが、特にスマートフォンサイトでは、端末やネットワーク環境の進化に伴ってUIのトレンドが変わる速度も速いので、設計当初の思想にとらわれず、常にユーザーフレンドリーなUI改善を行うことがサイトコンディションの最大化に繋がるという実証例となったのではないでしょうか。今後も大きな設計思想と小さなUI改善を織り交ぜながらUI、UXの最適化を目指していきますので、効果的な事例を共有していきます。</div><div class="ui-feed-item__date" title="2015-07-12 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" 
href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-10-lean-jalan-1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-10-lean-jalan-1/">じゃらんnetのスマートフォンページでコンバージョン率を4.6%上げたA/Bテスト事例</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！リーン開発チーム 大岩です。リーンアナリティクスグループでは、じゃらんnetやホットペッパー グルメ、ホットペッパービューティーをはじめとした利用者数が数百万～数千万の大規模なサイトを、A/Bテストを軸とした仮説検証型のアプローチ（リーン開発）で、高速にサービスを改善していくというミッションを担っています。その中で、A/Bテストを軸としたサイト改善として、課題発見→仮説立案→検証（A/Bテスト）→評価までを一貫して担当し、年間100件以上のサイト改善を行っています。また、既存サービスに対してAWSやNoSQL、KVS、Fluentdなどの利用、分析用途としてTableau、Adobeサービス活用にも積極的に取り組んでいます。実施内容においては、UI/UX、機能検証、アルゴリズムの検証など、様々な施策を展開しており、その中で今回はじゃらんnet スマートフォンページのUI改善についての事例を紹介します。A/Bテストの背景スマートフォンのトップページにあるキーワード検索のボックスは、ユーザ自体が何を検索すれば良いかわかりづらいという負がある複数キーワード検索ができるのにも関わらず、単一キーワードしか入力できないような表示になっているため、検索結果数が多くなり絞り込めないという負がある何度も再検索する場合に毎回一文字ずつ削除させるというのは操作的に負がある事前にアクセス解析ツールを使っての下調べ、およびUIの負といった定性データを用いて、負を出しています。仮説上記の背景より、キーワードに何を入力すれば良いかわからないユーザに対して、フォームを改善することで、より適切な検索が行われ、操作性が上がるのではないのか？という仮説を設定しました。オリジナルページ設計したA/Bテスト案は3つ。選ばれるのはどれか？A案×ボタンのみを追加するB案×ボタンとサンプル文言を入れたプレースホルダを追加するC案×ボタンと具体的な行動のサンプル文言を入れたプレースホルダを追加するテスト結果A案 結果変わらずB案 WIN! 信頼度90% CVR改善 約2.8%ポイントアップC案 WIN! 信頼度99% CVR改善 約4.6%ポイントアップテスト結果から得られた考察プレースホルダに追加する文言については、ただ例を書くだけでなく、より具体的に「何をしてほしいのか」「何ができるのか」を追記する
</div><div class="ui-feed-item__date" title="2015-07-10 13:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-10-angular3/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-10-angular3/">ユーザー登録フォームをディレクティブ化して再利用しよう〈Angularシリーズ vol.3〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
前提条件HTML、JavaScriptの基本的な知識執筆環境OS X 10.10AngualrJS 1.4.0前回までは、AngualrJSの基本的な使い方として、AngularJS標準ディレクティブの使い方を紹介してきました。ディレクティブとは、コントローラやサービスの処理を、HTMLのタグとしてView（DOM）側で使用できる仕組みです。ng-modelやng-controller、ng-repeatなどを使ってきました。今回はこのディレクティブを自作してみたいと思います。単純なフォームを作成下記機能を持った、単純な登録フォームを作成し、ディレクティブの扱い方を紹介したいと思います。入力項目名前（必須）メールアドレス（形式チェック）機能入力に誤りがある場合、エラーを表示するエラーがある場合、登録ボタンをクリックできないライブラリを読み込むindex.html12345678910111213141516&lt;!-- ライブラリ --&gt;&lt;!DOCTYPE html&gt;&lt;html ng-app=&quot;MyApp&quot;&gt; &lt;head&gt; &lt;meta lang=&quot;ja&quot; charset=&quot;UTF-8&quot;&gt; &lt;!-- ライブラリ --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css&quot;&gt; &lt;!-- AngularJSの処理を記述する --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;script.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt;&lt;/html&gt;AngularJSに加えて、jQuery、Bootstrapを使います。script
</div><div class="ui-feed-item__date" title="2015-07-10 12:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-03-node2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-07-03-node2/">npm実践！　モジュールをインストールしQRコードを生成しよう〈Node.jsシリーズ vol.2〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
Node.jsの基本を順を追って展開していくこの連載では、前回に続いてNode.jsの代表的パッケージマネージャー・npmの使い方と、そもそもモジュールとはなにかということをお伝えします。モジュールを書いてみよう他の言語と同じく、Node.jsではコードの内容をモジュールとして定義し、外部化することができます。モジュールはファイル単位で定義し、コード中から require(モジュールへのパス)を記述することでオブジェクトとして読み込む事ができます。モジュールへのパスは、呼び出し元ファイルからの相対パスで記述します。node_modulesというディレクトリ配下におかれたモジュールは、コアモジュールと同じようにパス記号を付けず呼び出すことができます。拡張子は省略することができます。その1：変数を定義したモジュール（相対パスで読み込み）簡単な例として、コンソールに出力する文言を定義するモジュールと、それを呼び出すコードを書いてみましょう。module_sample.js12var message = &#39;This is message from MODULE&#39;;module.exports = message;最後の1行に注目して下さい。module.exportsというプロパティに、文言を定義したmessageを代入していますね。requireは、この内容を返します。呼び出し元のコードも書いてみましょう。sample.js12var message = require( &#39;./module_sample&#39; ); // モジュール呼び出しconsole.log( message );$ node sample.jsで実行してみると「This is message from MODULE」という文字が表示されるはずです。モジュールから読み込んだ内容をコンソールに表示できました！その2：オブジェクトを定義したモジュール（node_modulesディレクトリから呼び出し）上記の例ではモジュールにて変数を定義しましたが、もちろんオブジェクトを定義することもできます。module_object.js12345678910111213var sample = {};// 代入した数の2乗を返すsample.square = function ( x ) { return Math.p
</div><div class="ui-feed-item__date" title="2015-07-02 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-29-angular2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-29-angular2/">カスタムフィルターで実現する複数ワード検索機能〈Angularシリーズ vol.2〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
前提条件HTML、JavaScriptの基本的な知識執筆環境OS X 10.10AngualrJS 1.4.0ToDoアプリのおさらい今回は、前回作ったToDoアプリを拡張してみます。ToDoの一覧表示ToDoの新規作成完了したToDoのチェック完了したToDoのアーカイブToDoの検索これらの機能を持つ、アプリの構成は下記の通りでした。index.html12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html ng-app=&quot;ToDo&quot;&gt;&lt;head&gt; &lt;meta lang=&quot;ja&quot; charset=&quot;UTF-8&quot;&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;script.js&quot;&gt;&lt;/script&gt; &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt; &lt;title&gt;ToDo&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div ng-controller=&quot;TodoController as vm&quot;&gt; &lt;form ng-submit=&quot;vm.create()&quot;&gt; &lt;input type=&quot;text&quot; ng-model=&quot;vm.newTodo&quot; placeholder=&quot;ToDo名を入力&quot;&gt; &lt;input type=&quot;submit&quot; type=&quot;button&quot; value=&quot;新規作成&quot;&gt; &lt;input type=&quot;button&quot; ng-click=&quot;vm.archive()&quot; value=&quot;完了したToDoをアーカイブ&quot;&gt; &lt;/form&gt; &lt;form&gt; &lt;input type=&quot;text&quot; ng-model=&quot;vm.keyword&quot; placeholder=&quot;ToDoを検索&quot;&gt; &lt;/form&gt; &lt;ul ng-repeat=&quot;todo in vm.todos | filter:vm.keyword&quot;&gt; &lt;li&gt; &lt;input type=&quot;checkbox&quot; ng-model=&quot;
</div><div class="ui-feed-item__date" title="2015-06-28 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-25-ui100/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-25-ui100/">開発者の文化を変えるきっかけに「イケてるUI100本ノック」</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは、スマートデバイス開発チーム基盤担当の豊島です。現在、スマートフォンアプリの開発を行うこのチームで、新しい技術の研究開発や、開発品質の向上に取り組んでいます。本エントリでは、研究開発の施策の一つとして行っている「イケてるUI100本ノック」についてご紹介したいと思います。イケてるUI100本ノックの概要イケてるUI100本ノックとは、iOS・Androidそれぞれのアプリ向けに、その名の通り100個のUIパーツを作る施策です。期間は半年間！ただ作るだけではなく、イケてるUIを目指し、100個中10個はリクルートライフスタイルから既に出しているアプリに実際に装着してもらおうと思っています。そして、中でも一押しのUIパーツはオープンソースとして公開します！施策の背景リクルートライフスタイルでは、アプリを使ってくれる方たちにとってより良いものにするべく、月に一回以上のペースで目まぐるしく改善を繰り返しています。それでも、改善のための施策としてやりたいことは山ほどあり、優先度が高いものから取り組んでいます。そのため動きのあるUIにこだわったり、新しい技術を試しながら作っていく時間を確保できないことも少なくありません。そんな状況を見直すきっかけにするべく、基盤R&amp;Dチームで試行錯誤しながらUI100個を作ってみることにしました。施策の目的今回の取り組みを行うにあたり、2つの目的があります。1つ目の目的は、新しい技術や細部にこだわることの価値を証明することです。我々が作ったUIを実際のアプリに装着したり、オープンソースとして世の中に公開すること、新しい技術や、今まで扱ってこなかった技術を一歩踏み込んで取り組んだり、UIの細かなところまでこだわって作りこむこと。これに時間を割くことは、ユーザーに提供できる可能性を広げることにつながる価値があると思っています。（あと作っている本人も楽しい！）2つ目の目的は、アプリの企画者と開発者のお互いの観点を共有して理解を深める機会を作ることです。今回は作ったUIを既存のアプリに採用してもらうことも目標の一つとしています。なので、アプリの施策を企画している人たちにUIを今後どんどん持ち込んでいきます。ただ作るだけでなく、企画者とコミュニケーションをとりながら進めることで、アプリの企画者がどんな観点でUI/UXを考えているのか、我々開発者
</div><div class="ui-feed-item__date" title="2015-06-24 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-22-slack-mail/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-22-slack-mail/">15分でできる、Slack一行でメールが送れるシステム</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
前提条件SlackとHerokuのアカウントを持っているterminalなどのCLIを触ったことがあるXcodeとCommand Line ToolsがインストールされているHomebrewがインストールされている執筆環境OS X 10.10Atom 0.2Slackとは？いまや飛ぶ鳥を落とす勢いのチーム向けコミュニケーションツール・Slack。単にメッセンジャーとしても便利ですが、Integrationと呼ばれる外部ツールとの連携機能を使うと格段に出来ることの幅が広がります。Hubotなどを使って様々なbotを動かしているSlackを他のTech Blogなどで見たことがある方も多いのではないでしょうか。しかし、いくらSlackが便利でも、ビジネスではまだまだメールを使う機会が多いのも事実です。事実、SlackのCEOも「Eメールはなくならない」と言っています。そこで、Slackからサクッとメールを送れるようにできないかなと思い、Integrationを使って簡単なWebアプリケーションを作ってみました。Heroku、SendGridとは？Webアプリケーションを作るためにはWebサーバが必要です。また、今回はメールを送信するのでSMTPサーバも必要になります。これらを一から準備するのは大変なので、いま流行のPaaS・HerokuをWebサーバとして、Foursquareなどにも使われているメール送信サービス・SendGridをSMTPサーバとして使いたいと思います。Herokuは登録さえすれば一定量までのコンピューティングを無料で行え、大変便利なのでこの機会にぜひ使ってみて下さい。SendGridも登録さえすれば（今回はHerokuのadd-onを使うので登録する必要はありません）、一日に400通までのメールを無料で送信できるメール配信サービスです。今回は、SlackのWebHooksというIntegrationを使って、Slackから自分で設定したコマンド（「mail [送信先メールアドレス] [タイトル] [本文]」を想定）を打つことで、Herokuを通してSendGridでメールを送信するWebアプリケーションを作っていきたいと思います。HerokuのCLIツールをインストールして、add-onを追加以降の作業は基本的にすべてterminalで行います。ま
</div><div class="ui-feed-item__date" title="2015-06-22 01:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-22-angular1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-22-angular1/">ToDoアプリを作って理解するAngularJSの基礎〈Angularシリーズ vol.1〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
前提条件HTML、JavaScriptの基本的な知識執筆環境OS X 10.10AngualrJS 1.4.0AngularJSとはAngularJS（アンギュラージェイエス）は、Googleとコミュニティによって開発されているJavaScriptのOSSフレームワークです。jQuery, Backbone.js, Knockoutを始め、最近ではReact.js界隈が賑わっており、近年、フロントエンドのフレームワークは日々めまぐるしいスピードで発展しています。その中でも、AngularJSは、2012年6月にバージョン1.0.0がリリースされてから、2015年6月現在でバージョン1.4まで発展しており、人気のフレームワークとなっています。さらに今冬には、Angular 2の正式リリースを控え、益々注目を浴びています。本連載では、AngularJSの基礎を解説しながら、実際にアプリケーションを書いて、その利便性を感じてもらえればと思っています。ToDoアプリを作るまずは、AngularJSの魅力を知ってもらうため、簡単なToDoリストのWebアプリケーションを作ってみましょう。ToDoアプリは、以下の機能をもったアプリと定義します。ToDoの一覧表示ToDoの新規作成完了したToDoのチェック完了したToDoのアーカイブToDoの検索ToDoの一覧表示まずは、ToDoを一覧表示してみましょう。1&lt;html ng-app=&quot;ToDo&quot;&gt;属性ng-appにToDoを指定します。これは、AngularアプリケーションでToDoというモジュールを使用するという意味です。123456&lt;head&gt; &lt;meta lang=&quot;ja&quot; charset=&quot;UTF-8&quot;&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;script.js&quot;&gt;&lt;/script&gt; &lt;title&gt;ToDo&lt;/title&gt;&lt;/head&gt;&lt;head&gt;&lt;/head&gt;内にAngularJSファイルを読み込みます。また、ToDoアプリのロジックを記述するscript.
</div><div class="ui-feed-item__date" title="2015-06-22 00:59:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-22-node1/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-06-22-node1/">Node.jsで5行Webサーバを書いてみよう〈Node.jsシリーズ vol.1〉</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
今回から、代表的なサーバーサイドJavaScriptである「Node.js」を実際に触りながらご紹介していきたいと思います。フロントエンドに登場する印象が強いJavaScriptですが、サーバー上でこれが動いてしまうとは、どういうことなんでしょうか？ そして、それによってどんなメリットがあるんでしょう？ 初回となるこの記事では、そのあたりの説明からはじめたいと思います。Node.jsの特徴Node.jsとは、Google V8 JavaScript Engine上で動作するサーバーサイドJavaScript環境です。2009年、ライアン・ダール氏によって開発が始まり、2015年6月現在の安定版は0.12.4となっています。WebサイトJavaScriptのわかりやすい文法に加え、DBへのアクセスなどさまざまな機能を持ったバイナリ形式のコアモジュールを読み込むことで、比較的簡単かつ高機能なサーバープログラムを記述することができます。最近ではLinkedInのモバイルサイトやWalmartなどの大企業のサービス、またGitHubが開発したチャットボットフレームワーク「Hubot」にも採用されているNode.js。いったいどんな点が魅力的なのでしょうか。サーバーを書きやすいNode.jsの大きな特長のひとつは「イベント駆動型言語」であるということ。プログラムは起動すると同時にイベントを待機する状態となります。言語の基本仕様にこの仕組が組み込まれているため、私達はイベントハンドラを記述することにのみ専念することができます。この「イベント駆動型」は、随時リクエストを受け付けるサーバープログラムを記述する上ではとても好都合というわけです。非同期処理でリクエストをがんがんさばけるNode.jsのイベント処理は「ノンブロッキング（非同期）IO」という方式をとっています。簡単にいえば「通信の完了を待たずにどんどんリクエストを処理していく」ということ。一般的にはプロセスごとの通信がひと通り完了してから次のリクエストを処理しますが、Node.jsでは文字通り非同期にどんどんリクエストを受け付けていくため、サーバーの返答待ちが発生しないのです。たとえばNode.jsでWebサーバーを記述した場合、Apacheなどの一般的なWebサーバーに比べ、同規模ではるかに大量のリクエストをさばくことが
</div><div class="ui-feed-item__date" title="2015-06-22 00:58:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-03-03-making-android-tv/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-03-03-making-android-tv/">Android TVアプリの開発事情</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
研究開発チーム(バイト)の美馬（@amyu_san）です。2014年のGoogle I/Oで初お披露目となったAndroid TVのアプリ開発についてのお話です｡Android TVとは「好みに合わせて選べるエンターテイメント」をコンセプトにしたTV向けのAndroid OSです｡出典（2015年1月現在）とりあえず最先端に手を出すスタイル2014年のGoogle I/Oで配っていたAndroid TV&quot;ADT-1“を手に入れ､すぐにリクルートライフスタイルでは検証や開発を行っていきました｡&quot;Beauty for Android TV”この記事では、Android TV用アプリ開発の苦労話や開発が楽になる方法などをつらつら紹介していきます!Leanback Support LibraryAndroid TV向けのアプリ開発はゲームアプリなどではない限り､基本的にはv17から提供されているLeanback Support Libraryを使用します｡androidtv-Leanbackを読んでみることをオススメします｡D-Pad対応Android TVは当然のことながらタッチ操作を行うことが出来ません｡これはレイアウトXMLのFocusで対応することで解決が可能になっています｡上から下に流れるようなFocusの変化が望ましいですね!AndroidManifestのuses-featureの指定Android TV向けに最適化されたアプリはスマートフォンなどでインストールが出来ないよう制限する必要があります｡Android DevelopersのHandle Unsupported Hardware FeaturesではtouchscreenやNFC,Cameraなど9つのhardware featuresをサポートしないで良いと書かれています。こちらもandroidtv-Leanbackに書いてあるのでぜひぜひ読んでみてください｡Recommendation Cardの作成Android TVではホーム画面にRecommendation Cardを表示することが出来ます｡コレ作るのは実は結構簡単で､サンプルコードが非常に参考になります｡しかし､問題なのが「Recommendation Cardにフォーカスが当たった時､背景を変えなければならない｡ もしRecommen
</div><div class="ui-feed-item__date" title="2015-03-02 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-01-15-using-ibeacon-on-android5/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2015-01-15-using-ibeacon-on-android5/">Android 5.0（Lollipop）におけるiBeaconについて</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
はじめまして！@egg_sogawa）です！2015年、いよいよ本格的にサービスに実装されそうな「iBeacon」についてのお話です。iBeaconって何？iBeaconはAppleが仕様を決めたBLE（Bluetooth Low Energy）を利用したデータの発信方法です。なぜいまさらiBeaconに注目したか？iOS7が登場して1年半、いまさらと思われるかもしれませんが、技術は発展すれどもそれを実際に利用するには時間がかかるものです。JR東京駅でiBeaconを利用したナビゲーションシステムが12月18日にスタート（週アスPlus）ですが、取り上げた理由はこれだけではありません。iBeaconとAndroidiOS7からiBeaconがサポートされたため、iBeacon=「iOSの専用機能」と認識している方がいらっしゃるかもしれませんが、Androidでも可能です。BLEのAPIレベルでの対応状況OSバージョン受信発信Android4.2以下✕✕Android4.3◯✕Android4.4◯✕Android5.0以降◯◯上の表はあくまでAPIレベルの対応状況です。AndroidでのBLEに関しては、公式での解説動画がありますのでこちらを参照してください。Bluetooth Low Energy（Google Developers） さて、気を取り直してAPIの解説をしていきたいのですが、BLEの扱い方は4.3と5.0で異なります。4.3で使われていたAPIは非推奨になりました。（Androidの公式ドキュメントはAndroid4.3でのBLEの解説をしているので混乱しないように気をつけてください：2014年12月時点）android.bluetooth.leパッケージAndroid4.3では、android.bluetoothというパッケージのクラスを使ってBLEを使用していました。android.bluetooth.leパッケージというBLE専用のパッケージが用意されました。このパッケージ内の、BluetoothLeScannerが、受信を行うクラス、BluetoothLeAdvertiserが送信を行うクラスです。BLE（iBeacon）の受信コードのスニペットを用いて解説していきます。AndroidManifest.xmlにBluetoothのパーミッシ
</div><div class="ui-feed-item__date" title="2015-01-14 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2014-12-25-it-engineers-in-rls/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2014-12-25-it-engineers-in-rls/">リクルートライフスタイル（RLS）のエンジニア組織と採用について</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
リクルートライフスタイルネットビジネス本部ディベロップメントデザインユニットユニット長の東（あずま）です。当ユニットは、リクルートライフスタイルの運営しているプロダクトの設計・開発全般を担っている組織で、主にじゃらん、ホットペッパーグルメ、ホットペッパービューティー、AirレジなどのWebサイト／スマートフォンアプリのUXデザイン、及び企画ディレクション、エンジニアリングを担当しています。これまで、リクルートライフスタイルでは、事業運営、企画ディレクター、UXデザイナーなどの職種とは対照的に、エンジニア採用は明確に採用ページや職種、キャリアステップなどの公開を行っておりませんでした。今回、一部ではありますがこれらを公開させて頂き、我々の組織や活躍するエンジニア人材などの一端と、新しくスタートしたリクルートライフスタイルのエンジニア採用に関してお伝いできれば幸いです。背景リクルートライフスタイルの大切にしている風土・文化を表す言葉として「圧倒的な当事者意識」があります。今後、現在のサービス群及び、今後さらに新規サービスを立ち上げ、さらに進化させていく為に、「圧倒的な当事者意識」を持ったエンジニアによって、新しいエンジニア組織に刷新していくべく、また、エンジニア文化を自ら作り育てていきたいというチャレンジ精神のある方を募集しています。現在の組織体制現在、機能組織制を採用しており、企画ディレクション／UX／エンジニア／アーキテクト・インフラ、など、それぞれが専門組織であるグループという単位に分かれており、グループはプロダクト担当毎に複数チームで構成されています。チーム間の移動も比較的自由度が高く、非常にフラットな組織構成です。エンジニアのグループは、社員エンジニア、パートナーエンジニア合わせて500名以上のエンジニアが30超のプロダクトにて日々プロダクトの開発を支えています。最近は、プロダクトの内製化を前提に、一部『Airレジ』などの新しいプロダクトの開発チームから徐々にアジャイル開発を採用しています。よって、エンジニアも企画段階からディレクタとともに参画していくことが求められ、環境や言語に関しては、特に新規サービスを検討する上ではエンジニア主導で選択することが求められています。エンジニアの職種・ミッション現在、アプリケーションエンジニア／フロントエンドエンジニア／アーキ
</div><div class="ui-feed-item__date" title="2014-12-24 15:00:00">9年前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://engineer.recruit-lifestyle.co.jp/techblog/2014-11-12-using-github-enterprise-2/"><img src="../../images/alternate-feed-image.png" loading="lazy" alt="記事のアイキャッチ画像" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://engineer.recruit-lifestyle.co.jp/techblog/2014-11-12-using-github-enterprise-2/">GitHub Enterpriseのこれまでの運用と2.0の新機能とつまづきどころ</a><div class="ui-feed-item__blog-title">Recruit Engineer</div><div class="ui-feed-item__summary">
こんにちは！研究開発チーム 荒川（@Morikuma_Works）です。本日よりリクルートライフスタイルのエンジニアブログを開設いたしました。GitHub Enterprise 2.0の使用感とセットアップ時にハマった事例とともに、そもそもなぜ弊社がGitHub Enterpriseを使い始めるに至ったか、運用してみてどうだったか、に関して紹介できればと思います。GitHub EnterpriseとはGitHub Enterpriseとは、GitHub.comを自分の環境で運用できるオンプレミス版のGitHub.comのようなサービスです。弊社ではGitHub.comは使わずに、GitHub Enterpriseを用いてソースコードの管理、コードレビュー（Pull Request開発）などを行っております。以前までは、VMware ESXiやVirtualBoxへデプロイできるVMイメージが供給され、それらハイパーバイザー上でGitHub Enterpriseを社内向けにホスティングしておりましたが、今回のGitHub Enterprise 2.0へのバージョンアップにより、Amazon Web Serrvice上でホスティングすることが可能になりました。導入のきっかけ弊社では元々Subversionでソースコード管理をしていました。しかし、ブランチ運用のコスト、マージのコスト、スムーズなコードレビュー環境がない、などのソースコード管理にまつわる負が多数ありました。そこで考えたのが、Gitによるソースコード管理と、それをホスティングするサービスの導入でした。導入するサービスを検討するにあたって、エンジニアが使い慣れているUIであることGitホスティングシステムが安定していることPull Request機能を有することチケット管理システムであるJIRAとの最低限の連携が行えること上記4点に着目し、いろいろな候補はあったのですが最終的にGitHub Enterpriseを選定しました。これまでの運用方法弊社のGitHub Enterpriseをホスティングしていた自作の社内サーバは下記のようなスペックです。CPUMemoryHDDHypervisor価格Intel Core i7 4930K64GB2TBVMware ESXi 5.5約20万円なお、このサーバではGit
</div><div class="ui-feed-item__date" title="2014-11-11 15:00:00">9年前</div></div></div></div></div></section></main><footer role="contentinfo" class="ui-section-footer"><div class="ui-layout-container"><div class="ui-layout-column-6 ui-layout-column-center"><div class="ui-component-cta ui-layout-flex ui-section-footer__site-info"><p class="ui-text-note">このサイトは<br>記事を読んでその企業の技術・カルチャーを知れることや<br>質の高い技術情報を得られることを目的としています。</p><p class="ui-text-note">追加したいブログがある場合は<br><a href="https://github.com/yamadashy/tech-blog-rss-feed#%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E8%BF%BD%E5%8A%A0%E6%96%B9%E6%B3%95">サイトの追加方法</a> をご参照ください。</p></div></div></div><div class="ui-layout-container"><div class="ui-section-footer__layout ui-layout-flex"><p class="ui-section-footer--copyright ui-text-note"><a class="ui-text-note" href="https://github.com/yamadashy/"><small>@yamadashy</small></a></p><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" class="ui-text-note"><small>GitHub
</small></a></div></div></footer></body></html>